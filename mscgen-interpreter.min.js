!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=37)}([function(t,e,n){t.exports=function(){"use strict";var t=navigator.userAgent,e=navigator.platform,n=/gecko\/\d/i.test(t),r=/MSIE \d/.test(t),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),o=/Edge\/(\d+)/.exec(t),a=r||i||o,l=a&&(r?document.documentMode||6:+(o||i)[1]),u=!o&&/WebKit\//.test(t),s=u&&/Qt\/\d+\.\d+/.test(t),c=!o&&/Chrome\//.test(t),f=/Opera\//.test(t),h=/Apple Computer/.test(navigator.vendor),d=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),g=/PhantomJS/.test(t),p=!o&&/AppleWebKit/.test(t)&&/Mobile\/\w+/.test(t),v=/Android/.test(t),m=p||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),y=p||/Mac/.test(e),w=/\bCrOS\b/.test(t),b=/win/i.test(e),x=f&&t.match(/Version\/(\d*\.\d*)/);x&&(x=Number(x[1])),x&&x>=15&&(f=!1,u=!0);var k=y&&(s||f&&(null==x||x<12.11)),_=n||a&&l>=9;function C(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var L,S=function(t,e){var n=t.className,r=C(e).exec(n);if(r){var i=n.slice(r.index+r[0].length);t.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function M(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function O(t,e){return M(t).appendChild(e)}function T(t,e,n,r){var i=document.createElement(t);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof e)i.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function A(t,e,n,r){var i=T(t,e,n,r);return i.setAttribute("role","presentation"),i}function N(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function E(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function D(t,e){var n=t.className;C(e).test(n)||(t.className+=(n?" ":"")+e)}function B(t,e){for(var n=t.split(" "),r=0;r<n.length;r++)n[r]&&!C(n[r]).test(e)&&(e+=" "+n[r]);return e}L=document.createRange?function(t,e,n,r){var i=document.createRange();return i.setEnd(r||t,n),i.setStart(t,e),i}:function(t,e,n){var r=document.body.createTextRange();try{r.moveToElementText(t.parentNode)}catch(t){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r};var F=function(t){t.select()};function W(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function H(t,e,n){for(var r in e||(e={}),t)!t.hasOwnProperty(r)||!1===n&&e.hasOwnProperty(r)||(e[r]=t[r]);return e}function P(t,e,n,r,i){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=r||0,a=i||0;;){var l=t.indexOf("\t",o);if(l<0||l>=e)return a+(e-o);a+=l-o,a+=n-a%n,o=l+1}}p?F=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:a&&(F=function(t){try{t.select()}catch(t){}});var I=function(){this.id=null};function z(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}I.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var R=30,j={toString:function(){return"CodeMirror.Pass"}},G={scroll:!1},U={origin:"*mouse"},V={origin:"+move"};function q(t,e,n){for(var r=0,i=0;;){var o=t.indexOf("\t",r);-1==o&&(o=t.length);var a=o-r;if(o==t.length||i+a>=e)return r+Math.min(a,e-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=e)return r}}var X=[""];function K(t){for(;X.length<=t;)X.push(Z(X)+" ");return X[t]}function Z(t){return t[t.length-1]}function J(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r);return n}function Q(){}function Y(t,e){var n;return Object.create?n=Object.create(t):(Q.prototype=t,n=new Q),e&&H(e,n),n}var $=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function tt(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||$.test(t))}function et(t,e){return e?!!(e.source.indexOf("\\w")>-1&&tt(t))||e.test(t):tt(t)}function nt(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var rt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function it(t){return t.charCodeAt(0)>=768&&rt.test(t)}function ot(t,e,n){for(;(n<0?e>0:e<t.length)&&it(t.charAt(e));)e+=n;return e}function at(t,e,n){for(var r=e>n?-1:1;;){if(e==n)return e;var i=(e+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==e)return t(o)?e:n;t(o)?n=o:e=o+r}}function lt(t,e,r){var i=this;this.input=r,i.scrollbarFiller=T("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=T("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=A("div",null,"CodeMirror-code"),i.selectionDiv=T("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=T("div",null,"CodeMirror-cursors"),i.measure=T("div",null,"CodeMirror-measure"),i.lineMeasure=T("div",null,"CodeMirror-measure"),i.lineSpace=A("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var o=A("div",[i.lineSpace],"CodeMirror-lines");i.mover=T("div",[o],null,"position: relative"),i.sizer=T("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=T("div",null,null,"position: absolute; height: "+R+"px; width: 1px;"),i.gutters=T("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=T("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=T("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),a&&l<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),u||n&&m||(i.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(i.wrapper):t(i.wrapper)),i.viewFrom=i.viewTo=e.first,i.reportedViewFrom=i.reportedViewTo=e.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,r.init(i)}function ut(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(e<o){n=i;break}e-=o}return n.lines[e]}function st(t,e,n){var r=[],i=e.line;return t.iter(e.line,n.line+1,function(t){var o=t.text;i==n.line&&(o=o.slice(0,n.ch)),i==e.line&&(o=o.slice(e.ch)),r.push(o),++i}),r}function ct(t,e,n){var r=[];return t.iter(e,n,function(t){r.push(t.text)}),r}function ft(t,e){var n=e-t.height;if(n)for(var r=t;r;r=r.parent)r.height+=n}function ht(t){if(null==t.parent)return null;for(var e=t.parent,n=z(e.lines,t),r=e.parent;r;e=r,r=r.parent)for(var i=0;r.children[i]!=e;++i)n+=r.children[i].chunkSize();return n+e.first}function dt(t,e){var n=t.first;t:do{for(var r=0;r<t.children.length;++r){var i=t.children[r],o=i.height;if(e<o){t=i;continue t}e-=o,n+=i.chunkSize()}return n}while(!t.lines);for(var a=0;a<t.lines.length;++a){var l=t.lines[a],u=l.height;if(e<u)break;e-=u}return n+a}function gt(t,e){return e>=t.first&&e<t.first+t.size}function pt(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function vt(t,e,n){if(void 0===n&&(n=null),!(this instanceof vt))return new vt(t,e,n);this.line=t,this.ch=e,this.sticky=n}function mt(t,e){return t.line-e.line||t.ch-e.ch}function yt(t,e){return t.sticky==e.sticky&&0==mt(t,e)}function wt(t){return vt(t.line,t.ch)}function bt(t,e){return mt(t,e)<0?e:t}function xt(t,e){return mt(t,e)<0?t:e}function kt(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function _t(t,e){if(e.line<t.first)return vt(t.first,0);var n=t.first+t.size-1;return e.line>n?vt(n,ut(t,n).text.length):function(t,e){var n=t.ch;return null==n||n>e?vt(t.line,e):n<0?vt(t.line,0):t}(e,ut(t,e.line).text.length)}function Ct(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=_t(t,e[r]);return n}var Lt=!1,St=!1;function Mt(t,e,n){this.marker=t,this.from=e,this.to=n}function Ot(t,e){if(t)for(var n=0;n<t.length;++n){var r=t[n];if(r.marker==e)return r}}function Tt(t,e){for(var n,r=0;r<t.length;++r)t[r]!=e&&(n||(n=[])).push(t[r]);return n}function At(t,e){if(e.full)return null;var n=gt(t,e.from.line)&&ut(t,e.from.line).markedSpans,r=gt(t,e.to.line)&&ut(t,e.to.line).markedSpans;if(!n&&!r)return null;var i=e.from.ch,o=e.to.ch,a=0==mt(e.from,e.to),l=function(t,e,n){var r;if(t)for(var i=0;i<t.length;++i){var o=t[i],a=o.marker,l=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);if(l||o.from==e&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var u=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);(r||(r=[])).push(new Mt(a,o.from,u?null:o.to))}}return r}(n,i,a),u=function(t,e,n){var r;if(t)for(var i=0;i<t.length;++i){var o=t[i],a=o.marker,l=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);if(l||o.from==e&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var u=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);(r||(r=[])).push(new Mt(a,u?null:o.from-e,null==o.to?null:o.to-e))}}return r}(r,o,a),s=1==e.text.length,c=Z(e.text).length+(s?i:0);if(l)for(var f=0;f<l.length;++f){var h=l[f];if(null==h.to){var d=Ot(u,h.marker);d?s&&(h.to=null==d.to?null:d.to+c):h.to=i}}if(u)for(var g=0;g<u.length;++g){var p=u[g];if(null!=p.to&&(p.to+=c),null==p.from){var v=Ot(l,p.marker);v||(p.from=c,s&&(l||(l=[])).push(p))}else p.from+=c,s&&(l||(l=[])).push(p)}l&&(l=Nt(l)),u&&u!=l&&(u=Nt(u));var m=[l];if(!s){var y,w=e.text.length-2;if(w>0&&l)for(var b=0;b<l.length;++b)null==l[b].to&&(y||(y=[])).push(new Mt(l[b].marker,null,null));for(var x=0;x<w;++x)m.push(y);m.push(u)}return m}function Nt(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function Et(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function Dt(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function Bt(t){return t.inclusiveLeft?-1:0}function Ft(t){return t.inclusiveRight?1:0}function Wt(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var r=t.find(),i=e.find(),o=mt(r.from,i.from)||Bt(t)-Bt(e);if(o)return-o;var a=mt(r.to,i.to)||Ft(t)-Ft(e);return a||e.id-t.id}function Ht(t,e){var n,r=St&&t.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(e?i.from:i.to)&&(!n||Wt(n,i.marker)<0)&&(n=i.marker);return n}function Pt(t){return Ht(t,!0)}function It(t){return Ht(t,!1)}function zt(t,e){var n,r=St&&t.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<e)&&(null==o.to||o.to>e)&&(!n||Wt(n,o.marker)<0)&&(n=o.marker)}return n}function Rt(t,e,n,r,i){var o=ut(t,e),a=St&&o.markedSpans;if(a)for(var l=0;l<a.length;++l){var u=a[l];if(u.marker.collapsed){var s=u.marker.find(0),c=mt(s.from,n)||Bt(u.marker)-Bt(i),f=mt(s.to,r)||Ft(u.marker)-Ft(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?mt(s.to,n)>=0:mt(s.to,n)>0)||c>=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?mt(s.from,r)<=0:mt(s.from,r)<0)))return!0}}}function jt(t){for(var e;e=Pt(t);)t=e.find(-1,!0).line;return t}function Gt(t,e){var n=ut(t,e),r=jt(n);return n==r?e:ht(r)}function Ut(t,e){if(e>t.lastLine())return e;var n,r=ut(t,e);if(!Vt(t,r))return e;for(;n=It(r);)r=n.find(1,!0).line;return ht(r)+1}function Vt(t,e){var n=St&&e.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&qt(t,e,r))return!0}}function qt(t,e,n){if(null==n.to){var r=n.marker.find(1,!0);return qt(t,r.line,Ot(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var i=void 0,o=0;o<e.markedSpans.length;++o)if((i=e.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&qt(t,e,i))return!0}function Xt(t){t=jt(t);for(var e=0,n=t.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==t)break;e+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var l=o.children[a];if(l==n)break;e+=l.height}return e}function Kt(t){if(0==t.height)return 0;for(var e,n=t.text.length,r=t;e=Pt(r);){var i=e.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=t;e=It(r);){var o=e.find(0,!0);n-=r.text.length-o.from.ch,r=o.to.line,n+=r.text.length-o.to.ch}return n}function Zt(t){var e=t.display,n=t.doc;e.maxLine=ut(n,n.first),e.maxLineLength=Kt(e.maxLine),e.maxLineChanged=!0,n.iter(function(t){var n=Kt(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}var Jt=null;function Qt(t,e,n){var r;Jt=null;for(var i=0;i<t.length;++i){var o=t[i];if(o.from<e&&o.to>e)return i;o.to==e&&(o.from!=o.to&&"before"==n?r=i:Jt=i),o.from==e&&(o.from!=o.to&&"before"!=n?r=i:Jt=i)}return null!=r?r:Jt}var Yt=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,i=/[LRr]/,o=/[Lb1n]/,a=/[1n]/;function l(t,e,n){this.level=t,this.from=e,this.to=n}return function(u,s){var c,f="ltr"==s?"L":"R";if(0==u.length||"ltr"==s&&!n.test(u))return!1;for(var h=u.length,d=[],g=0;g<h;++g)d.push((c=u.charCodeAt(g))<=247?t.charAt(c):1424<=c&&c<=1524?"R":1536<=c&&c<=1785?e.charAt(c-1536):1774<=c&&c<=2220?"r":8192<=c&&c<=8203?"w":8204==c?"b":"L");for(var p=0,v=f;p<h;++p){var m=d[p];"m"==m?d[p]=v:v=m}for(var y=0,w=f;y<h;++y){var b=d[y];"1"==b&&"r"==w?d[y]="n":i.test(b)&&(w=b,"r"==b&&(d[y]="R"))}for(var x=1,k=d[0];x<h-1;++x){var _=d[x];"+"==_&&"1"==k&&"1"==d[x+1]?d[x]="1":","!=_||k!=d[x+1]||"1"!=k&&"n"!=k||(d[x]=k),k=_}for(var C=0;C<h;++C){var L=d[C];if(","==L)d[C]="N";else if("%"==L){var S=void 0;for(S=C+1;S<h&&"%"==d[S];++S);for(var M=C&&"!"==d[C-1]||S<h&&"1"==d[S]?"1":"N",O=C;O<S;++O)d[O]=M;C=S-1}}for(var T=0,A=f;T<h;++T){var N=d[T];"L"==A&&"1"==N?d[T]="L":i.test(N)&&(A=N)}for(var E=0;E<h;++E)if(r.test(d[E])){var D=void 0;for(D=E+1;D<h&&r.test(d[D]);++D);for(var B="L"==(E?d[E-1]:f),F="L"==(D<h?d[D]:f),W=B==F?B?"L":"R":f,H=E;H<D;++H)d[H]=W;E=D-1}for(var P,I=[],z=0;z<h;)if(o.test(d[z])){var R=z;for(++z;z<h&&o.test(d[z]);++z);I.push(new l(0,R,z))}else{var j=z,G=I.length;for(++z;z<h&&"L"!=d[z];++z);for(var U=j;U<z;)if(a.test(d[U])){j<U&&I.splice(G,0,new l(1,j,U));var V=U;for(++U;U<z&&a.test(d[U]);++U);I.splice(G,0,new l(2,V,U)),j=U}else++U;j<z&&I.splice(G,0,new l(1,j,z))}return"ltr"==s&&(1==I[0].level&&(P=u.match(/^\s+/))&&(I[0].from=P[0].length,I.unshift(new l(0,0,P[0].length))),1==Z(I).level&&(P=u.match(/\s+$/))&&(Z(I).to-=P[0].length,I.push(new l(0,h-P[0].length,h)))),"rtl"==s?I.reverse():I}}();function $t(t,e){var n=t.order;return null==n&&(n=t.order=Yt(t.text,e)),n}var te=[],ee=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var r=t._handlers||(t._handlers={});r[e]=(r[e]||te).concat(n)}};function ne(t,e){return t._handlers&&t._handlers[e]||te}function re(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var r=t._handlers,i=r&&r[e];if(i){var o=z(i,n);o>-1&&(r[e]=i.slice(0,o).concat(i.slice(o+1)))}}}function ie(t,e){var n=ne(t,e);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function oe(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),ie(t,n||e.type,t,e),fe(e)||e.codemirrorIgnore}function ae(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),r=0;r<e.length;++r)-1==z(n,e[r])&&n.push(e[r])}function le(t,e){return ne(t,e).length>0}function ue(t){t.prototype.on=function(t,e){ee(this,t,e)},t.prototype.off=function(t,e){re(this,t,e)}}function se(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function ce(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function fe(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function he(t){se(t),ce(t)}function de(t){return t.target||t.srcElement}function ge(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),y&&t.ctrlKey&&1==e&&(e=3),e}var pe,ve,me=function(){if(a&&l<9)return!1;var t=T("div");return"draggable"in t||"dragDrop"in t}();function ye(t){if(null==pe){var e=T("span","​");O(t,T("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(pe=e.offsetWidth<=1&&e.offsetHeight>2&&!(a&&l<8))}var n=pe?T("span","​"):T("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function we(t){if(null!=ve)return ve;var e=O(t,document.createTextNode("AخA")),n=L(e,0,1).getBoundingClientRect(),r=L(e,1,2).getBoundingClientRect();return M(t),!(!n||n.left==n.right)&&(ve=r.right-n.right<3)}var be,xe=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],r=t.length;e<=r;){var i=t.indexOf("\n",e);-1==i&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),e+=a+1):(n.push(o),e=i+1)}return n}:function(t){return t.split(/\r\n?|\n/)},ke=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},_e="oncopy"in(be=T("div"))||(be.setAttribute("oncopy","return;"),"function"==typeof be.oncopy),Ce=null,Le={},Se={};function Me(t){if("string"==typeof t&&Se.hasOwnProperty(t))t=Se[t];else if(t&&"string"==typeof t.name&&Se.hasOwnProperty(t.name)){var e=Se[t.name];"string"==typeof e&&(e={name:e}),(t=Y(e,t)).name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Me("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Me("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function Oe(t,e){e=Me(e);var n=Le[e.name];if(!n)return Oe(t,"text/plain");var r=n(t,e);if(Te.hasOwnProperty(e.name)){var i=Te[e.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=e.name,e.helperType&&(r.helperType=e.helperType),e.modeProps)for(var a in e.modeProps)r[a]=e.modeProps[a];return r}var Te={};function Ae(t,e){var n=Te.hasOwnProperty(t)?Te[t]:Te[t]={};H(e,n)}function Ne(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Ee(t,e){for(var n;t.innerMode&&(n=t.innerMode(e))&&n.mode!=t;)e=n.state,t=n.mode;return n||{mode:t,state:e}}function De(t,e,n){return!t.startState||t.startState(e,n)}var Be=function(t,e,n){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};Be.prototype.eol=function(){return this.pos>=this.string.length},Be.prototype.sol=function(){return this.pos==this.lineStart},Be.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Be.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Be.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},Be.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Be.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Be.prototype.skipToEnd=function(){this.pos=this.string.length},Be.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Be.prototype.backUp=function(t){this.pos-=t},Be.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=P(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?P(this.string,this.lineStart,this.tabSize):0)},Be.prototype.indentation=function(){return P(this.string,null,this.tabSize)-(this.lineStart?P(this.string,this.lineStart,this.tabSize):0)},Be.prototype.match=function(t,e,n){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&r.index>0?null:(r&&!1!==e&&(this.pos+=r[0].length),r)}var i=function(t){return n?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);if(i(o)==i(t))return!1!==e&&(this.pos+=t.length),!0},Be.prototype.current=function(){return this.string.slice(this.start,this.pos)},Be.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Be.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Be.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var Fe=function(t,e){this.state=t,this.lookAhead=e},We=function(t,e,n,r){this.state=e,this.doc=t,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function He(t,e,n,r){var i=[t.state.modeGen],o={};qe(t,e.text,t.doc.mode,n,function(t,e){return i.push(t,e)},o,r);for(var a=n.state,l=function(r){n.baseTokens=i;var l=t.state.overlays[r],u=1,s=0;n.state=!0,qe(t,e.text,l.mode,n,function(t,e){for(var n=u;s<t;){var r=i[u];r>t&&i.splice(u,1,t,i[u+1],r),u+=2,s=Math.min(t,r)}if(e)if(l.opaque)i.splice(n,u-n,t,"overlay "+e),u=n+2;else for(;n<u;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+e}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},u=0;u<t.state.overlays.length;++u)l(u);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Pe(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var r=Ie(t,ht(e)),i=e.text.length>t.options.maxHighlightLength&&Ne(t.doc.mode,r.state),o=He(t,e,r);i&&(r.state=i),e.stateAfter=r.save(!i),e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function Ie(t,e,n){var r=t.doc,i=t.display;if(!r.mode.startState)return new We(r,!0,e);var o=function(t,e,n){for(var r,i,o=t.doc,a=n?-1:e-(t.doc.mode.innerMode?1e3:100),l=e;l>a;--l){if(l<=o.first)return o.first;var u=ut(o,l-1),s=u.stateAfter;if(s&&(!n||l+(s instanceof Fe?s.lookAhead:0)<=o.modeFrontier))return l;var c=P(u.text,null,t.options.tabSize);(null==i||r>c)&&(i=l-1,r=c)}return i}(t,e,n),a=o>r.first&&ut(r,o-1).stateAfter,l=a?We.fromSaved(r,a,o):new We(r,De(r.mode),o);return r.iter(o,e,function(n){ze(t,n.text,l);var r=l.line;n.stateAfter=r==e-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?l.save():null,l.nextLine()}),n&&(r.modeFrontier=l.line),l}function ze(t,e,n,r){var i=t.doc.mode,o=new Be(e,t.options.tabSize,n);for(o.start=o.pos=r||0,""==e&&Re(i,n.state);!o.eol();)je(i,o,n.state),o.start=o.pos}function Re(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=Ee(t,e);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function je(t,e,n,r){for(var i=0;i<10;i++){r&&(r[0]=Ee(t,n).mode);var o=t.token(e,n);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}We.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},We.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},We.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},We.fromSaved=function(t,e,n){return e instanceof Fe?new We(t,Ne(t.mode,e.state),n,e.lookAhead):new We(t,Ne(t.mode,e),n)},We.prototype.save=function(t){var e=!1!==t?Ne(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Fe(e,this.maxLookAhead):e};var Ge=function(t,e,n){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=n};function Ue(t,e,n,r){var i,o=t.doc,a=o.mode;e=_t(o,e);var l,u=ut(o,e.line),s=Ie(t,e.line,n),c=new Be(u.text,t.options.tabSize,s);for(r&&(l=[]);(r||c.pos<e.ch)&&!c.eol();)c.start=c.pos,i=je(a,c,s.state),r&&l.push(new Ge(c,i,Ne(o.mode,s.state)));return r?l:new Ge(c,i,s.state)}function Ve(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==e[r]?e[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[r])||(e[r]+=" "+n[2])}return t}function qe(t,e,n,r,i,o,a){var l=n.flattenSpans;null==l&&(l=t.options.flattenSpans);var u,s=0,c=null,f=new Be(e,t.options.tabSize,r),h=t.options.addModeClass&&[null];for(""==e&&Ve(Re(n,r.state),o);!f.eol();){if(f.pos>t.options.maxHighlightLength?(l=!1,a&&ze(t,e,r,f.pos),f.pos=e.length,u=null):u=Ve(je(n,f,r.state,h),o),h){var d=h[0].name;d&&(u="m-"+(u?d+" "+u:d))}if(!l||c!=u){for(;s<f.start;)s=Math.min(f.start,s+5e3),i(s,c);c=u}f.start=f.pos}for(;s<f.pos;){var g=Math.min(f.pos,s+5e3);i(g,c),s=g}}var Xe=function(t,e,n){this.text=t,Dt(this,e),this.height=n?n(this):1};function Ke(t){t.parent=null,Et(t)}Xe.prototype.lineNo=function(){return ht(this)},ue(Xe);var Ze={},Je={};function Qe(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?Je:Ze;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function Ye(t,e){var n=A("span",null,null,u?"padding-right: .1px":null),r={pre:A("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var i=0;i<=(e.rest?e.rest.length:0);i++){var o=i?e.rest[i-1]:e.line,a=void 0;r.pos=0,r.addToken=tn,we(t.display.measure)&&(a=$t(o,t.doc.direction))&&(r.addToken=en(r.addToken,a)),r.map=[];var l=e!=t.display.externalMeasured&&ht(o);rn(o,r,Pe(t,o,l)),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=B(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=B(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(ye(t.display.measure))),0==i?(e.measure.map=r.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(r.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(u){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return ie(t,"renderLine",t,e.line,r.pre),r.pre.className&&(r.textClass=B(r.pre.className,r.textClass||"")),r}function $e(t){var e=T("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function tn(t,e,n,r,i,o,u){if(e){var s,c=t.splitSpaces?function(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,r="",i=0;i<t.length;i++){var o=t.charAt(i);" "!=o||!n||i!=t.length-1&&32!=t.charCodeAt(i+1)||(o=" "),r+=o,n=" "==o}return r}(e,t.trailingSpace):e,f=t.cm.state.specialChars,h=!1;if(f.test(e)){s=document.createDocumentFragment();for(var d=0;;){f.lastIndex=d;var g=f.exec(e),p=g?g.index-d:e.length-d;if(p){var v=document.createTextNode(c.slice(d,d+p));a&&l<9?s.appendChild(T("span",[v])):s.appendChild(v),t.map.push(t.pos,t.pos+p,v),t.col+=p,t.pos+=p}if(!g)break;d+=p+1;var m=void 0;if("\t"==g[0]){var y=t.cm.options.tabSize,w=y-t.col%y;(m=s.appendChild(T("span",K(w),"cm-tab"))).setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),t.col+=w}else"\r"==g[0]||"\n"==g[0]?((m=s.appendChild(T("span","\r"==g[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",g[0]),t.col+=1):((m=t.cm.options.specialCharPlaceholder(g[0])).setAttribute("cm-text",g[0]),a&&l<9?s.appendChild(T("span",[m])):s.appendChild(m),t.col+=1);t.map.push(t.pos,t.pos+1,m),t.pos++}}else t.col+=e.length,s=document.createTextNode(c),t.map.push(t.pos,t.pos+e.length,s),a&&l<9&&(h=!0),t.pos+=e.length;if(t.trailingSpace=32==c.charCodeAt(e.length-1),n||r||i||h||o){var b=n||"";r&&(b+=r),i&&(b+=i);var x=T("span",[s],b,o);if(u)for(var k in u)u.hasOwnProperty(k)&&"style"!=k&&"class"!=k&&x.setAttribute(k,u[k]);return t.content.appendChild(x)}t.content.appendChild(s)}}function en(t,e){return function(n,r,i,o,a,l,u){i=i?i+" cm-force-border":"cm-force-border";for(var s=n.pos,c=s+r.length;;){for(var f=void 0,h=0;h<e.length&&!((f=e[h]).to>s&&f.from<=s);h++);if(f.to>=c)return t(n,r,i,o,a,l,u);t(n,r.slice(0,f.to-s),i,o,null,l,u),o=null,r=r.slice(f.to-s),s=f.to}}}function nn(t,e,n,r){var i=!r&&n.widgetNode;i&&t.map.push(t.pos,t.pos+e,i),!r&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=e,t.trailingSpace=!1}function rn(t,e,n){var r=t.markedSpans,i=t.text,o=0;if(r)for(var a,l,u,s,c,f,h,d=i.length,g=0,p=1,v="",m=0;;){if(m==g){u=s=c=l="",h=null,f=null,m=1/0;for(var y=[],w=void 0,b=0;b<r.length;++b){var x=r[b],k=x.marker;if("bookmark"==k.type&&x.from==g&&k.widgetNode)y.push(k);else if(x.from<=g&&(null==x.to||x.to>g||k.collapsed&&x.to==g&&x.from==g)){if(null!=x.to&&x.to!=g&&m>x.to&&(m=x.to,s=""),k.className&&(u+=" "+k.className),k.css&&(l=(l?l+";":"")+k.css),k.startStyle&&x.from==g&&(c+=" "+k.startStyle),k.endStyle&&x.to==m&&(w||(w=[])).push(k.endStyle,x.to),k.title&&((h||(h={})).title=k.title),k.attributes)for(var _ in k.attributes)(h||(h={}))[_]=k.attributes[_];k.collapsed&&(!f||Wt(f.marker,k)<0)&&(f=x)}else x.from>g&&m>x.from&&(m=x.from)}if(w)for(var C=0;C<w.length;C+=2)w[C+1]==m&&(s+=" "+w[C]);if(!f||f.from==g)for(var L=0;L<y.length;++L)nn(e,0,y[L]);if(f&&(f.from||0)==g){if(nn(e,(null==f.to?d+1:f.to)-g,f.marker,null==f.from),null==f.to)return;f.to==g&&(f=!1)}}if(g>=d)break;for(var S=Math.min(d,m);;){if(v){var M=g+v.length;if(!f){var O=M>S?v.slice(0,S-g):v;e.addToken(e,O,a?a+u:u,c,g+O.length==m?s:"",l,h)}if(M>=S){v=v.slice(S-g),g=S;break}g=M,c=""}v=i.slice(o,o=n[p++]),a=Qe(n[p++],e.cm.options)}}else for(var T=1;T<n.length;T+=2)e.addToken(e,i.slice(o,o=n[T]),Qe(n[T+1],e.cm.options))}function on(t,e,n){this.line=e,this.rest=function(t){for(var e,n;e=It(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}(e),this.size=this.rest?ht(Z(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Vt(t,e)}function an(t,e,n){for(var r,i=[],o=e;o<n;o=r){var a=new on(t.doc,ut(t.doc,o),o);r=o+a.size,i.push(a)}return i}var ln=null,un=null;function sn(t,e){var n=ne(t,e);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);ln?r=ln.delayedCallbacks:un?r=un:(r=un=[],setTimeout(cn,0));for(var o=function(t){r.push(function(){return n[t].apply(null,i)})},a=0;a<n.length;++a)o(a)}}function cn(){var t=un;un=null;for(var e=0;e<t.length;++e)t[e]()}function fn(t,e,n,r){for(var i=0;i<e.changes.length;i++){var o=e.changes[i];"text"==o?gn(t,e):"gutter"==o?vn(t,e,n,r):"class"==o?pn(t,e):"widget"==o&&mn(t,e,r)}e.changes=null}function hn(t){return t.node==t.text&&(t.node=T("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),a&&l<8&&(t.node.style.zIndex=2)),t.node}function dn(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Ye(t,e)}function gn(t,e){var n=e.text.className,r=dn(t,e);e.text==e.node&&(e.node=r.pre),e.text.parentNode.replaceChild(r.pre,e.text),e.text=r.pre,r.bgClass!=e.bgClass||r.textClass!=e.textClass?(e.bgClass=r.bgClass,e.textClass=r.textClass,pn(t,e)):n&&(e.text.className=n)}function pn(t,e){!function(t,e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var r=hn(e);e.background=r.insertBefore(T("div",null,n),r.firstChild),t.display.input.setUneditable(e.background)}}(t,e),e.line.wrapClass?hn(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function vn(t,e,n,r){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var i=hn(e);e.gutterBackground=T("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),i.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var a=hn(e),l=e.gutter=T("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(t.display.input.setUneditable(l),a.insertBefore(l,e.text),e.line.gutterClass&&(l.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=l.appendChild(T("div",pt(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var u=0;u<t.options.gutters.length;++u){var s=t.options.gutters[u],c=o.hasOwnProperty(s)&&o[s];c&&l.appendChild(T("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[s]+"px; width: "+r.gutterWidth[s]+"px"))}}}function mn(t,e,n){e.alignable&&(e.alignable=null);for(var r=e.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&e.node.removeChild(r);wn(t,e,n)}function yn(t,e,n,r){var i=dn(t,e);return e.text=e.node=i.pre,i.bgClass&&(e.bgClass=i.bgClass),i.textClass&&(e.textClass=i.textClass),pn(t,e),vn(t,e,n,r),wn(t,e,r),e.node}function wn(t,e,n){if(bn(t,e.line,e,n,!0),e.rest)for(var r=0;r<e.rest.length;r++)bn(t,e.rest[r],e,n,!1)}function bn(t,e,n,r,i){if(e.widgets)for(var o=hn(n),a=0,l=e.widgets;a<l.length;++a){var u=l[a],s=T("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||s.setAttribute("cm-ignore-events","true"),xn(u,s,n,r),t.display.input.setUneditable(s),i&&u.above?o.insertBefore(s,n.gutter||n.text):o.appendChild(s),sn(u,"redraw")}}function xn(t,e,n,r){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var i=r.wrapperWidth;e.style.left=r.fixedPos+"px",t.coverGutter||(i-=r.gutterTotalWidth,e.style.paddingLeft=r.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-r.gutterTotalWidth+"px"))}function kn(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!N(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),O(e.display.measure,T("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function _n(t,e){for(var n=de(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function Cn(t){return t.lineSpace.offsetTop}function Ln(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Sn(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=O(t.measure,T("pre","x")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(t.cachedPaddingH=r),r}function Mn(t){return R-t.display.nativeBarWidth}function On(t){return t.display.scroller.clientWidth-Mn(t)-t.display.barWidth}function Tn(t){return t.display.scroller.clientHeight-Mn(t)-t.display.barHeight}function An(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var r=0;r<t.rest.length;r++)if(t.rest[r]==e)return{map:t.measure.maps[r],cache:t.measure.caches[r]};for(var i=0;i<t.rest.length;i++)if(ht(t.rest[i])>n)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}function Nn(t,e,n,r){return Bn(t,Dn(t,e),n,r)}function En(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[sr(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function Dn(t,e){var n=ht(e),r=En(t,n);r&&!r.text?r=null:r&&r.changes&&(fn(t,r,n,ir(t)),t.curOp.forceUpdate=!0),r||(r=function(t,e){var n=ht(e=jt(e)),r=t.display.externalMeasured=new on(t.doc,e,n);r.lineN=n;var i=r.built=Ye(t,r);return r.text=i.pre,O(t.display.lineMeasure,i.pre),r}(t,e));var i=An(r,e,n);return{line:e,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Bn(t,e,n,r,i){e.before&&(n=-1);var o,u=n+(r||"");return e.cache.hasOwnProperty(u)?o=e.cache[u]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(function(t,e,n){var r=t.options.lineWrapping,i=r&&On(t);if(!e.measure.heights||r&&e.measure.width!=i){var o=e.measure.heights=[];if(r){e.measure.width=i;for(var a=e.text.firstChild.getClientRects(),l=0;l<a.length-1;l++){var u=a[l],s=a[l+1];Math.abs(u.bottom-s.bottom)>2&&o.push((u.bottom+s.top)/2-n.top)}}o.push(n.bottom-n.top)}}(t,e.view,e.rect),e.hasHeights=!0),(o=function(t,e,n,r){var i,o=Hn(e.map,n,r),u=o.node,s=o.start,c=o.end,f=o.collapse;if(3==u.nodeType){for(var h=0;h<4;h++){for(;s&&it(e.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+c<o.coverEnd&&it(e.line.text.charAt(o.coverStart+c));)++c;if((i=a&&l<9&&0==s&&c==o.coverEnd-o.coverStart?u.parentNode.getBoundingClientRect():Pn(L(u,s,c).getClientRects(),r)).left||i.right||0==s)break;c=s,s-=1,f="right"}a&&l<11&&(i=function(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=Ce)return Ce;var e=O(t,T("span","x")),n=e.getBoundingClientRect(),r=L(e,0,1).getBoundingClientRect();return Ce=Math.abs(n.left-r.left)>1}(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*r,bottom:e.bottom*r}}(t.display.measure,i))}else{var d;s>0&&(f=r="right"),i=t.options.lineWrapping&&(d=u.getClientRects()).length>1?d["right"==r?d.length-1:0]:u.getBoundingClientRect()}if(a&&l<9&&!s&&(!i||!i.left&&!i.right)){var g=u.parentNode.getClientRects()[0];i=g?{left:g.left,right:g.left+rr(t.display),top:g.top,bottom:g.bottom}:Wn}for(var p=i.top-e.rect.top,v=i.bottom-e.rect.top,m=(p+v)/2,y=e.view.measure.heights,w=0;w<y.length-1&&!(m<y[w]);w++);var b=w?y[w-1]:0,x=y[w],k={left:("right"==f?i.right:i.left)-e.rect.left,right:("left"==f?i.left:i.right)-e.rect.left,top:b,bottom:x};return i.left||i.right||(k.bogus=!0),t.options.singleCursorHeightPerLine||(k.rtop=p,k.rbottom=v),k}(t,e,n,r)).bogus||(e.cache[u]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Fn,Wn={left:0,right:0,top:0,bottom:0};function Hn(t,e,n){for(var r,i,o,a,l,u,s=0;s<t.length;s+=3)if(l=t[s],u=t[s+1],e<l?(i=0,o=1,a="left"):e<u?o=1+(i=e-l):(s==t.length-3||e==u&&t[s+3]>e)&&(i=(o=u-l)-1,e>=u&&(a="right")),null!=i){if(r=t[s+2],l==u&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;s&&t[s-2]==t[s-3]&&t[s-1].insertLeft;)r=t[2+(s-=3)],a="left";if("right"==n&&i==u-l)for(;s<t.length-3&&t[s+3]==t[s+4]&&!t[s+5].insertLeft;)r=t[(s+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:l,coverEnd:u}}function Pn(t,e){var n=Wn;if("left"==e)for(var r=0;r<t.length&&(n=t[r]).left==n.right;r++);else for(var i=t.length-1;i>=0&&(n=t[i]).left==n.right;i--);return n}function In(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function zn(t){t.display.externalMeasure=null,M(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)In(t.display.view[e])}function Rn(t){zn(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function jn(){return c&&v?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Gn(){return c&&v?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Un(t){var e=0;if(t.widgets)for(var n=0;n<t.widgets.length;++n)t.widgets[n].above&&(e+=kn(t.widgets[n]));return e}function Vn(t,e,n,r,i){if(!i){var o=Un(e);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=Xt(e);if("local"==r?a+=Cn(t.display):a-=t.display.viewOffset,"page"==r||"window"==r){var l=t.display.lineSpace.getBoundingClientRect();a+=l.top+("window"==r?0:Gn());var u=l.left+("window"==r?0:jn());n.left+=u,n.right+=u}return n.top+=a,n.bottom+=a,n}function qn(t,e,n){if("div"==n)return e;var r=e.left,i=e.top;if("page"==n)r-=jn(),i-=Gn();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=t.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function Xn(t,e,n,r,i){return r||(r=ut(t.doc,e.line)),Vn(t,r,Nn(t,r,e.ch,i),n)}function Kn(t,e,n,r,i,o){function a(e,a){var l=Bn(t,i,e,a?"right":"left",o);return a?l.left=l.right:l.right=l.left,Vn(t,r,l,n)}r=r||ut(t.doc,e.line),i||(i=Dn(t,r));var l=$t(r,t.doc.direction),u=e.ch,s=e.sticky;if(u>=r.text.length?(u=r.text.length,s="before"):u<=0&&(u=0,s="after"),!l)return a("before"==s?u-1:u,"before"==s);function c(t,e,n){var r=l[e],i=1==r.level;return a(n?t-1:t,i!=n)}var f=Qt(l,u,s),h=Jt,d=c(u,f,"before"==s);return null!=h&&(d.other=c(u,h,"before"!=s)),d}function Zn(t,e){var n=0;e=_t(t.doc,e),t.options.lineWrapping||(n=rr(t.display)*e.ch);var r=ut(t.doc,e.line),i=Xt(r)+Cn(t.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Jn(t,e,n,r,i){var o=vt(t,e,n);return o.xRel=i,r&&(o.outside=!0),o}function Qn(t,e,n){var r=t.doc;if((n+=t.display.viewOffset)<0)return Jn(r.first,0,null,!0,-1);var i=dt(r,n),o=r.first+r.size-1;if(i>o)return Jn(r.first+r.size-1,ut(r,o).text.length,null,!0,1);e<0&&(e=0);for(var a=ut(r,i);;){var l=er(t,a,i,e,n),u=zt(a,l.ch+(l.xRel>0?1:0));if(!u)return l;var s=u.find(1);if(s.line==i)return s;a=ut(r,i=s.line)}}function Yn(t,e,n,r){r-=Un(e);var i=e.text.length,o=at(function(e){return Bn(t,n,e-1).bottom<=r},i,0);return i=at(function(e){return Bn(t,n,e).top>r},o,i),{begin:o,end:i}}function $n(t,e,n,r){n||(n=Dn(t,e));var i=Vn(t,e,Bn(t,n,r),"line").top;return Yn(t,e,n,i)}function tr(t,e,n,r){return!(t.bottom<=n)&&(t.top>n||(r?t.left:t.right)>e)}function er(t,e,n,r,i){i-=Xt(e);var o=Dn(t,e),a=Un(e),l=0,u=e.text.length,s=!0,c=$t(e,t.doc.direction);if(c){var f=(t.options.lineWrapping?function(t,e,n,r,i,o,a){var l=Yn(t,e,r,a),u=l.begin,s=l.end;/\s/.test(e.text.charAt(s-1))&&s--;for(var c=null,f=null,h=0;h<i.length;h++){var d=i[h];if(!(d.from>=s||d.to<=u)){var g=1!=d.level,p=Bn(t,r,g?Math.min(s,d.to)-1:Math.max(u,d.from)).right,v=p<o?o-p+1e9:p-o;(!c||f>v)&&(c=d,f=v)}}return c||(c=i[i.length-1]),c.from<u&&(c={from:u,to:c.to,level:c.level}),c.to>s&&(c={from:c.from,to:s,level:c.level}),c}:function(t,e,n,r,i,o,a){var l=at(function(l){var u=i[l],s=1!=u.level;return tr(Kn(t,vt(n,s?u.to:u.from,s?"before":"after"),"line",e,r),o,a,!0)},0,i.length-1),u=i[l];if(l>0){var s=1!=u.level,c=Kn(t,vt(n,s?u.from:u.to,s?"after":"before"),"line",e,r);tr(c,o,a,!0)&&c.top>a&&(u=i[l-1])}return u})(t,e,n,o,c,r,i);s=1!=f.level,l=s?f.from:f.to-1,u=s?f.to:f.from-1}var h,d,g=null,p=null,v=at(function(e){var n=Bn(t,o,e);return n.top+=a,n.bottom+=a,!!tr(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(g=e,p=n),!0)},l,u),m=!1;if(p){var y=r-p.left<p.right-r,w=y==s;v=g+(w?0:1),d=w?"after":"before",h=y?p.left:p.right}else{s||v!=u&&v!=l||v++,d=0==v?"after":v==e.text.length?"before":Bn(t,o,v-(s?1:0)).bottom+a<=i==s?"after":"before";var b=Kn(t,vt(n,v,d),"line",e,o);h=b.left,m=i<b.top||i>=b.bottom}return v=ot(e.text,v,1),Jn(n,v,d,m,r-h)}function nr(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Fn){Fn=T("pre");for(var e=0;e<49;++e)Fn.appendChild(document.createTextNode("x")),Fn.appendChild(T("br"));Fn.appendChild(document.createTextNode("x"))}O(t.measure,Fn);var n=Fn.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),M(t.measure),n||1}function rr(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=T("span","xxxxxxxxxx"),n=T("pre",[e]);O(t.measure,n);var r=e.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function ir(t){for(var e=t.display,n={},r={},i=e.gutters.clientLeft,o=e.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[t.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[t.options.gutters[a]]=o.clientWidth;return{fixedPos:or(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:e.wrapper.clientWidth}}function or(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function ar(t){var e=nr(t.display),n=t.options.lineWrapping,r=n&&Math.max(5,t.display.scroller.clientWidth/rr(t.display)-3);return function(i){if(Vt(t.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*e:o+e}}function lr(t){var e=t.doc,n=ar(t);e.iter(function(t){var e=n(t);e!=t.height&&ft(t,e)})}function ur(t,e,n,r){var i=t.display;if(!n&&"true"==de(e).getAttribute("cm-not-content"))return null;var o,a,l=i.lineSpace.getBoundingClientRect();try{o=e.clientX-l.left,a=e.clientY-l.top}catch(e){return null}var u,s=Qn(t,o,a);if(r&&1==s.xRel&&(u=ut(t.doc,s.line).text).length==s.ch){var c=P(u,u.length,t.options.tabSize)-u.length;s=vt(s.line,Math.max(0,Math.round((o-Sn(t.display).left)/rr(t.display))-c))}return s}function sr(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var n=t.display.view,r=0;r<n.length;r++)if((e-=n[r].size)<0)return r}function cr(t){t.display.input.showSelection(t.display.input.prepareSelection())}function fr(t,e){void 0===e&&(e=!0);for(var n=t.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(e||a!=n.sel.primIndex){var l=n.sel.ranges[a];if(!(l.from().line>=t.display.viewTo||l.to().line<t.display.viewFrom)){var u=l.empty();(u||t.options.showCursorWhenSelecting)&&hr(t,l.head,i),u||gr(t,l,o)}}return r}function hr(t,e,n){var r=Kn(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),i=n.appendChild(T("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",r.other){var o=n.appendChild(T("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function dr(t,e){return t.top-e.top||t.left-e.left}function gr(t,e,n){var r=t.display,i=t.doc,o=document.createDocumentFragment(),a=Sn(t.display),l=a.left,u=Math.max(r.sizerWidth,On(t)-r.sizer.offsetLeft)-a.right,s="ltr"==i.direction;function c(t,e,n,r){e<0&&(e=0),e=Math.round(e),r=Math.round(r),o.appendChild(T("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==n?u-t:n)+"px;\n                             height: "+(r-e)+"px"))}function f(e,n,r){var o,a,f=ut(i,e),h=f.text.length;function d(n,r){return Xn(t,vt(e,n),"div",f,r)}function g(e,n,r){var i=$n(t,f,null,e),o="ltr"==n==("after"==r)?"left":"right",a="after"==r?i.begin:i.end-(/\s/.test(f.text.charAt(i.end-1))?2:1);return d(a,o)[o]}var p=$t(f,i.direction);return function(t,e,n,r){if(!t)return r(e,n,"ltr",0);for(var i=!1,o=0;o<t.length;++o){var a=t[o];(a.from<n&&a.to>e||e==n&&a.to==e)&&(r(Math.max(a.from,e),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(e,n,"ltr")}(p,n||0,null==r?h:r,function(t,e,i,f){var v="ltr"==i,m=d(t,v?"left":"right"),y=d(e-1,v?"right":"left"),w=null==n&&0==t,b=null==r&&e==h,x=0==f,k=!p||f==p.length-1;if(y.top-m.top<=3){var _=(s?w:b)&&x,C=(s?b:w)&&k,L=_?l:(v?m:y).left,S=C?u:(v?y:m).right;c(L,m.top,S-L,m.bottom)}else{var M,O,T,A;v?(M=s&&w&&x?l:m.left,O=s?u:g(t,i,"before"),T=s?l:g(e,i,"after"),A=s&&b&&k?u:y.right):(M=s?g(t,i,"before"):l,O=!s&&w&&x?u:m.right,T=!s&&b&&k?l:y.left,A=s?g(e,i,"after"):u),c(M,m.top,O-M,m.bottom),m.bottom<y.top&&c(l,m.bottom,null,y.top),c(T,y.top,A-T,y.bottom)}(!o||dr(m,o)<0)&&(o=m),dr(y,o)<0&&(o=y),(!a||dr(m,a)<0)&&(a=m),dr(y,a)<0&&(a=y)}),{start:o,end:a}}var h=e.from(),d=e.to();if(h.line==d.line)f(h.line,h.ch,d.ch);else{var g=ut(i,h.line),p=ut(i,d.line),v=jt(g)==jt(p),m=f(h.line,h.ch,v?g.text.length+1:null).end,y=f(d.line,v?0:null,d.ch).start;v&&(m.top<y.top-2?(c(m.right,m.top,null,m.bottom),c(l,y.top,y.left,y.bottom)):c(m.right,m.top,y.left-m.right,m.bottom)),m.bottom<y.top&&c(l,m.bottom,null,y.top)}n.appendChild(o)}function pr(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){return e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function vr(t){t.state.focused||(t.display.input.focus(),yr(t))}function mr(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,wr(t))},100)}function yr(t,e){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(ie(t,"focus",t,e),t.state.focused=!0,D(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),u&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),pr(t))}function wr(t,e){t.state.delayingBlurEvent||(t.state.focused&&(ie(t,"blur",t,e),t.state.focused=!1,S(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function br(t){for(var e=t.display,n=e.lineDiv.offsetTop,r=0;r<e.view.length;r++){var i=e.view[r],o=t.options.lineWrapping,u=void 0,s=0;if(!i.hidden){if(a&&l<8){var c=i.node.offsetTop+i.node.offsetHeight;u=c-n,n=c}else{var f=i.node.getBoundingClientRect();u=f.bottom-f.top,!o&&i.text.firstChild&&(s=i.text.firstChild.getBoundingClientRect().right-f.left-1)}var h=i.line.height-u;if(u<2&&(u=nr(e)),(h>.005||h<-.005)&&(ft(i.line,u),xr(i.line),i.rest))for(var d=0;d<i.rest.length;d++)xr(i.rest[d]);if(s>t.display.sizerWidth){var g=Math.ceil(s/rr(t.display));g>t.display.maxLineLength&&(t.display.maxLineLength=g,t.display.maxLine=i.line,t.display.maxLineChanged=!0)}}}}function xr(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var n=t.widgets[e],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function kr(t,e,n){var r=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;r=Math.floor(r-Cn(t));var i=n&&null!=n.bottom?n.bottom:r+t.wrapper.clientHeight,o=dt(e,r),a=dt(e,i);if(n&&n.ensure){var l=n.ensure.from.line,u=n.ensure.to.line;l<o?(o=l,a=dt(e,Xt(ut(e,l))+t.wrapper.clientHeight)):Math.min(u,e.lastLine())>=a&&(o=dt(e,Xt(ut(e,u))-t.wrapper.clientHeight),a=u)}return{from:o,to:Math.max(a,o+1)}}function _r(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=or(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){t.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var l=n[a].alignable;if(l)for(var u=0;u<l.length;u++)l[u].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=r+i+"px")}}function Cr(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=pt(t.options,e.first+e.size-1),r=t.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(T("div",[T("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",si(t),!0}return!1}function Lr(t,e){var n=t.display,r=nr(t.display);e.top<0&&(e.top=0);var i=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:n.scroller.scrollTop,o=Tn(t),a={};e.bottom-e.top>o&&(e.bottom=e.top+o);var l=t.doc.height+Ln(n),u=e.top<r,s=e.bottom>l-r;if(e.top<i)a.scrollTop=u?0:e.top;else if(e.bottom>i+o){var c=Math.min(e.top,(s?l:e.bottom)-o);c!=i&&(a.scrollTop=c)}var f=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:n.scroller.scrollLeft,h=On(t)-(t.options.fixedGutter?n.gutters.offsetWidth:0),d=e.right-e.left>h;return d&&(e.right=e.left+h),e.left<10?a.scrollLeft=0:e.left<f?a.scrollLeft=Math.max(0,e.left-(d?0:10)):e.right>h+f-3&&(a.scrollLeft=e.right+(d?0:10)-h),a}function Sr(t,e){null!=e&&(Tr(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Mr(t){Tr(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Or(t,e,n){null==e&&null==n||Tr(t),null!=e&&(t.curOp.scrollLeft=e),null!=n&&(t.curOp.scrollTop=n)}function Tr(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=Zn(t,e.from),r=Zn(t,e.to);Ar(t,n,r,e.margin)}}function Ar(t,e,n,r){var i=Lr(t,{left:Math.min(e.left,n.left),top:Math.min(e.top,n.top)-r,right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)+r});Or(t,i.scrollLeft,i.scrollTop)}function Nr(t,e){Math.abs(t.doc.scrollTop-e)<2||(n||ui(t,{top:e}),Er(t,e,!0),n&&ui(t),ri(t,100))}function Er(t,e,n){e=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e),(t.display.scroller.scrollTop!=e||n)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function Dr(t,e,n,r){e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!r||(t.doc.scrollLeft=e,_r(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Br(t){var e=t.display,n=e.gutters.offsetWidth,r=Math.round(t.doc.height+Ln(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Mn(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}var Fr=function(t,e,n){this.cm=n;var r=this.vert=T("div",[T("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=T("div",[T("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,t(r),t(i),ee(r,"scroll",function(){r.clientHeight&&e(r.scrollTop,"vertical")}),ee(i,"scroll",function(){i.clientWidth&&e(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,a&&l<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Fr.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,r=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?r+"px":"0";var i=t.viewHeight-(e?r:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:e?r:0}},Fr.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Fr.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Fr.prototype.zeroWidthHack=function(){var t=y&&!d?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new I,this.disableVert=new I},Fr.prototype.enableZeroWidthBar=function(t,e,n){t.style.pointerEvents="auto",e.set(1e3,function r(){var i=t.getBoundingClientRect(),o="vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);o!=t?t.style.pointerEvents="none":e.set(1e3,r)})},Fr.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Wr=function(){};function Hr(t,e){e||(e=Br(t));var n=t.display.barWidth,r=t.display.barHeight;Pr(t,e);for(var i=0;i<4&&n!=t.display.barWidth||r!=t.display.barHeight;i++)n!=t.display.barWidth&&t.options.lineWrapping&&br(t),Pr(t,Br(t)),n=t.display.barWidth,r=t.display.barHeight}function Pr(t,e){var n=t.display,r=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}Wr.prototype.update=function(){return{bottom:0,right:0}},Wr.prototype.setScrollLeft=function(){},Wr.prototype.setScrollTop=function(){},Wr.prototype.clear=function(){};var Ir={native:Fr,null:Wr};function zr(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&S(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new Ir[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),ee(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?Dr(t,e):Nr(t,e)},t),t.display.scrollbars.addClass&&D(t.display.wrapper,t.display.scrollbars.addClass)}var Rr=0;function jr(t){var e;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Rr},e=t.curOp,ln?ln.ops.push(e):e.ownsGroup=ln={ops:[e],delayedCallbacks:[]}}function Gr(t){var e=t.curOp;e&&function(t,e){var n=t.ownsGroup;if(n)try{!function(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var r=0;r<t.ops.length;r++){var i=t.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<e.length)}(n)}finally{ln=null,e(n)}}(e,function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;!function(t){for(var e=t.ops,n=0;n<e.length;n++)Ur(e[n]);for(var r=0;r<e.length;r++)(i=e[r]).updatedDisplay=i.mustUpdate&&ai(i.cm,i.update);for(var i,o=0;o<e.length;o++)Vr(e[o]);for(var a=0;a<e.length;a++)qr(e[a]);for(var l=0;l<e.length;l++)Xr(e[l])}(t)})}function Ur(t){var e=t.cm,n=e.display;!function(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Mn(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Mn(t)+"px",e.scrollbarsClipped=!0)}(e),t.updateMaxLine&&Zt(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new oi(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Vr(t){var e=t.cm,n=e.display;t.updatedDisplay&&br(e),t.barMeasure=Br(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Nn(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+Mn(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-On(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function qr(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Dr(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==E();t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Hr(e,t.barMeasure),t.updatedDisplay&&ci(e,t.barMeasure),t.selectionChanged&&pr(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&vr(t.cm)}function Xr(t){var e=t.cm,n=e.display,r=e.doc;if(t.updatedDisplay&&li(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=t.scrollTop&&Er(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&Dr(e,t.scrollLeft,!0,!0),t.scrollToPos){var i=function(t,e,n,r){var i;null==r&&(r=0),t.options.lineWrapping||e!=n||(e=e.ch?vt(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e,n="before"==e.sticky?vt(e.line,e.ch+1,"before"):e);for(var o=0;o<5;o++){var a=!1,l=Kn(t,e),u=n&&n!=e?Kn(t,n):l;i={left:Math.min(l.left,u.left),top:Math.min(l.top,u.top)-r,right:Math.max(l.left,u.left),bottom:Math.max(l.bottom,u.bottom)+r};var s=Lr(t,i),c=t.doc.scrollTop,f=t.doc.scrollLeft;if(null!=s.scrollTop&&(Nr(t,s.scrollTop),Math.abs(t.doc.scrollTop-c)>1&&(a=!0)),null!=s.scrollLeft&&(Dr(t,s.scrollLeft),Math.abs(t.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return i}(e,_t(r,t.scrollToPos.from),_t(r,t.scrollToPos.to),t.scrollToPos.margin);!function(t,e){if(!oe(t,"scrollCursorIntoView")){var n=t.display,r=n.sizer.getBoundingClientRect(),i=null;if(e.top+r.top<0?i=!0:e.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!g){var o=T("div","​",null,"position: absolute;\n                         top: "+(e.top-n.viewOffset-Cn(t.display))+"px;\n                         height: "+(e.bottom-e.top+Mn(t)+n.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(i),t.display.lineSpace.removeChild(o)}}}(e,i)}var o=t.maybeHiddenMarkers,a=t.maybeUnhiddenMarkers;if(o)for(var l=0;l<o.length;++l)o[l].lines.length||ie(o[l],"hide");if(a)for(var u=0;u<a.length;++u)a[u].lines.length&&ie(a[u],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&ie(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Kr(t,e){if(t.curOp)return e();jr(t);try{return e()}finally{Gr(t)}}function Zr(t,e){return function(){if(t.curOp)return e.apply(t,arguments);jr(t);try{return e.apply(t,arguments)}finally{Gr(t)}}}function Jr(t){return function(){if(this.curOp)return t.apply(this,arguments);jr(this);try{return t.apply(this,arguments)}finally{Gr(this)}}}function Qr(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);jr(e);try{return t.apply(this,arguments)}finally{Gr(e)}}}function Yr(t,e,n,r){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),r||(r=0);var i=t.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>e)&&(i.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=i.viewTo)St&&Gt(t.doc,e)<i.viewTo&&ti(t);else if(n<=i.viewFrom)St&&Ut(t.doc,n+r)>i.viewFrom?ti(t):(i.viewFrom+=r,i.viewTo+=r);else if(e<=i.viewFrom&&n>=i.viewTo)ti(t);else if(e<=i.viewFrom){var o=ei(t,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):ti(t)}else if(n>=i.viewTo){var a=ei(t,e,e,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):ti(t)}else{var l=ei(t,e,e,-1),u=ei(t,n,n+r,1);l&&u?(i.view=i.view.slice(0,l.index).concat(an(t,l.lineN,u.lineN)).concat(i.view.slice(u.index)),i.viewTo+=r):ti(t)}var s=i.externalMeasured;s&&(n<s.lineN?s.lineN+=r:e<s.lineN+s.size&&(i.externalMeasured=null))}function $r(t,e,n){t.curOp.viewChanged=!0;var r=t.display,i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size&&(r.externalMeasured=null),!(e<r.viewFrom||e>=r.viewTo)){var o=r.view[sr(t,e)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==z(a,n)&&a.push(n)}}}function ti(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function ei(t,e,n,r){var i,o=sr(t,e),a=t.display.view;if(!St||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var l=t.display.viewFrom,u=0;u<o;u++)l+=a[u].size;if(l!=e){if(r>0){if(o==a.length-1)return null;i=l+a[o].size-e,o++}else i=l-e;e+=i,n+=i}for(;Gt(t.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function ni(t){for(var e=t.display.view,n=0,r=0;r<e.length;r++){var i=e[r];i.hidden||i.node&&!i.changes||++n}return n}function ri(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,W(ii,t))}function ii(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,r=Ie(t,e.highlightFrontier),i=[];e.iter(r.line,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(r.line>=t.display.viewFrom){var a=o.styles,l=o.text.length>t.options.maxHighlightLength?Ne(e.mode,r.state):null,u=He(t,o,r,!0);l&&(r.state=l),o.styles=u.styles;var s=o.styleClasses,c=u.classes;c?o.styleClasses=c:s&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||s!=c&&(!s||!c||s.bgClass!=c.bgClass||s.textClass!=c.textClass),h=0;!f&&h<a.length;++h)f=a[h]!=o.styles[h];f&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=t.options.maxHighlightLength&&ze(t,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return ri(t,t.options.workDelay),!0}),e.highlightFrontier=r.line,e.modeFrontier=Math.max(e.modeFrontier,r.line),i.length&&Kr(t,function(){for(var e=0;e<i.length;e++)$r(t,i[e],"text")})}}var oi=function(t,e,n){var r=t.display;this.viewport=e,this.visible=kr(r,t.doc,e),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=On(t),this.force=n,this.dims=ir(t),this.events=[]};function ai(t,e){var n=t.display,r=t.doc;if(e.editorIsHidden)return ti(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==ni(t))return!1;Cr(t)&&(ti(t),e.dims=ir(t));var i=r.first+r.size,o=Math.max(e.visible.from-t.options.viewportMargin,r.first),a=Math.min(i,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),St&&(o=Gt(t.doc,o),a=Ut(t.doc,a));var l=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;!function(t,e,n){var r=t.display;0==r.view.length||e>=r.viewTo||n<=r.viewFrom?(r.view=an(t,e,n),r.viewFrom=e):(r.viewFrom>e?r.view=an(t,e,r.viewFrom).concat(r.view):r.viewFrom<e&&(r.view=r.view.slice(sr(t,e))),r.viewFrom=e,r.viewTo<n?r.view=r.view.concat(an(t,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,sr(t,n)))),r.viewTo=n}(t,o,a),n.viewOffset=Xt(ut(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var s=ni(t);if(!l&&0==s&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=function(t){if(t.hasFocus())return null;var e=E();if(!e||!N(t.display.lineDiv,e))return null;var n={activeElt:e};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&N(t.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(t);return s>4&&(n.lineDiv.style.display="none"),function(t,e,n){var r=t.display,i=t.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function l(e){var n=e.nextSibling;return u&&y&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var s=r.view,c=r.viewFrom,f=0;f<s.length;f++){var h=s[f];if(h.hidden)   ;else if(h.node&&h.node.parentNode==o){for(;a!=h.node;)a=l(a);var d=i&&null!=e&&e<=c&&h.lineNumber;h.changes&&(z(h.changes,"gutter")>-1&&(d=!1),fn(t,h,c,n)),d&&(M(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(pt(t.options,c)))),a=h.node.nextSibling}else{var g=yn(t,h,c,n);o.insertBefore(g,a)}c+=h.size}for(;a;)a=l(a)}(t,n.updateLineNumbers,e.dims),s>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(t){if(t&&t.activeElt&&t.activeElt!=E()&&(t.activeElt.focus(),t.anchorNode&&N(document.body,t.anchorNode)&&N(document.body,t.focusNode))){var e=window.getSelection(),n=document.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),e.removeAllRanges(),e.addRange(n),e.extend(t.focusNode,t.focusOffset)}}(c),M(n.cursorDiv),M(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,l&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,ri(t,400)),n.updateLineNumbers=null,!0}function li(t,e){for(var n=e.viewport,r=!0;(r&&t.options.lineWrapping&&e.oldDisplayWidth!=On(t)||(n&&null!=n.top&&(n={top:Math.min(t.doc.height+Ln(t.display)-Tn(t),n.top)}),e.visible=kr(t.display,t.doc,n),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&ai(t,e);r=!1){br(t);var i=Br(t);cr(t),Hr(t,i),ci(t,i),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function ui(t,e){var n=new oi(t,e);if(ai(t,n)){br(t),li(t,n);var r=Br(t);cr(t),Hr(t,r),ci(t,r),n.finish()}}function si(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function ci(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Mn(t)+"px"}function fi(t){var e=t.display.gutters,n=t.options.gutters;M(e);for(var r=0;r<n.length;++r){var i=n[r],o=e.appendChild(T("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=r?"":"none",si(t)}function hi(t){var e=z(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}oi.prototype.signal=function(t,e){le(t,e)&&this.events.push(arguments)},oi.prototype.finish=function(){for(var t=0;t<this.events.length;t++)ie.apply(null,this.events[t])};var di=0,gi=null;function pi(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}}function vi(t){var e=pi(t);return e.x*=gi,e.y*=gi,e}function mi(t,e){var r=pi(e),i=r.x,o=r.y,a=t.display,l=a.scroller,s=l.scrollWidth>l.clientWidth,c=l.scrollHeight>l.clientHeight;if(i&&s||o&&c){if(o&&y&&u)t:for(var h=e.target,d=a.view;h!=l;h=h.parentNode)for(var g=0;g<d.length;g++)if(d[g].node==h){t.display.currentWheelTarget=h;break t}if(i&&!n&&!f&&null!=gi)return o&&c&&Nr(t,Math.max(0,l.scrollTop+o*gi)),Dr(t,Math.max(0,l.scrollLeft+i*gi)),(!o||o&&c)&&se(e),void(a.wheelStartX=null);if(o&&null!=gi){var p=o*gi,v=t.doc.scrollTop,m=v+a.wrapper.clientHeight;p<0?v=Math.max(0,v+p-50):m=Math.min(t.doc.height,m+p+50),ui(t,{top:v,bottom:m})}di<20&&(null==a.wheelStartX?(a.wheelStartX=l.scrollLeft,a.wheelStartY=l.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout(function(){if(null!=a.wheelStartX){var t=l.scrollLeft-a.wheelStartX,e=l.scrollTop-a.wheelStartY,n=e&&a.wheelDY&&e/a.wheelDY||t&&a.wheelDX&&t/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(gi=(gi*di+n)/(di+1),++di)}},200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?gi=-.53:n?gi=15:c?gi=-.7:h&&(gi=-1/3);var yi=function(t,e){this.ranges=t,this.primIndex=e};yi.prototype.primary=function(){return this.ranges[this.primIndex]},yi.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],r=t.ranges[e];if(!yt(n.anchor,r.anchor)||!yt(n.head,r.head))return!1}return!0},yi.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new wi(wt(this.ranges[e].anchor),wt(this.ranges[e].head));return new yi(t,this.primIndex)},yi.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},yi.prototype.contains=function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(mt(e,r.from())>=0&&mt(t,r.to())<=0)return n}return-1};var wi=function(t,e){this.anchor=t,this.head=e};function bi(t,e,n){var r=t&&t.options.selectionsMayTouch,i=e[n];e.sort(function(t,e){return mt(t.from(),e.from())}),n=z(e,i);for(var o=1;o<e.length;o++){var a=e[o],l=e[o-1],u=mt(l.to(),a.from());if(r&&!a.empty()?u>0:u>=0){var s=xt(l.from(),a.from()),c=bt(l.to(),a.to()),f=l.empty()?a.from()==a.head:l.from()==l.head;o<=n&&--n,e.splice(--o,2,new wi(f?c:s,f?s:c))}}return new yi(e,n)}function xi(t,e){return new yi([new wi(t,e||t)],0)}function ki(t){return t.text?vt(t.from.line+t.text.length-1,Z(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function _i(t,e){if(mt(t,e.from)<0)return t;if(mt(t,e.to)<=0)return ki(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=ki(e).ch-e.to.ch),vt(n,r)}function Ci(t,e){for(var n=[],r=0;r<t.sel.ranges.length;r++){var i=t.sel.ranges[r];n.push(new wi(_i(i.anchor,e),_i(i.head,e)))}return bi(t.cm,n,t.sel.primIndex)}function Li(t,e,n){return t.line==e.line?vt(n.line,t.ch-e.ch+n.ch):vt(n.line+(t.line-e.line),t.ch)}function Si(t){t.doc.mode=Oe(t.options,t.doc.modeOption),Mi(t)}function Mi(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,ri(t,100),t.state.modeGen++,t.curOp&&Yr(t)}function Oi(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Z(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Ti(t,e,n,r){function i(t){return n?n[t]:null}function o(t,n,i){!function(t,e,n,r){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Et(t),Dt(t,n);var i=r?r(t):1;i!=t.height&&ft(t,i)}(t,n,i,r),sn(t,"change",t,e)}function a(t,e){for(var n=[],o=t;o<e;++o)n.push(new Xe(s[o],i(o),r));return n}var l=e.from,u=e.to,s=e.text,c=ut(t,l.line),f=ut(t,u.line),h=Z(s),d=i(s.length-1),g=u.line-l.line;if(e.full)t.insert(0,a(0,s.length)),t.remove(s.length,t.size-s.length);else if(Oi(t,e)){var p=a(0,s.length-1);o(f,f.text,d),g&&t.remove(l.line,g),p.length&&t.insert(l.line,p)}else if(c==f)if(1==s.length)o(c,c.text.slice(0,l.ch)+h+c.text.slice(u.ch),d);else{var v=a(1,s.length-1);v.push(new Xe(h+c.text.slice(u.ch),d,r)),o(c,c.text.slice(0,l.ch)+s[0],i(0)),t.insert(l.line+1,v)}else if(1==s.length)o(c,c.text.slice(0,l.ch)+s[0]+f.text.slice(u.ch),i(0)),t.remove(l.line+1,g);else{o(c,c.text.slice(0,l.ch)+s[0],i(0)),o(f,h+f.text.slice(u.ch),d);var m=a(1,s.length-1);g>1&&t.remove(l.line+1,g-1),t.insert(l.line+1,m)}sn(t,"change",t,e)}function Ai(t,e,n){!function t(r,i,o){if(r.linked)for(var a=0;a<r.linked.length;++a){var l=r.linked[a];if(l.doc!=i){var u=o&&l.sharedHist;n&&!u||(e(l.doc,u),t(l.doc,r,u))}}}(t,null,!0)}function Ni(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,lr(t),Si(t),Ei(t),t.options.lineWrapping||Zt(t),t.options.mode=e.modeOption,Yr(t)}function Ei(t){("rtl"==t.doc.direction?D:S)(t.display.lineDiv,"CodeMirror-rtl")}function Di(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function Bi(t,e){var n={from:wt(e.from),to:ki(e),text:st(t,e.from,e.to)};return Ii(t,n,e.from.line,e.to.line+1),Ai(t,function(t){return Ii(t,n,e.from.line,e.to.line+1)},!0),n}function Fi(t){for(;t.length;){var e=Z(t);if(!e.ranges)break;t.pop()}}function Wi(t,e,n,r){var i=t.history;i.undone.length=0;var o,a,l=+new Date;if((i.lastOp==r||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&i.lastModTime>l-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(o=function(t,e){return e?(Fi(t.done),Z(t.done)):t.done.length&&!Z(t.done).ranges?Z(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Z(t.done)):void 0}(i,i.lastOp==r)))a=Z(o.changes),0==mt(e.from,e.to)&&0==mt(e.from,a.to)?a.to=ki(e):o.changes.push(Bi(t,e));else{var u=Z(i.done);for(u&&u.ranges||Pi(t.sel,i.done),o={changes:[Bi(t,e)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=l,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=e.origin,a||ie(t,"historyAdded")}function Hi(t,e,n,r){var i=t.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(t,e,n,r){var i=e.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,o,Z(i.done),e))?i.done[i.done.length-1]=e:Pi(e,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Fi(i.undone)}function Pi(t,e){var n=Z(e);n&&n.ranges&&n.equals(t)||e.push(t)}function Ii(t,e,n,r){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,r),function(n){n.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=n.markedSpans),++o})}function zi(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function Ri(t,e){var n=function(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var r=[],i=0;i<e.text.length;++i)r.push(zi(n[i]));return r}(t,e),r=At(t,e);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)t:for(var l=0;l<a.length;++l){for(var u=a[l],s=0;s<o.length;++s)if(o[s].marker==u.marker)continue t;o.push(u)}else a&&(n[i]=a)}return n}function ji(t,e,n){for(var r=[],i=0;i<t.length;++i){var o=t[i];if(o.ranges)r.push(n?yi.prototype.deepCopy.call(o):o);else{var a=o.changes,l=[];r.push({changes:l});for(var u=0;u<a.length;++u){var s=a[u],c=void 0;if(l.push({from:s.from,to:s.to,text:s.text}),e)for(var f in s)(c=f.match(/^spans_(\d+)$/))&&z(e,Number(c[1]))>-1&&(Z(l)[f]=s[f],delete s[f])}}}return r}function Gi(t,e,n,r){if(r){var i=t.anchor;if(n){var o=mt(e,i)<0;o!=mt(n,i)<0?(i=e,e=n):o!=mt(e,n)<0&&(e=n)}return new wi(i,e)}return new wi(n||e,e)}function Ui(t,e,n,r,i){null==i&&(i=t.cm&&(t.cm.display.shift||t.extend)),Zi(t,new yi([Gi(t.sel.primary(),e,n,i)],0),r)}function Vi(t,e,n){for(var r=[],i=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)r[o]=Gi(t.sel.ranges[o],e[o],null,i);var a=bi(t.cm,r,t.sel.primIndex);Zi(t,a,n)}function qi(t,e,n,r){var i=t.sel.ranges.slice(0);i[e]=n,Zi(t,bi(t.cm,i,t.sel.primIndex),r)}function Xi(t,e,n,r){Zi(t,xi(e,n),r)}function Ki(t,e,n){var r=t.history.done,i=Z(r);i&&i.ranges?(r[r.length-1]=e,Ji(t,e,n)):Zi(t,e,n)}function Zi(t,e,n){Ji(t,e,n),Hi(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function Ji(t,e,n){(le(t,"beforeSelectionChange")||t.cm&&le(t.cm,"beforeSelectionChange"))&&(e=function(t,e,n){var r={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new wi(_t(t,e[n].anchor),_t(t,e[n].head))},origin:n&&n.origin};return ie(t,"beforeSelectionChange",t,r),t.cm&&ie(t.cm,"beforeSelectionChange",t.cm,r),r.ranges!=e.ranges?bi(t.cm,r.ranges,r.ranges.length-1):e}(t,e,n));var r=n&&n.bias||(mt(e.primary().head,t.sel.primary().head)<0?-1:1);Qi(t,$i(t,e,r,!0)),n&&!1===n.scroll||!t.cm||Mr(t.cm)}function Qi(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,ae(t.cm)),sn(t,"cursorActivity",t))}function Yi(t){Qi(t,$i(t,t.sel,null,!1))}function $i(t,e,n,r){for(var i,o=0;o<e.ranges.length;o++){var a=e.ranges[o],l=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],u=eo(t,a.anchor,l&&l.anchor,n,r),s=eo(t,a.head,l&&l.head,n,r);(i||u!=a.anchor||s!=a.head)&&(i||(i=e.ranges.slice(0,o)),i[o]=new wi(u,s))}return i?bi(t.cm,i,e.primIndex):e}function to(t,e,n,r,i){var o=ut(t,e.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var l=o.markedSpans[a],u=l.marker;if((null==l.from||(u.inclusiveLeft?l.from<=e.ch:l.from<e.ch))&&(null==l.to||(u.inclusiveRight?l.to>=e.ch:l.to>e.ch))){if(i&&(ie(u,"beforeCursorEnter"),u.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!u.atomic)continue;if(n){var s=u.find(r<0?1:-1),c=void 0;if((r<0?u.inclusiveRight:u.inclusiveLeft)&&(s=no(t,s,-r,s&&s.line==e.line?o:null)),s&&s.line==e.line&&(c=mt(s,n))&&(r<0?c<0:c>0))return to(t,s,e,r,i)}var f=u.find(r<0?-1:1);return(r<0?u.inclusiveLeft:u.inclusiveRight)&&(f=no(t,f,r,f.line==e.line?o:null)),f?to(t,f,e,r,i):null}}return e}function eo(t,e,n,r,i){var o=r||1,a=to(t,e,n,o,i)||!i&&to(t,e,n,o,!0)||to(t,e,n,-o,i)||!i&&to(t,e,n,-o,!0);return a||(t.cantEdit=!0,vt(t.first,0))}function no(t,e,n,r){return n<0&&0==e.ch?e.line>t.first?_t(t,vt(e.line-1)):null:n>0&&e.ch==(r||ut(t,e.line)).text.length?e.line<t.first+t.size-1?vt(e.line+1,0):null:new vt(e.line,e.ch+n)}function ro(t){t.setSelection(vt(t.firstLine(),0),vt(t.lastLine()),G)}function io(t,e,n){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(e,n,i,o){e&&(r.from=_t(t,e)),n&&(r.to=_t(t,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),ie(t,"beforeChange",t,r),t.cm&&ie(t.cm,"beforeChange",t.cm,r),r.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function oo(t,e,n){if(t.cm){if(!t.cm.curOp)return Zr(t.cm,oo)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(le(t,"beforeChange")||t.cm&&le(t.cm,"beforeChange"))||(e=io(t,e,!0))){var r=Lt&&!n&&function(t,e,n){var r=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||r&&-1!=z(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:e,to:n}],o=0;o<r.length;++o)for(var a=r[o],l=a.find(0),u=0;u<i.length;++u){var s=i[u];if(!(mt(s.to,l.from)<0||mt(s.from,l.to)>0)){var c=[u,1],f=mt(s.from,l.from),h=mt(s.to,l.to);(f<0||!a.inclusiveLeft&&!f)&&c.push({from:s.from,to:l.from}),(h>0||!a.inclusiveRight&&!h)&&c.push({from:l.to,to:s.to}),i.splice.apply(i,c),u+=c.length-3}}return i}(t,e.from,e.to);if(r)for(var i=r.length-1;i>=0;--i)ao(t,{from:r[i].from,to:r[i].to,text:i?[""]:e.text,origin:e.origin});else ao(t,e)}}function ao(t,e){if(1!=e.text.length||""!=e.text[0]||0!=mt(e.from,e.to)){var n=Ci(t,e);Wi(t,e,n,t.cm?t.cm.curOp.id:NaN),so(t,e,n,At(t,e));var r=[];Ai(t,function(t,n){n||-1!=z(r,t.history)||(go(t.history,e),r.push(t.history)),so(t,e,null,At(t,e))})}}function lo(t,e,n){var r=t.cm&&t.cm.state.suppressEdits;if(!r||n){for(var i,o=t.history,a=t.sel,l="undo"==e?o.done:o.undone,u="undo"==e?o.undone:o.done,s=0;s<l.length&&(i=l[s],n?!i.ranges||i.equals(t.sel):i.ranges);s++);if(s!=l.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=l.pop()).ranges){if(r)return void l.push(i);break}if(Pi(i,u),n&&!i.equals(t.sel))return void Zi(t,i,{clearRedo:!1});a=i}var c=[];Pi(a,u),u.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var f=le(t,"beforeChange")||t.cm&&le(t.cm,"beforeChange"),h=function(n){var r=i.changes[n];if(r.origin=e,f&&!io(t,r,!1))return l.length=0,{};c.push(Bi(t,r));var o=n?Ci(t,r):Z(l);so(t,r,o,Ri(t,r)),!n&&t.cm&&t.cm.scrollIntoView({from:r.from,to:ki(r)});var a=[];Ai(t,function(t,e){e||-1!=z(a,t.history)||(go(t.history,r),a.push(t.history)),so(t,r,null,Ri(t,r))})},d=i.changes.length-1;d>=0;--d){var g=h(d);if(g)return g.v}}}}function uo(t,e){if(0!=e&&(t.first+=e,t.sel=new yi(J(t.sel.ranges,function(t){return new wi(vt(t.anchor.line+e,t.anchor.ch),vt(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){Yr(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,r=n.viewFrom;r<n.viewTo;r++)$r(t.cm,r,"gutter")}}function so(t,e,n,r){if(t.cm&&!t.cm.curOp)return Zr(t.cm,so)(t,e,n,r);if(e.to.line<t.first)uo(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);uo(t,i),e={from:vt(t.first,0),to:vt(e.to.line+i,e.to.ch),text:[Z(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:vt(o,ut(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=st(t,e.from,e.to),n||(n=Ci(t,e)),t.cm?function(t,e,n){var r=t.doc,i=t.display,o=e.from,a=e.to,l=!1,u=o.line;t.options.lineWrapping||(u=ht(jt(ut(r,o.line))),r.iter(u,a.line+1,function(t){if(t==i.maxLine)return l=!0,!0})),r.sel.contains(e.from,e.to)>-1&&ae(t),Ti(r,e,n,ar(t)),t.options.lineWrapping||(r.iter(u,o.line+e.text.length,function(t){var e=Kt(t);e>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=e,i.maxLineChanged=!0,l=!1)}),l&&(t.curOp.updateMaxLine=!0)),function(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var n=t.first,r=e-1;r>n;r--){var i=ut(t,r).stateAfter;if(i&&(!(i instanceof Fe)||r+i.lookAhead<e)){n=r+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,n)}}(r,o.line),ri(t,400);var s=e.text.length-(a.line-o.line)-1;e.full?Yr(t):o.line!=a.line||1!=e.text.length||Oi(t.doc,e)?Yr(t,o.line,a.line+1,s):$r(t,o.line,"text");var c=le(t,"changes"),f=le(t,"change");if(f||c){var h={from:o,to:a,text:e.text,removed:e.removed,origin:e.origin};f&&sn(t,"change",t,h),c&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(h)}t.display.selForContextMenu=null}(t.cm,e,r):Ti(t,e,r),Ji(t,n,G)}}function co(t,e,n,r,i){var o;r||(r=n),mt(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof e&&(e=t.splitLines(e)),oo(t,{from:n,to:r,text:e,origin:i})}function fo(t,e,n,r){n<t.line?t.line+=r:e<t.line&&(t.line=e,t.ch=0)}function ho(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i],a=!0;if(o.ranges){o.copied||((o=t[i]=o.deepCopy()).copied=!0);for(var l=0;l<o.ranges.length;l++)fo(o.ranges[l].anchor,e,n,r),fo(o.ranges[l].head,e,n,r)}else{for(var u=0;u<o.changes.length;++u){var s=o.changes[u];if(n<s.from.line)s.from=vt(s.from.line+r,s.from.ch),s.to=vt(s.to.line+r,s.to.ch);else if(e<=s.to.line){a=!1;break}}a||(t.splice(0,i+1),i=0)}}}function go(t,e){var n=e.from.line,r=e.to.line,i=e.text.length-(r-n)-1;ho(t.done,n,r,i),ho(t.undone,n,r,i)}function po(t,e,n,r){var i=e,o=e;return"number"==typeof e?o=ut(t,kt(t,e)):i=ht(e),null==i?null:(r(o,i)&&t.cm&&$r(t.cm,i,n),o)}function vo(t){this.lines=t,this.parent=null;for(var e=0,n=0;n<t.length;++n)t[n].parent=this,e+=t[n].height;this.height=e}function mo(t){this.children=t;for(var e=0,n=0,r=0;r<t.length;++r){var i=t[r];e+=i.chunkSize(),n+=i.height,i.parent=this}this.size=e,this.height=n,this.parent=null}wi.prototype.from=function(){return xt(this.anchor,this.head)},wi.prototype.to=function(){return bt(this.anchor,this.head)},wi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},vo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,r=t+e;n<r;++n){var i=this.lines[n];this.height-=i.height,Ke(i),sn(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0;r<e.length;++r)e[r].parent=this},iterN:function(t,e,n){for(var r=t+e;t<r;++t)if(n(this.lines[t]))return!0}},mo.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(t<i){var o=Math.min(e,i-t),a=r.height;if(r.removeInner(t,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(e-=o))break;t=0}else t-=i}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof vo))){var l=[];this.collapse(l),this.children=[new vo(l)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<=o){if(i.insertInner(t,e,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,l=a;l<i.lines.length;){var u=new vo(i.lines.slice(l,l+=25));i.height-=u.height,this.children.splice(++r,0,u),u.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new mo(e);if(t.parent){t.size-=n.size,t.height-=n.height;var r=z(t.parent.children,t);t.parent.children.splice(r+1,0,n)}else{var i=new mo(t.children);i.parent=t,t.children=[i,n],t=i}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<o){var a=Math.min(e,o-t);if(i.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=o}}};var yo=function(t,e,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=t,this.node=e};function wo(t,e,n){Xt(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Sr(t,n)}yo.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,r=ht(n);if(null!=r&&e){for(var i=0;i<e.length;++i)e[i]==this&&e.splice(i--,1);e.length||(n.widgets=null);var o=kn(this);ft(n,Math.max(0,n.height-o)),t&&(Kr(t,function(){wo(t,n,-o),$r(t,r,"widget")}),sn(t,"lineWidgetCleared",t,this,r))}},yo.prototype.changed=function(){var t=this,e=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=kn(this)-e;i&&(Vt(this.doc,r)||ft(r,r.height+i),n&&Kr(n,function(){n.curOp.forceUpdate=!0,wo(n,r,i),sn(n,"lineWidgetChanged",n,t,ht(r))}))},ue(yo);var bo=0,xo=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++bo};function ko(t,e,n,r,i){if(r&&r.shared)return function(t,e,n,r,i){(r=H(r)).shared=!1;var o=[ko(t,e,n,r,i)],a=o[0],l=r.widgetNode;return Ai(t,function(t){l&&(r.widgetNode=l.cloneNode(!0)),o.push(ko(t,_t(t,e),_t(t,n),r,i));for(var u=0;u<t.linked.length;++u)if(t.linked[u].isParent)return;a=Z(o)}),new _o(o,a)}(t,e,n,r,i);if(t.cm&&!t.cm.curOp)return Zr(t.cm,ko)(t,e,n,r,i);var o=new xo(t,i),a=mt(e,n);if(r&&H(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=A("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Rt(t,e.line,e,n,o)||e.line!=n.line&&Rt(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");St=!0}o.addToHistory&&Wi(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var l,u=e.line,s=t.cm;if(t.iter(u,n.line+1,function(t){s&&o.collapsed&&!s.options.lineWrapping&&jt(t)==s.display.maxLine&&(l=!0),o.collapsed&&u!=e.line&&ft(t,0),function(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}(t,new Mt(o,u==e.line?e.ch:null,u==n.line?n.ch:null)),++u}),o.collapsed&&t.iter(e.line,n.line+1,function(e){Vt(t,e)&&ft(e,0)}),o.clearOnEnter&&ee(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(Lt=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++bo,o.atomic=!0),s){if(l&&(s.curOp.updateMaxLine=!0),o.collapsed)Yr(s,e.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=e.line;c<=n.line;c++)$r(s,c,"text");o.atomic&&Yi(s.doc),sn(s,"markerAdded",s,o)}return o}xo.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&jr(t),le(this,"clear")){var n=this.find();n&&sn(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],l=Ot(a.markedSpans,this);t&&!this.collapsed?$r(t,ht(a),"text"):t&&(null!=l.to&&(i=ht(a)),null!=l.from&&(r=ht(a))),a.markedSpans=Tt(a.markedSpans,l),null==l.from&&this.collapsed&&!Vt(this.doc,a)&&t&&ft(a,nr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var s=jt(this.lines[u]),c=Kt(s);c>t.display.maxLineLength&&(t.display.maxLine=s,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&Yr(t,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Yi(t.doc)),t&&sn(t,"markerCleared",t,this,r,i),e&&Gr(t),this.parent&&this.parent.clear()}},xo.prototype.find=function(t,e){var n,r;null==t&&"bookmark"==this.type&&(t=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Ot(o.markedSpans,this);if(null!=a.from&&(n=vt(e?o:ht(o),a.from),-1==t))return n;if(null!=a.to&&(r=vt(e?o:ht(o),a.to),1==t))return r}return n&&{from:n,to:r}},xo.prototype.changed=function(){var t=this,e=this.find(-1,!0),n=this,r=this.doc.cm;e&&r&&Kr(r,function(){var i=e.line,o=ht(e.line),a=En(r,o);if(a&&(In(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!Vt(n.doc,i)&&null!=n.height){var l=n.height;n.height=null;var u=kn(n)-l;u&&ft(i,i.height+u)}sn(r,"markerChanged",r,t)})},xo.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=z(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},xo.prototype.detachLine=function(t){if(this.lines.splice(z(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},ue(xo);var _o=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};function Co(t){return t.findMarks(vt(t.first,0),t.clipPos(vt(t.lastLine())),function(t){return t.parent})}function Lo(t){for(var e=function(e){var n=t[e],r=[n.primary.doc];Ai(n.primary.doc,function(t){return r.push(t)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==z(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<t.length;n++)e(n)}_o.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();sn(this,"clear")}},_o.prototype.find=function(t,e){return this.primary.find(t,e)},ue(_o);var So=0,Mo=function(t,e,n,r,i){if(!(this instanceof Mo))return new Mo(t,e,n,r,i);null==n&&(n=0),mo.call(this,[new vo([new Xe("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=vt(n,0);this.sel=xi(o),this.history=new Di(null),this.id=++So,this.modeOption=e,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Ti(this,{from:o,to:o,text:t}),Zi(this,xi(o),G)};Mo.prototype=Y(mo.prototype,{constructor:Mo,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,r=0;r<e.length;++r)n+=e[r].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=ct(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:Qr(function(t){var e=vt(this.first,0),n=this.first+this.size-1;oo(this,{from:e,to:vt(n,ut(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Or(this.cm,0,0),Zi(this,xi(e),G)}),replaceRange:function(t,e,n,r){e=_t(this,e),n=n?_t(this,n):e,co(this,t,e,n,r)},getRange:function(t,e,n){var r=st(this,_t(this,t),_t(this,e));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(gt(this,t))return ut(this,t)},getLineNumber:function(t){return ht(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=ut(this,t)),jt(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return _t(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Qr(function(t,e,n){Xi(this,_t(this,"number"==typeof t?vt(t,e||0):t),null,n)}),setSelection:Qr(function(t,e,n){Xi(this,_t(this,t),_t(this,e||t),n)}),extendSelection:Qr(function(t,e,n){Ui(this,_t(this,t),e&&_t(this,e),n)}),extendSelections:Qr(function(t,e){Vi(this,Ct(this,t),e)}),extendSelectionsBy:Qr(function(t,e){var n=J(this.sel.ranges,t);Vi(this,Ct(this,n),e)}),setSelections:Qr(function(t,e,n){if(t.length){for(var r=[],i=0;i<t.length;i++)r[i]=new wi(_t(this,t[i].anchor),_t(this,t[i].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Zi(this,bi(this.cm,r,e),n)}}),addSelection:Qr(function(t,e,n){var r=this.sel.ranges.slice(0);r.push(new wi(_t(this,t),_t(this,e||t))),Zi(this,bi(this.cm,r,r.length-1),n)}),getSelection:function(t){for(var e,n=this.sel.ranges,r=0;r<n.length;r++){var i=st(this,n[r].from(),n[r].to());e=e?e.concat(i):i}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=st(this,n[r].from(),n[r].to());!1!==t&&(i=i.join(t||this.lineSeparator())),e[r]=i}return e},replaceSelection:function(t,e,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=t;this.replaceSelections(r,e,n||"+input")},replaceSelections:Qr(function(t,e,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(t[o]),origin:n}}for(var l=e&&"end"!=e&&function(t,e,n){for(var r=[],i=vt(t.first,0),o=i,a=0;a<e.length;a++){var l=e[a],u=Li(l.from,i,o),s=Li(ki(l),i,o);if(i=l.to,o=s,"around"==n){var c=t.sel.ranges[a],f=mt(c.head,c.anchor)<0;r[a]=new wi(f?s:u,f?u:s)}else r[a]=new wi(u,u)}return new yi(r,t.sel.primIndex)}(this,r,e),u=r.length-1;u>=0;u--)oo(this,r[u]);l?Ki(this,l):this.cm&&Mr(this.cm)}),undo:Qr(function(){lo(this,"undo")}),redo:Qr(function(){lo(this,"redo")}),undoSelection:Qr(function(){lo(this,"undo",!0)}),redoSelection:Qr(function(){lo(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,r=0;r<t.done.length;r++)t.done[r].ranges||++e;for(var i=0;i<t.undone.length;i++)t.undone[i].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new Di(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:ji(this.history.done),undone:ji(this.history.undone)}},setHistory:function(t){var e=this.history=new Di(this.history.maxGeneration);e.done=ji(t.done.slice(0),null,!0),e.undone=ji(t.undone.slice(0),null,!0)},setGutterMarker:Qr(function(t,e,n){return po(this,t,"gutter",function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[e]=n,!n&&nt(r)&&(t.gutterMarkers=null),!0})}),clearGutter:Qr(function(t){var e=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&po(e,n,"gutter",function(){return n.gutterMarkers[t]=null,nt(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if("number"==typeof t){if(!gt(this,t))return null;if(e=t,!(t=ut(this,t)))return null}else if(null==(e=ht(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:Qr(function(t,e,n){return po(this,t,"gutter"==e?"gutter":"class",function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[r]){if(C(n).test(t[r]))return!1;t[r]+=" "+n}else t[r]=n;return!0})}),removeLineClass:Qr(function(t,e,n){return po(this,t,"gutter"==e?"gutter":"class",function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",i=t[r];if(!i)return!1;if(null==n)t[r]=null;else{var o=i.match(C(n));if(!o)return!1;var a=o.index+o[0].length;t[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:Qr(function(t,e,n){return function(t,e,n,r){var i=new yo(t,n,r),o=t.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),po(t,e,"widget",function(e){var n=e.widgets||(e.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,o&&!Vt(t,e)){var r=Xt(e)<t.scrollTop;ft(e,e.height+kn(i)),r&&Sr(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&sn(o,"lineWidgetAdded",o,i,"number"==typeof e?e:ht(e)),i}(this,t,e,n)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return ko(this,_t(this,t),_t(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return ko(this,t=_t(this,t),t,n,"bookmark")},findMarksAt:function(t){t=_t(this,t);var e=[],n=ut(this,t.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e,n){t=_t(this,t),e=_t(this,e);var r=[],i=t.line;return this.iter(t.line,e.line+1,function(o){var a=o.markedSpans;if(a)for(var l=0;l<a.length;l++){var u=a[l];null!=u.to&&i==t.line&&t.ch>=u.to||null==u.from&&i!=t.line||null!=u.from&&i==e.line&&u.from>=e.ch||n&&!n(u.marker)||r.push(u.marker.parent||u.marker)}++i}),r},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&t.push(n[r].marker)}),t},posFromIndex:function(t){var e,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>t)return e=t,!0;t-=o,++n}),_t(this,vt(n,e))},indexFromPos:function(t){var e=(t=_t(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+n}),e},copy:function(t){var e=new Mo(ct(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var r=new Mo(ct(this,e,n),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=r.find(),o=t.clipPos(i.from),a=t.clipPos(i.to);if(mt(o,a)){var l=ko(t,o,a,r.primary,r.primary.type);r.markers.push(l),l.parent=r}}}(r,Co(this)),r},unlinkDoc:function(t){if(t instanceof Ca&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){var n=this.linked[e];if(n.doc==t){this.linked.splice(e,1),t.unlinkDoc(this),Lo(Co(this));break}}if(t.history==this.history){var r=[t.id];Ai(t,function(t){return r.push(t.id)},!0),t.history=new Di(null),t.history.done=ji(this.history.done,r),t.history.undone=ji(this.history.undone,r)}},iterLinkedDocs:function(t){Ai(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):xe(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Qr(function(t){var e;"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(t){return t.order=null}),this.cm&&Kr(e=this.cm,function(){Ei(e),Yr(e)}))})}),Mo.prototype.eachLine=Mo.prototype.iter;var Oo=0;function To(t){var e=this;if(Ao(e),!oe(e,t)&&!_n(e.display,t)){se(t),a&&(Oo=+new Date);var n=ur(e,t,!0),r=t.dataTransfer.files;if(n&&!e.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),l=0,u=function(t,r){if(!e.options.allowDropFileTypes||-1!=z(e.options.allowDropFileTypes,t.type)){var a=new FileReader;a.onload=Zr(e,function(){var t=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[r]=t,++l==i){var u={from:n=_t(e.doc,n),to:n,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};oo(e.doc,u),Ki(e.doc,xi(n,ki(u)))}}),a.readAsText(t)}},s=0;s<i;++s)u(r[s],s);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout(function(){return e.display.input.focus()},20);try{var c=t.dataTransfer.getData("Text");if(c){var f;if(e.state.draggingText&&!e.state.draggingText.copy&&(f=e.listSelections()),Ji(e.doc,xi(n,n)),f)for(var h=0;h<f.length;++h)co(e.doc,"",f[h].anchor,f[h].head,"drag");e.replaceSelection(c,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Ao(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function No(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<e.length;r++){var i=e[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation(function(){for(var e=0;e<n.length;e++)t(n[e])})}}var Eo=!1;function Do(){var t;Eo||(ee(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,No(Bo)},100))}),ee(window,"blur",function(){return No(wr)}),Eo=!0)}function Bo(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var Fo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Wo=0;Wo<10;Wo++)Fo[Wo+48]=Fo[Wo+96]=String(Wo);for(var Ho=65;Ho<=90;Ho++)Fo[Ho]=String.fromCharCode(Ho);for(var Po=1;Po<=12;Po++)Fo[Po+111]=Fo[Po+63235]="F"+Po;var Io={};function zo(t){var e,n,r,i,o=t.split(/-(?!$)/);t=o[o.length-1];for(var a=0;a<o.length-1;a++){var l=o[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))e=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else{if(!/^s(hift)?$/i.test(l))throw new Error("Unrecognized modifier name: "+l);r=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),i&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function Ro(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete t[n];continue}for(var i=J(n.split(" "),zo),o=0;o<i.length;o++){var a=void 0,l=void 0;o==i.length-1?(l=i.join(" "),a=r):(l=i.slice(0,o+1).join(" "),a="...");var u=e[l];if(u){if(u!=a)throw new Error("Inconsistent bindings for "+l)}else e[l]=a}delete t[n]}for(var s in e)t[s]=e[s];return t}function jo(t,e,n,r){var i=(e=qo(e)).call?e.call(t,r):e[t];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return jo(t,e.fallthrough,n,r);for(var o=0;o<e.fallthrough.length;o++){var a=jo(t,e.fallthrough[o],n,r);if(a)return a}}}function Go(t){var e="string"==typeof t?t:Fo[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Uo(t,e,n){var r=t;return e.altKey&&"Alt"!=r&&(t="Alt-"+t),(k?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(t="Ctrl-"+t),(k?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(t="Cmd-"+t),!n&&e.shiftKey&&"Shift"!=r&&(t="Shift-"+t),t}function Vo(t,e){if(f&&34==t.keyCode&&t.char)return!1;var n=Fo[t.keyCode];return null!=n&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(n=t.code),Uo(n,t,e))}function qo(t){return"string"==typeof t?Io[t]:t}function Xo(t,e){for(var n=t.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=e(n[i]);r.length&&mt(o.from,Z(r).to)<=0;){var a=r.pop();if(mt(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}Kr(t,function(){for(var e=r.length-1;e>=0;e--)co(t.doc,"",r[e].from,r[e].to,"+delete");Mr(t)})}function Ko(t,e,n){var r=ot(t.text,e+n,n);return r<0||r>t.text.length?null:r}function Zo(t,e,n){var r=Ko(t,e.ch,n);return null==r?null:new vt(e.line,r,n<0?"after":"before")}function Jo(t,e,n,r,i){if(t){var o=$t(n,e.doc.direction);if(o){var a,l=i<0?Z(o):o[0],u=i<0==(1==l.level),s=u?"after":"before";if(l.level>0||"rtl"==e.doc.direction){var c=Dn(e,n);a=i<0?n.text.length-1:0;var f=Bn(e,c,a).top;a=at(function(t){return Bn(e,c,t).top==f},i<0==(1==l.level)?l.from:l.to-1,a),"before"==s&&(a=Ko(n,a,1))}else a=i<0?l.to:l.from;return new vt(r,a,s)}}return new vt(r,i<0?n.text.length:0,i<0?"before":"after")}Io.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Io.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Io.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Io.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Io.default=y?Io.macDefault:Io.pcDefault;var Qo={selectAll:ro,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),G)},killLine:function(t){return Xo(t,function(e){if(e.empty()){var n=ut(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:vt(e.head.line+1,0)}:{from:e.head,to:vt(e.head.line,n)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){return Xo(t,function(e){return{from:vt(e.from().line,0),to:_t(t.doc,vt(e.to().line+1,0))}})},delLineLeft:function(t){return Xo(t,function(t){return{from:vt(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){return Xo(t,function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return{from:r,to:e.from()}})},delWrappedLineRight:function(t){return Xo(t,function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:r}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(vt(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(vt(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Yo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return $o(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return function(t,e){var n=ut(t.doc,e),r=function(t){for(var e;e=It(t);)t=e.find(1,!0).line;return t}(n);return r!=n&&(e=ht(r)),Jo(!0,t,n,e,-1)}(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")},V)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")},V)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return r.ch<t.getLine(r.line).search(/\S/)?$o(t,e.head):r},V)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"char")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),r=t.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=P(t.getLine(o.line),o.ch,r);e.push(K(r-a%r))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Kr(t,function(){for(var e=t.listSelections(),n=[],r=0;r<e.length;r++)if(e[r].empty()){var i=e[r].head,o=ut(t.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new vt(i.line,i.ch-1)),i.ch>0)i=new vt(i.line,i.ch+1),t.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),vt(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var a=ut(t.doc,i.line-1).text;a&&(i=new vt(i.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+a.charAt(a.length-1),vt(i.line-1,a.length-1),i,"+transpose"))}n.push(new wi(i,i))}t.setSelections(n)})},newlineAndIndent:function(t){return Kr(t,function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange(t.doc.lineSeparator(),e[n].anchor,e[n].head,"+input");e=t.listSelections();for(var r=0;r<e.length;r++)t.indentLine(e[r].from().line,null,!0);Mr(t)})},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function Yo(t,e){var n=ut(t.doc,e),r=jt(n);return r!=n&&(e=ht(r)),Jo(!0,t,r,e,1)}function $o(t,e){var n=Yo(t,e.line),r=ut(t.doc,n.line),i=$t(r,t.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=e.line==n.line&&e.ch<=o&&e.ch;return vt(n.line,a?0:o,n.sticky)}return n}function ta(t,e,n){if("string"==typeof e&&!(e=Qo[e]))return!1;t.display.input.ensurePolled();var r=t.display.shift,i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),i=e(t)!=j}finally{t.display.shift=r,t.state.suppressEdits=!1}return i}var ea=new I;function na(t,e,n,r){var i=t.state.keySeq;if(i){if(Go(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:ea.set(50,function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())}),ra(t,i+" "+e,n,r))return!0}return ra(t,e,n,r)}function ra(t,e,n,r){var i=function(t,e,n){for(var r=0;r<t.state.keyMaps.length;r++){var i=jo(e,t.state.keyMaps[r],n,t);if(i)return i}return t.options.extraKeys&&jo(e,t.options.extraKeys,n,t)||jo(e,t.options.keyMap,n,t)}(t,e,r);return"multi"==i&&(t.state.keySeq=e),"handled"==i&&sn(t,"keyHandled",t,e,n),"handled"!=i&&"multi"!=i||(se(n),pr(t)),!!i}function ia(t,e){var n=Vo(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?na(t,"Shift-"+n,e,function(e){return ta(t,e,!0)})||na(t,n,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return ta(t,e)}):na(t,n,e,function(e){return ta(t,e)}))}var oa=null;function aa(t){var e=this;if(e.curOp.focus=E(),!oe(e,t)){a&&l<11&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var r=ia(e,t);f&&(oa=r?n:null,!r&&88==n&&!_e&&(y?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||function(t){var e=t.display.lineDiv;function n(t){18!=t.keyCode&&t.altKey||(S(e,"CodeMirror-crosshair"),re(document,"keyup",n),re(document,"mouseover",n))}D(e,"CodeMirror-crosshair"),ee(document,"keyup",n),ee(document,"mouseover",n)}(e)}}function la(t){16==t.keyCode&&(this.doc.sel.shift=!1),oe(this,t)}function ua(t){var e=this;if(!(_n(e.display,t)||oe(e,t)||t.ctrlKey&&!t.altKey||y&&t.metaKey)){var n=t.keyCode,r=t.charCode;if(f&&n==oa)return oa=null,void se(t);if(!f||t.which&&!(t.which<10)||!ia(e,t)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(function(t,e,n){return na(t,"'"+n+"'",e,function(e){return ta(t,e,!0)})}(e,t,i)||e.display.input.onKeyPress(t))}}}var sa,ca,fa=function(t,e,n){this.time=t,this.pos=e,this.button=n};function ha(t){var e=this,n=e.display;if(!(oe(e,t)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=t.shiftKey,_n(n,t))u||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!pa(e,t)){var r=ur(e,t),i=ge(t),o=r?function(t,e){var n=+new Date;return ca&&ca.compare(n,t,e)?(sa=ca=null,"triple"):sa&&sa.compare(n,t,e)?(ca=new fa(n,t,e),sa=null,"double"):(sa=new fa(n,t,e),ca=null,"single")}(r,i):"single";window.focus(),1==i&&e.state.selectingText&&e.state.selectingText(t),r&&function(t,e,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),na(t,Uo(o=(1==e?"Left":2==e?"Middle":"Right")+o,i),i,function(e){if("string"==typeof e&&(e=Qo[e]),!e)return!1;var r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),r=e(t,n)!=j}finally{t.state.suppressEdits=!1}return r})}(e,i,r,o,t)||(1==i?r?function(t,e,n,r){a?setTimeout(W(vr,t),0):t.curOp.focus=E();var i,o=function(t,e,n){var r=t.getOption("configureMouse"),i=r?r(t,e,n):{};if(null==i.unit){var o=w?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==i.extend||t.doc.extend)&&(i.extend=t.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=y?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?n.altKey:n.ctrlKey)),i}(t,n,r),s=t.doc.sel;t.options.dragDrop&&me&&!t.isReadOnly()&&"single"==n&&(i=s.contains(e))>-1&&(mt((i=s.ranges[i]).from(),e)<0||e.xRel>0)&&(mt(i.to(),e)>0||e.xRel<0)?function(t,e,n,r){var i=t.display,o=!1,s=Zr(t,function(e){u&&(i.scroller.draggable=!1),t.state.draggingText=!1,re(i.wrapper.ownerDocument,"mouseup",s),re(i.wrapper.ownerDocument,"mousemove",c),re(i.scroller,"dragstart",f),re(i.scroller,"drop",s),o||(se(e),r.addNew||Ui(t.doc,n,null,null,r.extend),u||a&&9==l?setTimeout(function(){i.wrapper.ownerDocument.body.focus(),i.input.focus()},20):i.input.focus())}),c=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},f=function(){return o=!0};u&&(i.scroller.draggable=!0),t.state.draggingText=s,s.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),ee(i.wrapper.ownerDocument,"mouseup",s),ee(i.wrapper.ownerDocument,"mousemove",c),ee(i.scroller,"dragstart",f),ee(i.scroller,"drop",s),mr(t),setTimeout(function(){return i.input.focus()},20)}(t,r,e,o):function(t,e,n,r){var i=t.display,o=t.doc;se(e);var a,l,u=o.sel,s=u.ranges;if(r.addNew&&!r.extend?(l=o.sel.contains(n),a=l>-1?s[l]:new wi(n,n)):(a=o.sel.primary(),l=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new wi(n,n)),n=ur(t,e,!0,!0),l=-1;else{var c=da(t,n,r.unit);a=r.extend?Gi(a,c.anchor,c.head,r.extend):c}r.addNew?-1==l?(l=s.length,Zi(o,bi(t,s.concat([a]),l),{scroll:!1,origin:"*mouse"})):s.length>1&&s[l].empty()&&"char"==r.unit&&!r.extend?(Zi(o,bi(t,s.slice(0,l).concat(s.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),u=o.sel):qi(o,l,a,U):(l=0,Zi(o,new yi([a],0),U),u=o.sel);var f=n;function h(e){if(0!=mt(f,e))if(f=e,"rectangle"==r.unit){for(var i=[],s=t.options.tabSize,c=P(ut(o,n.line).text,n.ch,s),h=P(ut(o,e.line).text,e.ch,s),d=Math.min(c,h),g=Math.max(c,h),p=Math.min(n.line,e.line),v=Math.min(t.lastLine(),Math.max(n.line,e.line));p<=v;p++){var m=ut(o,p).text,y=q(m,d,s);d==g?i.push(new wi(vt(p,y),vt(p,y))):m.length>y&&i.push(new wi(vt(p,y),vt(p,q(m,g,s))))}i.length||i.push(new wi(n,n)),Zi(o,bi(t,u.ranges.slice(0,l).concat(i),l),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var w,b=a,x=da(t,e,r.unit),k=b.anchor;mt(x.anchor,k)>0?(w=x.head,k=xt(b.from(),x.anchor)):(w=x.anchor,k=bt(b.to(),x.head));var _=u.ranges.slice(0);_[l]=function(t,e){var n=e.anchor,r=e.head,i=ut(t.doc,n.line);if(0==mt(n,r)&&n.sticky==r.sticky)return e;var o=$t(i);if(!o)return e;var a=Qt(o,n.ch,n.sticky),l=o[a];if(l.from!=n.ch&&l.to!=n.ch)return e;var u,s=a+(l.from==n.ch==(1!=l.level)?0:1);if(0==s||s==o.length)return e;if(r.line!=n.line)u=(r.line-n.line)*("ltr"==t.doc.direction?1:-1)>0;else{var c=Qt(o,r.ch,r.sticky),f=c-a||(r.ch-n.ch)*(1==l.level?-1:1);u=c==s-1||c==s?f<0:f>0}var h=o[s+(u?-1:0)],d=u==(1==h.level),g=d?h.from:h.to,p=d?"after":"before";return n.ch==g&&n.sticky==p?e:new wi(new vt(n.line,g,p),r)}(t,new wi(_t(o,k),w)),Zi(o,bi(t,_,l),U)}}var d=i.wrapper.getBoundingClientRect(),g=0;function p(e){t.state.selectingText=!1,g=1/0,se(e),i.input.focus(),re(i.wrapper.ownerDocument,"mousemove",v),re(i.wrapper.ownerDocument,"mouseup",m),o.history.lastSelOrigin=null}var v=Zr(t,function(e){0!==e.buttons&&ge(e)?function e(n){var a=++g,l=ur(t,n,!0,"rectangle"==r.unit);if(l)if(0!=mt(l,f)){t.curOp.focus=E(),h(l);var u=kr(i,o);(l.line>=u.to||l.line<u.from)&&setTimeout(Zr(t,function(){g==a&&e(n)}),150)}else{var s=n.clientY<d.top?-20:n.clientY>d.bottom?20:0;s&&setTimeout(Zr(t,function(){g==a&&(i.scroller.scrollTop+=s,e(n))}),50)}}(e):p(e)}),m=Zr(t,p);t.state.selectingText=m,ee(i.wrapper.ownerDocument,"mousemove",v),ee(i.wrapper.ownerDocument,"mouseup",m)}(t,r,e,o)}(e,r,o,t):de(t)==n.scroller&&se(t):2==i?(r&&Ui(e.doc,r),setTimeout(function(){return n.input.focus()},20)):3==i&&(_?e.display.input.onContextMenu(t):mr(e)))}}function da(t,e,n){if("char"==n)return new wi(e,e);if("word"==n)return t.findWordAt(e);if("line"==n)return new wi(vt(e.line,0),_t(t.doc,vt(e.line+1,0)));var r=n(t,e);return new wi(r.from,r.to)}function ga(t,e,n,r){var i,o;if(e.touches)i=e.touches[0].clientX,o=e.touches[0].clientY;else try{i=e.clientX,o=e.clientY}catch(e){return!1}if(i>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;r&&se(e);var a=t.display,l=a.lineDiv.getBoundingClientRect();if(o>l.bottom||!le(t,n))return fe(e);o-=l.top-a.viewOffset;for(var u=0;u<t.options.gutters.length;++u){var s=a.gutters.childNodes[u];if(s&&s.getBoundingClientRect().right>=i){var c=dt(t.doc,o),f=t.options.gutters[u];return ie(t,n,t,c,f,e),fe(e)}}}function pa(t,e){return ga(t,e,"gutterClick",!0)}function va(t,e){_n(t.display,e)||function(t,e){return!!le(t,"gutterContextMenu")&&ga(t,e,"gutterContextMenu",!1)}(t,e)||oe(t,e,"contextmenu")||_||t.display.input.onContextMenu(e)}function ma(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Rn(t)}fa.prototype.compare=function(t,e,n){return this.time+400>t&&0==mt(e,this.pos)&&n==this.button};var ya={toString:function(){return"CodeMirror.Init"}},wa={},ba={};function xa(t){fi(t),Yr(t),_r(t)}function ka(t,e,n){var r=n&&n!=ya;if(!e!=!r){var i=t.display.dragFunctions,o=e?ee:re;o(t.display.scroller,"dragstart",i.start),o(t.display.scroller,"dragenter",i.enter),o(t.display.scroller,"dragover",i.over),o(t.display.scroller,"dragleave",i.leave),o(t.display.scroller,"drop",i.drop)}}function _a(t){t.options.lineWrapping?(D(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(S(t.display.wrapper,"CodeMirror-wrap"),Zt(t)),lr(t),Yr(t),Rn(t),setTimeout(function(){return Hr(t)},100)}function Ca(t,e){var n=this;if(!(this instanceof Ca))return new Ca(t,e);this.options=e=e?H(e):{},H(wa,e,!1),hi(e);var r=e.value;"string"==typeof r?r=new Mo(r,e.mode,null,e.lineSeparator,e.direction):e.mode&&(r.modeOption=e.mode),this.doc=r;var i=new Ca.inputStyles[e.inputStyle](this),o=this.display=new lt(t,r,i);for(var s in o.wrapper.CodeMirror=this,fi(this),ma(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),zr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new I,keySeq:null,specialChars:null},e.autofocus&&!m&&o.input.focus(),a&&l<11&&setTimeout(function(){return n.display.input.reset(!0)},20),function(t){var e=t.display;ee(e.scroller,"mousedown",Zr(t,ha)),ee(e.scroller,"dblclick",a&&l<11?Zr(t,function(e){if(!oe(t,e)){var n=ur(t,e);if(n&&!pa(t,e)&&!_n(t.display,e)){se(e);var r=t.findWordAt(n);Ui(t.doc,r.anchor,r.head)}}}):function(e){return oe(t,e)||se(e)}),ee(e.scroller,"contextmenu",function(e){return va(t,e)});var n,r={end:0};function i(){e.activeTouch&&(n=setTimeout(function(){return e.activeTouch=null},1e3),(r=e.activeTouch).end=+new Date)}function o(t,e){if(null==e.left)return!0;var n=e.left-t.left,r=e.top-t.top;return n*n+r*r>400}ee(e.scroller,"touchstart",function(i){if(!oe(t,i)&&!function(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}(i)&&!pa(t,i)){e.input.ensurePolled(),clearTimeout(n);var o=+new Date;e.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(e.activeTouch.left=i.touches[0].pageX,e.activeTouch.top=i.touches[0].pageY)}}),ee(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),ee(e.scroller,"touchend",function(n){var r=e.activeTouch;if(r&&!_n(e,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var a,l=t.coordsChar(e.activeTouch,"page");a=!r.prev||o(r,r.prev)?new wi(l,l):!r.prev.prev||o(r,r.prev.prev)?t.findWordAt(l):new wi(vt(l.line,0),_t(t.doc,vt(l.line+1,0))),t.setSelection(a.anchor,a.head),t.focus(),se(n)}i()}),ee(e.scroller,"touchcancel",i),ee(e.scroller,"scroll",function(){e.scroller.clientHeight&&(Nr(t,e.scroller.scrollTop),Dr(t,e.scroller.scrollLeft,!0),ie(t,"scroll",t))}),ee(e.scroller,"mousewheel",function(e){return mi(t,e)}),ee(e.scroller,"DOMMouseScroll",function(e){return mi(t,e)}),ee(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(e){oe(t,e)||he(e)},over:function(e){oe(t,e)||(function(t,e){var n=ur(t,e);if(n){var r=document.createDocumentFragment();hr(t,n,r),t.display.dragCursor||(t.display.dragCursor=T("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),O(t.display.dragCursor,r)}}(t,e),he(e))},start:function(e){return function(t,e){if(a&&(!t.state.draggingText||+new Date-Oo<100))he(e);else if(!oe(t,e)&&!_n(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!h)){var n=T("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),f&&n.parentNode.removeChild(n)}}(t,e)},drop:Zr(t,To),leave:function(e){oe(t,e)||Ao(t)}};var u=e.input.getField();ee(u,"keyup",function(e){return la.call(t,e)}),ee(u,"keydown",Zr(t,aa)),ee(u,"keypress",Zr(t,ua)),ee(u,"focus",function(e){return yr(t,e)}),ee(u,"blur",function(e){return wr(t,e)})}(this),Do(),jr(this),this.curOp.forceUpdate=!0,Ni(this,r),e.autofocus&&!m||this.hasFocus()?setTimeout(W(yr,this),20):wr(this),ba)ba.hasOwnProperty(s)&&ba[s](n,e[s],ya);Cr(this),e.finishInit&&e.finishInit(this);for(var c=0;c<La.length;++c)La[c](n);Gr(this),u&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Ca.defaults=wa,Ca.optionHandlers=ba;var La=[];function Sa(t,e,n,r){var i,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=Ie(t,e).state:n="prev");var a=t.options.tabSize,l=ut(o,e),u=P(l.text,null,a);l.stateAfter&&(l.stateAfter=null);var s,c=l.text.match(/^\s*/)[0];if(r||/\S/.test(l.text)){if("smart"==n&&((s=o.mode.indent(i,l.text.slice(c.length),l.text))==j||s>150)){if(!r)return;n="prev"}}else s=0,n="not";"prev"==n?s=e>o.first?P(ut(o,e-1).text,null,a):0:"add"==n?s=u+t.options.indentUnit:"subtract"==n?s=u-t.options.indentUnit:"number"==typeof n&&(s=u+n),s=Math.max(0,s);var f="",h=0;if(t.options.indentWithTabs)for(var d=Math.floor(s/a);d;--d)h+=a,f+="\t";if(h<s&&(f+=K(s-h)),f!=c)return co(o,f,vt(e,0),vt(e,c.length),"+input"),l.stateAfter=null,!0;for(var g=0;g<o.sel.ranges.length;g++){var p=o.sel.ranges[g];if(p.head.line==e&&p.head.ch<c.length){var v=vt(e,c.length);qi(o,g,new wi(v,v));break}}}Ca.defineInitHook=function(t){return La.push(t)};var Ma=null;function Oa(t){Ma=t}function Ta(t,e,n,r,i){var o=t.doc;t.display.shift=!1,r||(r=o.sel);var a=t.state.pasteIncoming||"paste"==i,l=xe(e),u=null;if(a&&r.ranges.length>1)if(Ma&&Ma.text.join("\n")==e){if(r.ranges.length%Ma.text.length==0){u=[];for(var s=0;s<Ma.text.length;s++)u.push(o.splitLines(Ma.text[s]))}}else l.length==r.ranges.length&&t.options.pasteLinesPerSelection&&(u=J(l,function(t){return[t]}));for(var c=t.curOp.updateInput,f=r.ranges.length-1;f>=0;f--){var h=r.ranges[f],d=h.from(),g=h.to();h.empty()&&(n&&n>0?d=vt(d.line,d.ch-n):t.state.overwrite&&!a?g=vt(g.line,Math.min(ut(o,g.line).text.length,g.ch+Z(l).length)):a&&Ma&&Ma.lineWise&&Ma.text.join("\n")==e&&(d=g=vt(d.line,0)));var p={from:d,to:g,text:u?u[f%u.length]:l,origin:i||(a?"paste":t.state.cutIncoming?"cut":"+input")};oo(t.doc,p),sn(t,"inputRead",t,p)}e&&!a&&Na(t,e),Mr(t),t.curOp.updateInput<2&&(t.curOp.updateInput=c),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function Aa(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Kr(e,function(){return Ta(e,n,0,null,"paste")}),!0}function Na(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=t.getModeAt(i.head),a=!1;if(o.electricChars){for(var l=0;l<o.electricChars.length;l++)if(e.indexOf(o.electricChars.charAt(l))>-1){a=Sa(t,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(ut(t.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Sa(t,i.head.line,"smart"));a&&sn(t,"electricInput",t,i.head.line)}}}function Ea(t){for(var e=[],n=[],r=0;r<t.doc.sel.ranges.length;r++){var i=t.doc.sel.ranges[r].head.line,o={anchor:vt(i,0),head:vt(i+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function Da(t,e){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck",!!e)}function Ba(){var t=T("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=T("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return u?t.style.width="1000px":t.setAttribute("wrap","off"),p&&(t.style.border="1px solid black"),Da(t),e}function Fa(t,e,n,r,i){var o=e,a=n,l=ut(t,e.line);function u(r){var o,a;if(null==(o=i?function(t,e,n,r){var i=$t(e,t.doc.direction);if(!i)return Zo(e,n,r);n.ch>=e.text.length?(n.ch=e.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=Qt(i,n.ch,n.sticky),a=i[o];if("ltr"==t.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Zo(e,n,r);var l,u=function(t,n){return Ko(e,t instanceof vt?t.ch:t,n)},s=function(n){return t.options.lineWrapping?(l=l||Dn(t,e),$n(t,e,l,n)):{begin:0,end:e.text.length}},c=s("before"==n.sticky?u(n,-1):n.ch);if("rtl"==t.doc.direction||1==a.level){var f=1==a.level==r<0,h=u(n,f?1:-1);if(null!=h&&(f?h<=a.to&&h<=c.end:h>=a.from&&h>=c.begin)){var d=f?"before":"after";return new vt(n.line,h,d)}}var g=function(t,e,r){for(var o=function(t,e){return e?new vt(n.line,u(t,1),"before"):new vt(n.line,t,"after")};t>=0&&t<i.length;t+=e){var a=i[t],l=e>0==(1!=a.level),s=l?r.begin:u(r.end,-1);if(a.from<=s&&s<a.to)return o(s,l);if(s=l?a.from:u(a.to,-1),r.begin<=s&&s<r.end)return o(s,l)}},p=g(o+r,r,c);if(p)return p;var v=r>0?c.end:u(c.begin,-1);return null==v||r>0&&v==e.text.length||!(p=g(r>0?0:i.length-1,r,s(v)))?null:p}(t.cm,l,e,n):Zo(l,e,n))){if(r||((a=e.line+n)<t.first||a>=t.first+t.size||(e=new vt(a,e.ch,e.sticky),!(l=ut(t,a)))))return!1;e=Jo(i,t.cm,l,e.line,n)}else e=o;return!0}if("char"==r)u();else if("column"==r)u(!0);else if("word"==r||"group"==r)for(var s=null,c="group"==r,f=t.cm&&t.cm.getHelper(e,"wordChars"),h=!0;!(n<0)||u(!h);h=!1){var d=l.text.charAt(e.ch)||"\n",g=et(d,f)?"w":c&&"\n"==d?"n":!c||/\s/.test(d)?null:"p";if(!c||h||g||(g="s"),s&&s!=g){n<0&&(n=1,u(),e.sticky="after");break}if(g&&(s=g),n>0&&!u(!h))break}var p=eo(t,e,o,a,!0);return yt(o,p)&&(p.hitSide=!0),p}function Wa(t,e,n,r){var i,o,a=t.doc,l=e.left;if("page"==r){var u=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),s=Math.max(u-.5*nr(t.display),3);i=(n>0?e.bottom:e.top)+n*s}else"line"==r&&(i=n>0?e.bottom+3:e.top-3);for(;(o=Qn(t,l,i)).outside;){if(n<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*n}return o}var Ha=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new I,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Pa(t,e){var n=En(t,e.line);if(!n||n.hidden)return null;var r=ut(t.doc,e.line),i=An(n,r,e.line),o=$t(r,t.doc.direction),a="left";if(o){var l=Qt(o,e.ch);a=l%2?"right":"left"}var u=Hn(i.map,e.ch,a);return u.offset="right"==u.collapse?u.end:u.start,u}function Ia(t,e){return e&&(t.bad=!0),t}function za(t,e,n){var r;if(e==t.display.lineDiv){if(!(r=t.display.lineDiv.childNodes[n]))return Ia(t.clipPos(vt(t.display.viewTo-1)),!0);e=null,n=0}else for(r=e;;r=r.parentNode){if(!r||r==t.display.lineDiv)return null;if(r.parentNode&&r.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var o=t.display.view[i];if(o.node==r)return Ra(o,e,n)}}function Ra(t,e,n){var r=t.text.firstChild,i=!1;if(!e||!N(r,e))return Ia(vt(ht(t.line),0),!0);if(e==r&&(i=!0,e=r.childNodes[n],n=0,!e)){var o=t.rest?Z(t.rest):t.line;return Ia(vt(ht(o),o.text.length),i)}var a=3==e.nodeType?e:null,l=e;for(a||1!=e.childNodes.length||3!=e.firstChild.nodeType||(a=e.firstChild,n&&(n=a.nodeValue.length));l.parentNode!=r;)l=l.parentNode;var u=t.measure,s=u.maps;function c(e,n,r){for(var i=-1;i<(s?s.length:0);i++)for(var o=i<0?u.map:s[i],a=0;a<o.length;a+=3){var l=o[a+2];if(l==e||l==n){var c=ht(i<0?t.line:t.rest[i]),f=o[a]+r;return(r<0||l!=e)&&(f=o[a+(r?1:0)]),vt(c,f)}}}var f=c(a,l,n);if(f)return Ia(f,i);for(var h=l.nextSibling,d=a?a.nodeValue.length-n:0;h;h=h.nextSibling){if(f=c(h,h.firstChild,0))return Ia(vt(f.line,f.ch-d),i);d+=h.textContent.length}for(var g=l.previousSibling,p=n;g;g=g.previousSibling){if(f=c(g,g.firstChild,-1))return Ia(vt(f.line,f.ch+p),i);p+=g.textContent.length}}Ha.prototype.init=function(t){var e=this,n=this,r=n.cm,i=n.div=t.lineDiv;function o(t){if(!oe(r,t)){if(r.somethingSelected())Oa({lineWise:!1,text:r.getSelections()}),"cut"==t.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var e=Ea(r);Oa({lineWise:!0,text:e.text}),"cut"==t.type&&r.operation(function(){r.setSelections(e.ranges,0,G),r.replaceSelection("",null,"cut")})}if(t.clipboardData){t.clipboardData.clearData();var o=Ma.text.join("\n");if(t.clipboardData.setData("Text",o),t.clipboardData.getData("Text")==o)return void t.preventDefault()}var a=Ba(),l=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),l.value=Ma.text.join("\n");var u=document.activeElement;F(l),setTimeout(function(){r.display.lineSpace.removeChild(a),u.focus(),u==i&&n.showPrimarySelection()},50)}}Da(i,r.options.spellcheck),ee(i,"paste",function(t){oe(r,t)||Aa(t,r)||l<=11&&setTimeout(Zr(r,function(){return e.updateFromDOM()}),20)}),ee(i,"compositionstart",function(t){e.composing={data:t.data,done:!1}}),ee(i,"compositionupdate",function(t){e.composing||(e.composing={data:t.data,done:!1})}),ee(i,"compositionend",function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)}),ee(i,"touchstart",function(){return n.forceCompositionEnd()}),ee(i,"input",function(){e.composing||e.readFromDOMSoon()}),ee(i,"copy",o),ee(i,"cut",o)},Ha.prototype.prepareSelection=function(){var t=fr(this.cm,!1);return t.focus=this.cm.state.focused,t},Ha.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Ha.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ha.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,r=e.doc.sel.primary(),i=r.from(),o=r.to();if(e.display.viewTo==e.display.viewFrom||i.line>=e.display.viewTo||o.line<e.display.viewFrom)t.removeAllRanges();else{var a=za(e,t.anchorNode,t.anchorOffset),l=za(e,t.focusNode,t.focusOffset);if(!a||a.bad||!l||l.bad||0!=mt(xt(a,l),i)||0!=mt(bt(a,l),o)){var u=e.display.view,s=i.line>=e.display.viewFrom&&Pa(e,i)||{node:u[0].measure.map[2],offset:0},c=o.line<e.display.viewTo&&Pa(e,o);if(!c){var f=u[u.length-1].measure,h=f.maps?f.maps[f.maps.length-1]:f.map;c={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(s&&c){var d,g=t.rangeCount&&t.getRangeAt(0);try{d=L(s.node,s.offset,c.offset,c.node)}catch(t){}d&&(!n&&e.state.focused?(t.collapse(s.node,s.offset),d.collapsed||(t.removeAllRanges(),t.addRange(d))):(t.removeAllRanges(),t.addRange(d)),g&&null==t.anchorNode?t.addRange(g):n&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},Ha.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Ha.prototype.showMultipleSelections=function(t){O(this.cm.display.cursorDiv,t.cursors),O(this.cm.display.selectionDiv,t.selection)},Ha.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Ha.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return N(this.div,e)},Ha.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ha.prototype.blur=function(){this.div.blur()},Ha.prototype.getField=function(){return this.div},Ha.prototype.supportsTouch=function(){return!0},Ha.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():Kr(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},Ha.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Ha.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),e=this.cm;if(v&&c&&this.cm.options.gutters.length&&function(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=za(e,t.anchorNode,t.anchorOffset),r=za(e,t.focusNode,t.focusOffset);n&&r&&Kr(e,function(){Zi(e.doc,xi(n,r),G),(n.bad||r.bad)&&(e.curOp.selectionChanged=!0)})}}},Ha.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),a=o.from(),l=o.to();if(0==a.ch&&a.line>r.firstLine()&&(a=vt(a.line-1,ut(r.doc,a.line-1).length)),l.ch==ut(r.doc,l.line).text.length&&l.line<r.lastLine()&&(l=vt(l.line+1,0)),a.line<i.viewFrom||l.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(t=sr(r,a.line))?(e=ht(i.view[0].line),n=i.view[0].node):(e=ht(i.view[t].line),n=i.view[t-1].node.nextSibling);var u,s,c=sr(r,l.line);if(c==i.view.length-1?(u=i.viewTo-1,s=i.lineDiv.lastChild):(u=ht(i.view[c+1].line)-1,s=i.view[c+1].node.previousSibling),!n)return!1;for(var f=r.doc.splitLines(function(t,e,n,r,i){var o="",a=!1,l=t.doc.lineSeparator(),u=!1;function s(){a&&(o+=l,u&&(o+=l),a=u=!1)}function c(t){t&&(s(),o+=t)}function f(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(n)return void c(n);var o,h=e.getAttribute("cm-marker");if(h){var d=t.findMarks(vt(r,0),vt(i+1,0),(v=+h,function(t){return t.id==v}));return void(d.length&&(o=d[0].find(0))&&c(st(t.doc,o.from,o.to).join(l)))}if("false"==e.getAttribute("contenteditable"))return;var g=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;g&&s();for(var p=0;p<e.childNodes.length;p++)f(e.childNodes[p]);/^(pre|p)$/i.test(e.nodeName)&&(u=!0),g&&(a=!0)}else 3==e.nodeType&&c(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var v}for(;f(e),e!=n;)e=e.nextSibling,u=!1;return o}(r,n,s,e,u)),h=st(r.doc,vt(e,0),vt(u,ut(r.doc,u).text.length));f.length>1&&h.length>1;)if(Z(f)==Z(h))f.pop(),h.pop(),u--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),e++}for(var d=0,g=0,p=f[0],v=h[0],m=Math.min(p.length,v.length);d<m&&p.charCodeAt(d)==v.charCodeAt(d);)++d;for(var y=Z(f),w=Z(h),b=Math.min(y.length-(1==f.length?d:0),w.length-(1==h.length?d:0));g<b&&y.charCodeAt(y.length-g-1)==w.charCodeAt(w.length-g-1);)++g;if(1==f.length&&1==h.length&&e==a.line)for(;d&&d>a.ch&&y.charCodeAt(y.length-g-1)==w.charCodeAt(w.length-g-1);)d--,g++;f[f.length-1]=y.slice(0,y.length-g).replace(/^\u200b+/,""),f[0]=f[0].slice(d).replace(/\u200b+$/,"");var x=vt(e,d),k=vt(u,h.length?Z(h).length-g:0);return f.length>1||f[0]||mt(x,k)?(co(r.doc,f,x,k,"+input"),!0):void 0},Ha.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ha.prototype.reset=function(){this.forceCompositionEnd()},Ha.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ha.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()},80))},Ha.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||Kr(this.cm,function(){return Yr(t.cm)})},Ha.prototype.setUneditable=function(t){t.contentEditable="false"},Ha.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||Zr(this.cm,Ta)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Ha.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Ha.prototype.onContextMenu=function(){},Ha.prototype.resetPosition=function(){},Ha.prototype.needsContentAttribute=!0;var ja=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new I,this.hasSelection=!1,this.composing=null};ja.prototype.init=function(t){var e=this,n=this,r=this.cm;this.createField(t);var i=this.textarea;function o(t){if(!oe(r,t)){if(r.somethingSelected())Oa({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var e=Ea(r);Oa({lineWise:!0,text:e.text}),"cut"==t.type?r.setSelections(e.ranges,null,G):(n.prevInput="",i.value=e.text.join("\n"),F(i))}"cut"==t.type&&(r.state.cutIncoming=!0)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),p&&(i.style.width="0px"),ee(i,"input",function(){a&&l>=9&&e.hasSelection&&(e.hasSelection=null),n.poll()}),ee(i,"paste",function(t){oe(r,t)||Aa(t,r)||(r.state.pasteIncoming=!0,n.fastPoll())}),ee(i,"cut",o),ee(i,"copy",o),ee(t.scroller,"paste",function(e){_n(t,e)||oe(r,e)||(r.state.pasteIncoming=!0,n.focus())}),ee(t.lineSpace,"selectstart",function(e){_n(t,e)||se(e)}),ee(i,"compositionstart",function(){var t=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:r.markText(t,r.getCursor("to"),{className:"CodeMirror-composing"})}}),ee(i,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},ja.prototype.createField=function(t){this.wrapper=Ba(),this.textarea=this.wrapper.firstChild},ja.prototype.prepareSelection=function(){var t=this.cm,e=t.display,n=t.doc,r=fr(t);if(t.options.moveInputWithCursor){var i=Kn(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),a=e.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},ja.prototype.showSelection=function(t){var e=this.cm,n=e.display;O(n.cursorDiv,t.cursors),O(n.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},ja.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var n=e.getSelection();this.textarea.value=n,e.state.focused&&F(this.textarea),a&&l>=9&&(this.hasSelection=n)}else t||(this.prevInput=this.textarea.value="",a&&l>=9&&(this.hasSelection=null))}},ja.prototype.getField=function(){return this.textarea},ja.prototype.supportsTouch=function(){return!1},ja.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!m||E()!=this.textarea))try{this.textarea.focus()}catch(t){}},ja.prototype.blur=function(){this.textarea.blur()},ja.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ja.prototype.receivedFocus=function(){this.slowPoll()},ja.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},ja.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0,e.polling.set(20,function n(){var r=e.poll();r||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,n))})},ja.prototype.poll=function(){var t=this,e=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||ke(n)&&!r&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=n.value;if(i==r&&!e.somethingSelected())return!1;if(a&&l>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var u=0,s=Math.min(r.length,i.length);u<s&&r.charCodeAt(u)==i.charCodeAt(u);)++u;return Kr(e,function(){Ta(e,i.slice(u),r.length-u,null,t.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=t.prevInput="":t.prevInput=i,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ja.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ja.prototype.onKeyPress=function(){a&&l>=9&&(this.hasSelection=null),this.fastPoll()},ja.prototype.onContextMenu=function(t){var e=this,n=e.cm,r=n.display,i=e.textarea;e.contextMenuPending&&e.contextMenuPending();var o=ur(n,t),s=r.scroller.scrollTop;if(o&&!f){var c=n.options.resetSelectionOnContextMenu;c&&-1==n.doc.sel.contains(o)&&Zr(n,Zi)(n.doc,xi(o),G);var h,d=i.style.cssText,g=e.wrapper.style.cssText,p=e.wrapper.offsetParent.getBoundingClientRect();if(e.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-p.top-5)+"px; left: "+(t.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",u&&(h=window.scrollY),r.input.focus(),u&&window.scrollTo(null,h),r.input.reset(),n.somethingSelected()||(i.value=e.prevInput=" "),e.contextMenuPending=y,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&l>=9&&m(),_){he(t);var v=function(){re(window,"mouseup",v),setTimeout(y,20)};ee(window,"mouseup",v)}else setTimeout(y,50)}function m(){if(null!=i.selectionStart){var t=n.somethingSelected(),o="​"+(t?i.value:"");i.value="⇚",i.value=o,e.prevInput=t?"":"​",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function y(){if(e.contextMenuPending==y&&(e.contextMenuPending=!1,e.wrapper.style.cssText=g,i.style.cssText=d,a&&l<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=s),null!=i.selectionStart)){(!a||a&&l<9)&&m();var t=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==e.prevInput?Zr(n,ro)(n):t++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},ja.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t},ja.prototype.setUneditable=function(){},ja.prototype.needsContentAttribute=!1,function(t){var e=t.optionHandlers;function n(n,r,i,o){t.defaults[n]=r,i&&(e[n]=o?function(t,e,n){n!=ya&&i(t,e,n)}:i)}t.defineOption=n,t.Init=ya,n("value","",function(t,e){return t.setValue(e)},!0),n("mode",null,function(t,e){t.doc.modeOption=e,Si(t)},!0),n("indentUnit",2,Si,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(t){Mi(t),Rn(t),Yr(t)},!0),n("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var n=[],r=t.doc.first;t.doc.iter(function(t){for(var i=0;;){var o=t.text.indexOf(e,i);if(-1==o)break;i=o+e.length,n.push(vt(r,o))}r++});for(var i=n.length-1;i>=0;i--)co(t.doc,e,n[i],vt(n[i].line,n[i].ch+e.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,e,n){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),n!=ya&&t.refresh()}),n("specialCharPlaceholder",$e,function(t){return t.refresh()},!0),n("electricChars",!0),n("inputStyle",m?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(t,e){return t.getInputField().spellcheck=e},!0),n("rtlMoveVisually",!b),n("wholeLineUpdateBefore",!0),n("theme","default",function(t){ma(t),xa(t)},!0),n("keyMap","default",function(t,e,n){var r=qo(e),i=n!=ya&&qo(n);i&&i.detach&&i.detach(t,r),r.attach&&r.attach(t,i||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,_a,!0),n("gutters",[],function(t){hi(t.options),xa(t)},!0),n("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?or(t.display)+"px":"0",t.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(t){return Hr(t)},!0),n("scrollbarStyle","native",function(t){zr(t),Hr(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),n("lineNumbers",!1,function(t){hi(t.options),xa(t)},!0),n("firstLineNumber",1,xa,!0),n("lineNumberFormatter",function(t){return t},xa,!0),n("showCursorWhenSelecting",!1,cr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(t,e){"nocursor"==e&&(wr(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)}),n("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),n("dragDrop",!0,ka),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,cr,!0),n("singleCursorHeightPerLine",!0,cr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Mi,!0),n("addModeClass",!1,Mi,!0),n("pollInterval",100),n("undoDepth",200,function(t,e){return t.doc.history.undoDepth=e}),n("historyEventDelay",1250),n("viewportMargin",10,function(t){return t.refresh()},!0),n("maxHighlightLength",1e4,Mi,!0),n("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),n("tabindex",null,function(t,e){return t.display.input.getField().tabIndex=e||""}),n("autofocus",null),n("direction","ltr",function(t,e){return t.doc.setDirection(e)},!0),n("phrases",null)}(Ca),function(t){var e=t.optionHandlers,n=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,n){var r=this.options,i=r[t];r[t]==n&&"mode"!=t||(r[t]=n,e.hasOwnProperty(t)&&Zr(this,e[t])(this,n,i),ie(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](qo(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:Jr(function(e,n){var r=e.token?e:t.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");!function(t,e,n){for(var r=0,i=n(e);r<t.length&&n(t[r])<=i;)r++;t.splice(r,0,e)}(this.state.overlays,{mode:r,modeSpec:e,opaque:n&&n.opaque,priority:n&&n.priority||0},function(t){return t.priority}),this.state.modeGen++,Yr(this)}),removeOverlay:Jr(function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var r=e[n].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return e.splice(n,1),this.state.modeGen++,void Yr(this)}}),indentLine:Jr(function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),gt(this.doc,t)&&Sa(this,t,e,n)}),indentSelection:Jr(function(t){for(var e=this.doc.sel.ranges,n=-1,r=0;r<e.length;r++){var i=e[r];if(i.empty())i.head.line>n&&(Sa(this,i.head.line,t,!0),n=i.head.line,r==this.doc.sel.primIndex&&Mr(this));else{var o=i.from(),a=i.to(),l=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var u=l;u<n;++u)Sa(this,u,t);var s=this.doc.sel.ranges;0==o.ch&&e.length==s.length&&s[r].from().ch>0&&qi(this.doc,r,new wi(o,s[r].to()),G)}}}),getTokenAt:function(t,e){return Ue(this,t,e)},getLineTokens:function(t,e){return Ue(this,vt(t),e,!0)},getTokenTypeAt:function(t){t=_t(this.doc,t);var e,n=Pe(this,ut(this.doc,t.line)),r=0,i=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){e=n[2*a+2];break}r=a+1}}var l=e?e.indexOf("overlay "):-1;return l<0?e:0==l?null:e.slice(0,l-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var r=[];if(!n.hasOwnProperty(e))return r;var i=n[e],o=this.getModeAt(t);if("string"==typeof o[e])i[o[e]]&&r.push(i[o[e]]);else if(o[e])for(var a=0;a<o[e].length;a++){var l=i[o[e][a]];l&&r.push(l)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var u=0;u<i._global.length;u++){var s=i._global[u];s.pred(o,this)&&-1==z(r,s.val)&&r.push(s.val)}return r},getStateAfter:function(t,e){var n=this.doc;return Ie(this,(t=kt(n,null==t?n.first+n.size-1:t))+1,e).state},cursorCoords:function(t,e){var n=this.doc.sel.primary();return Kn(this,null==t?n.head:"object"==typeof t?_t(this.doc,t):t?n.from():n.to(),e||"page")},charCoords:function(t,e){return Xn(this,_t(this.doc,t),e||"page")},coordsChar:function(t,e){return Qn(this,(t=qn(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=qn(this,{top:t,left:0},e||"page").top,dt(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,n){var r,i=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,i=!0),r=ut(this.doc,t)}else r=t;return Vn(this,r,{top:0,left:0},e||"page",n||i).top+(i?this.doc.height-Xt(r):0)},defaultTextHeight:function(){return nr(this.display)},defaultCharWidth:function(){return rr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,r,i){var o,a,l,u=this.display,s=(t=Kn(this,_t(this.doc,t))).bottom,c=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),u.sizer.appendChild(e),"over"==r)s=t.top;else if("above"==r||"near"==r){var f=Math.max(u.wrapper.clientHeight,this.doc.height),h=Math.max(u.sizer.clientWidth,u.lineSpace.clientWidth);("above"==r||t.bottom+e.offsetHeight>f)&&t.top>e.offsetHeight?s=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=f&&(s=t.bottom),c+e.offsetWidth>h&&(c=h-e.offsetWidth)}e.style.top=s+"px",e.style.left=e.style.right="","right"==i?(c=u.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?c=0:"middle"==i&&(c=(u.sizer.clientWidth-e.offsetWidth)/2),e.style.left=c+"px"),n&&(o=this,a={left:c,top:s,right:c+e.offsetWidth,bottom:s+e.offsetHeight},null!=(l=Lr(o,a)).scrollTop&&Nr(o,l.scrollTop),null!=l.scrollLeft&&Dr(o,l.scrollLeft))},triggerOnKeyDown:Jr(aa),triggerOnKeyPress:Jr(ua),triggerOnKeyUp:la,triggerOnMouseDown:Jr(ha),execCommand:function(t){if(Qo.hasOwnProperty(t))return Qo[t].call(null,this)},triggerElectric:Jr(function(t){Na(this,t)}),findPosH:function(t,e,n,r){var i=1;e<0&&(i=-1,e=-e);for(var o=_t(this.doc,t),a=0;a<e&&!(o=Fa(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:Jr(function(t,e){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Fa(n.doc,r.head,t,e,n.options.rtlMoveVisually):t<0?r.from():r.to()},V)}),deleteH:Jr(function(t,e){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Xo(this,function(n){var i=Fa(r,n.head,t,e,!1);return t<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(t,e,n,r){var i=1,o=r;e<0&&(i=-1,e=-e);for(var a=_t(this.doc,t),l=0;l<e;++l){var u=Kn(this,a,"div");if(null==o?o=u.left:u.left=o,(a=Wa(this,u,i,n)).hitSide)break}return a},moveV:Jr(function(t,e){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return t<0?a.from():a.to();var l=Kn(n,a.head,"div");null!=a.goalColumn&&(l.left=a.goalColumn),i.push(l.left);var u=Wa(n,l,t,e);return"page"==e&&a==r.sel.primary()&&Sr(n,Xn(n,u,"div").top-l.top),u},V),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(t){var e=this.doc,n=ut(e,t.line).text,r=t.ch,i=t.ch;if(n){var o=this.getHelper(t,"wordChars");"before"!=t.sticky&&i!=n.length||!r?++i:--r;for(var a=n.charAt(r),l=et(a,o)?function(t){return et(t,o)}:/\s/.test(a)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!et(t)};r>0&&l(n.charAt(r-1));)--r;for(;i<n.length&&l(n.charAt(i));)++i}return new wi(vt(t.line,r),vt(t.line,i))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?D(this.display.cursorDiv,"CodeMirror-overwrite"):S(this.display.cursorDiv,"CodeMirror-overwrite"),ie(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==E()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Jr(function(t,e){Or(this,t,e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Mn(this)-this.display.barHeight,width:t.scrollWidth-Mn(this)-this.display.barWidth,clientHeight:Tn(this),clientWidth:On(this)}},scrollIntoView:Jr(function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:vt(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?function(t,e){Tr(t),t.curOp.scrollToPos=e}(this,t):Ar(this,t.from,t.to,t.margin)}),setSize:Jr(function(t,e){var n=this,r=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=r(t)),null!=e&&(this.display.wrapper.style.height=r(e)),this.options.lineWrapping&&zn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){$r(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,ie(this,"refresh",this)}),operation:function(t){return Kr(this,t)},startOperation:function(){return jr(this)},endOperation:function(){return Gr(this)},refresh:Jr(function(){var t=this.display.cachedTextHeight;Yr(this),this.curOp.forceUpdate=!0,Rn(this),Or(this,this.doc.scrollLeft,this.doc.scrollTop),si(this),(null==t||Math.abs(t-nr(this.display))>.5)&&lr(this),ie(this,"refresh",this)}),swapDoc:Jr(function(t){var e=this.doc;return e.cm=null,Ni(this,t),Rn(this),this.display.input.reset(),Or(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,sn(this,"swapDoc",this,e),e}),phrase:function(t){var e=this.options.phrases;return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ue(t),t.registerHelper=function(e,r,i){n.hasOwnProperty(e)||(n[e]=t[e]={_global:[]}),n[e][r]=i},t.registerGlobalHelper=function(e,r,i,o){t.registerHelper(e,r,o),n[e]._global.push({pred:i,val:o})}}(Ca);var Ga="iter insert remove copy getEditor constructor".split(" ");for(var Ua in Mo.prototype)Mo.prototype.hasOwnProperty(Ua)&&z(Ga,Ua)<0&&(Ca.prototype[Ua]=function(t){return function(){return t.apply(this.doc,arguments)}}(Mo.prototype[Ua]));return ue(Mo),Ca.inputStyles={textarea:ja,contenteditable:Ha},Ca.defineMode=function(t){Ca.defaults.mode||"null"==t||(Ca.defaults.mode=t),function(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Le[t]=e}.apply(this,arguments)},Ca.defineMIME=function(t,e){Se[t]=e},Ca.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Ca.defineMIME("text/plain","null"),Ca.defineExtension=function(t,e){Ca.prototype[t]=e},Ca.defineDocExtension=function(t,e){Mo.prototype[t]=e},Ca.fromTextArea=function(t,e){if((e=e?H(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=E();e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}function r(){t.value=l.getValue()}var i;if(t.form&&(ee(t.form,"submit",r),!e.leaveSubmitMethodAlone)){var o=t.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(t){}}e.finishInit=function(e){e.save=r,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,r(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(re(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=i))}},t.style.display="none";var l=Ca(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},e);return l},function(t){t.off=re,t.on=ee,t.wheelEventPixels=vi,t.Doc=Mo,t.splitLines=xe,t.countColumn=P,t.findColumn=q,t.isWordChar=tt,t.Pass=j,t.signal=ie,t.Line=Xe,t.changeEnd=ki,t.scrollbarModel=Ir,t.Pos=vt,t.cmpPos=mt,t.modes=Le,t.mimeModes=Se,t.resolveMode=Me,t.getMode=Oe,t.modeExtensions=Te,t.extendMode=Ae,t.copyState=Ne,t.startState=De,t.innerMode=Ee,t.commands=Qo,t.keyMap=Io,t.keyName=Vo,t.isModifierKey=Go,t.lookupKey=jo,t.normalizeKeyMap=Ro,t.StringStream=Be,t.SharedTextMarker=_o,t.TextMarker=xo,t.LineWidget=yo,t.e_preventDefault=se,t.e_stopPropagation=ce,t.e_stop=he,t.addClass=D,t.contains=N,t.rmClass=S,t.keyNames=Fo}(Ca),Ca.version="5.42.2",Ca}()},function(t,e,n){"use strict";e.__esModule=!0;var r=Object.freeze({"|||":"empty","...":"empty","---":"empty","->":"directional","=>":"directional","=>>":"directional",">>":"directional",":>":"directional","-x":"directional","<-":"directional","<=":"directional","<<=":"directional","<<":"directional","<:":"directional","x-":"directional",note:"box",box:"box",abox:"box",rbox:"box","<->":"bidirectional","<=>":"bidirectional","<<=>>":"bidirectional","<<>>":"bidirectional","<:>":"bidirectional","--":"nondirectional","==":"nondirectional","..":"nondirectional","::":"nondirectional",alt:"inline_expression",else:"inline_expression",opt:"inline_expression",break:"inline_expression",par:"inline_expression",seq:"inline_expression",strict:"inline_expression",neg:"inline_expression",critical:"inline_expression",ignore:"inline_expression",consider:"inline_expression",assert:"inline_expression",loop:"inline_expression",ref:"inline_expression",exc:"inline_expression"});e.default=function(t){return r[t]}},function(t,e){var n=!0;t.exports={gaSetup:function(t){return function(t){var e,r,i,o,a,l;n=t,!0===t&&(e=window,r=document,i="script",o="ga",e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,a=r.createElement(i),l=r.getElementsByTagName(i)[0],a.async=1,a.src="//www.google-analytics.com/analytics.js",l.parentNode.insertBefore(a,l))}(t)},g:function(t,e,r,i,o,a){return function(t,e,r,i,o,a){!0===n&&ga(t,e,r,i,o,a)}(t,e,r,i,o,a)}}},function(t,e,n){var r=n(39),i=n(40),o=n(21),a=n(55),l=n(16),u=n(17),s=n(10),c=n(18),f=n(61),h=n(66),d={},g={line:0,column:0};function p(){h.getAutoRender()&&_(w(),h.getLanguage())}function v(t,e){return"msgenny"===e?i.parse(t):"json"===e?JSON.parse(t):r.parse(t)}function m(t,e){var n=t||h.getLanguage();return v(e||w(),n)}function y(t,e){return"msgenny"===e?a.render(t):"json"===e?JSON.stringify(t,null,"  "):l.render(t)}function w(){return d.getValue()}function b(t){d.setValue(t)}function x(t,e){d.setCursor(t,e),d.focus()}function k(t){h.setLanguage(t),d.setOption("mode",u.language2Mode(t)),window.__language_mscgen.checked=!1,window.__language_msgenny.checked=!1,window.__language_json.checked=!1,"msgenny"===t?(window.__language_msgenny.checked=!0,s.ss(window.__btn_more_color_schemes).hide(),window.__color_panel.style.width="0"):"json"===t?(window.__language_json.checked=!0,s.ss(window.__btn_more_color_schemes).show()):(window.__language_mscgen.checked=!0,s.ss(window.__btn_more_color_schemes).show()),p()}function _(t,e){C();try{var n=v(t,e);if(h.getDebug())try{window.history.replaceState({},"",c.toLocationString(window.location,t,u.correctLanguage(n.meta.extendedFeatures,e),h.getMirrorEntities(),h.getNamedStyle()))}catch(t){}o.render(n,window,"__svg",{source:h.getIncludeSource()?t:null,mirrorEntitiesOnBottom:h.getMirrorEntities(),regularArcTextVerticalAlignment:h.getVerticalLabelAlignment(),additionalTemplate:h.getNamedStyle()}),n.entities.length>0&&(r=n.meta,s.ss(window.__output_controls_area).show(),s.ss(window.__placeholder).hide(),s.ss(window.__svg).show(),function(t){t&&!0===t.extendedArcTypes?s.ss(window.__show_anim).hide():s.ss(window.__show_anim).show()}(r),function(t){t&&!0===t.extendedFeatures?s.ss(window.__xu_notify).show():s.ss(window.__xu_notify).hide()}(r),h.setLanguage(u.correctLanguage(r.extendedFeatures,h.getLanguage())))}catch(e){!function(t,e){t.location?(g.line=t.location.start.line,g.column=t.location.start.column,S("Line "+t.location.start.line+", column "+t.location.start.column+": "+t.message,">>> "+e.split("\n")[t.location.start.line-1]+" <<<")):(g.line=0,g.column=0,S(t.message))}(e,t)}var r}function C(){s.ss(window.__error).hide(),window.__error_output.textContent="",window.__error_context.textContent="",s.ss(window.__output_controls_area).hide(),s.ss(window.__placeholder).show("flex"),s.ss(window.__svg).hide(),o.clean("__svg",window)}function L(t){h.setAutoRender(t),t?(window.__autorender.checked=!0,s.ss(window.__btn_render).hide()):(window.__autorender.checked=!1,s.ss(window.__btn_render).show())}function S(t,e){s.ss(window.__error).show(),s.ss(window.__placeholder).hide(),window.__error_output.textContent=t,window.__error_context.textContent=e}t.exports={init:function(t){d=t,L(h.getAutoRender()),k(h.getLanguage()),f.initSamples(h.getDebug()),f.initNamedStyles(),window.__loading&&(window.__loading.outerHTML="")},switchLanguage:function(t){var e={};try{(e=m())!=={}&&b(y(e,t))}catch(t){}k(t)},manipulateSource:function(t){var e={};try{(e=m())!=={}&&b(y(t(e),h.getLanguage()))}catch(t){}},setSample:function(t){"none"!==t&&t?s.ajax(t,function(e){k(u.classifyExtension(t)),b(e.target.response)},function(){b("# could not find or open '"+t+"'")}):["mscgen","xu"].indexOf(h.getLanguage())>-1?(b("msc{\n  \n}"),x(1,3)):b("")},errorOnClick:function(){x(g.line-1,g.column-1)},render:_,requestRender:p,getAutoRender:h.getAutoRender,setAutoRender:L,getSource:w,setSource:b,getLanguage:h.getLanguage,setLanguage:k,getDebug:h.getDebug,setDebug:function(t){h.setDebug(t),h.getDebug()&&s.doForAllOfClass("debug",function(t){s.ss(t).show()})},getAST:m,getLinkToInterpeter:h.getLinkToInterpreter,setLinkToInterpeter:function(t){h.setLinkToInterpreter(t),window.__link_to_interpreter.checked=t},setMirrorEntities:function(t){h.setMirrorEntities(t),window.__option_mirror_entities.checked=t},getMirrorEntities:h.getMirrorEntities,setIncludeSource:function(t){h.setIncludeSource(t),window.__option_include_source.checked=t},getIncludeSource:h.getIncludeSource,setNamedStyle:function(t){window.__option_style_basic.checked=!1,window.__option_style_inverted.checked=!1,window.__option_style_grayscaled.checked=!1,window.__option_style_fountainpen.checked=!1,window.__option_style_lazy.checked=!1,window.__option_style_cygne.checked=!1,window.__option_style_pegasse.checked=!1,window.__option_style_classic.checked=!1,window.__option_style_noentityboxes.checked=!1;var e=document.getElementById("__option_style_"+t);e?(e.checked=!0,h.setNamedStyle(t)):(window.__option_style_basic.checked=!0,h.setNamedStyle("basic"))},getNamedStyle:h.getNamedStyle,setVerticalLabelAlignment:function(t){window.__option_vertical_label_alignment.value=t,h.setVerticalLabelAlignment(t)},getVerticalLabelAlignment:h.getVerticalLabelAlignment,preRenderReset:C}},function(t,e,n){(function(t,n){var r=200,i="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",l="[object Boolean]",u="[object Date]",s="[object Function]",c="[object GeneratorFunction]",f="[object Map]",h="[object Number]",d="[object Object]",g="[object RegExp]",p="[object Set]",v="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",w="[object DataView]",b="[object Float32Array]",x="[object Float64Array]",k="[object Int8Array]",_="[object Int16Array]",C="[object Int32Array]",L="[object Uint8Array]",S="[object Uint8ClampedArray]",M="[object Uint16Array]",O="[object Uint32Array]",T=/\w*$/,A=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,E={};E[a]=E["[object Array]"]=E[y]=E[w]=E[l]=E[u]=E[b]=E[x]=E[k]=E[_]=E[C]=E[f]=E[h]=E[d]=E[g]=E[p]=E[v]=E[m]=E[L]=E[S]=E[M]=E[O]=!0,E["[object Error]"]=E[s]=E["[object WeakMap]"]=!1;var D="object"==typeof t&&t&&t.Object===Object&&t,B="object"==typeof self&&self&&self.Object===Object&&self,F=D||B||Function("return this")(),W=e&&!e.nodeType&&e,H=W&&"object"==typeof n&&n&&!n.nodeType&&n,P=H&&H.exports===W;function I(t,e){return t.set(e[0],e[1]),t}function z(t,e){return t.add(e),t}function R(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function j(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function U(t,e){return function(n){return t(e(n))}}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var q,X=Array.prototype,K=Function.prototype,Z=Object.prototype,J=F["__core-js_shared__"],Q=(q=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",Y=K.toString,$=Z.hasOwnProperty,tt=Z.toString,et=RegExp("^"+Y.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=P?F.Buffer:void 0,rt=F.Symbol,it=F.Uint8Array,ot=U(Object.getPrototypeOf,Object),at=Object.create,lt=Z.propertyIsEnumerable,ut=X.splice,st=Object.getOwnPropertySymbols,ct=nt?nt.isBuffer:void 0,ft=U(Object.keys,Object),ht=Ht(F,"DataView"),dt=Ht(F,"Map"),gt=Ht(F,"Promise"),pt=Ht(F,"Set"),vt=Ht(F,"WeakMap"),mt=Ht(Object,"create"),yt=jt(ht),wt=jt(dt),bt=jt(gt),xt=jt(pt),kt=jt(vt),_t=rt?rt.prototype:void 0,Ct=_t?_t.valueOf:void 0;function Lt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Mt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ot(t){this.__data__=new St(t)}function Tt(t,e){var n=Ut(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Vt(t)}(t)&&$.call(t,"callee")&&(!lt.call(t,"callee")||tt.call(t)==a)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!$.call(t,o)||i&&("length"==o||zt(o,r))||n.push(o);return n}function At(t,e,n){var r=t[e];$.call(t,e)&&Gt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function Nt(t,e){for(var n=t.length;n--;)if(Gt(t[n][0],e))return n;return-1}function Et(t,e,n,r,i,o,A){var N;if(r&&(N=o?r(t,i,o,A):r(t)),void 0!==N)return N;if(!Kt(t))return t;var D=Ut(t);if(D){if(N=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&$.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,N)}else{var B=It(t),F=B==s||B==c;if(qt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(B==d||B==a||F&&!o){if(j(t))return o?t:{};if(N=function(t){return"function"!=typeof t.constructor||Rt(t)?{}:(e=ot(t),Kt(e)?at(e):{});var e}(F?{}:t),!e)return function(t,e){return Ft(t,Pt(t),e)}(t,function(t,e){return t&&Ft(e,Zt(e),t)}(N,t))}else{if(!E[B])return o?t:{};N=function(t,e,n,r){var i=t.constructor;switch(e){case y:return Bt(t);case l:case u:return new i(+t);case w:return function(t,e){var n=e?Bt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case b:case x:case k:case _:case C:case L:case S:case M:case O:return function(t,e){var n=e?Bt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case f:return function(t,e,n){return R(e?n(G(t),!0):G(t),I,new t.constructor)}(t,r,n);case h:case v:return new i(t);case g:return(s=new(a=t).constructor(a.source,T.exec(a))).lastIndex=a.lastIndex,s;case p:return function(t,e,n){return R(e?n(V(t),!0):V(t),z,new t.constructor)}(t,r,n);case m:return o=t,Ct?Object(Ct.call(o)):{}}var o;var a,s}(t,B,Et,e)}}A||(A=new Ot);var W=A.get(t);if(W)return W;if(A.set(t,N),!D)var H=n?function(t){return function(t,e,n){var r=e(t);return Ut(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Zt,Pt)}(t):Zt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(H||t,function(i,o){H&&(i=t[o=i]),At(N,o,Et(i,e,n,r,o,t,A))}),N}function Dt(t){return!(!Kt(t)||(e=t,Q&&Q in e))&&(Xt(t)||j(t)?et:A).test(jt(t));var e}function Bt(t){var e=new t.constructor(t.byteLength);return new it(e).set(new it(t)),e}function Ft(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],l=r?r(n[a],t[a],a,n,t):void 0;At(n,a,void 0===l?t[a]:l)}return n}function Wt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Ht(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Dt(n)?n:void 0}Lt.prototype.clear=function(){this.__data__=mt?mt(null):{}},Lt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Lt.prototype.get=function(t){var e=this.__data__;if(mt){var n=e[t];return n===i?void 0:n}return $.call(e,t)?e[t]:void 0},Lt.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:$.call(e,t)},Lt.prototype.set=function(t,e){return this.__data__[t]=mt&&void 0===e?i:e,this},St.prototype.clear=function(){this.__data__=[]},St.prototype.delete=function(t){var e=this.__data__,n=Nt(e,t);return!(n<0||(n==e.length-1?e.pop():ut.call(e,n,1),0))},St.prototype.get=function(t){var e=this.__data__,n=Nt(e,t);return n<0?void 0:e[n][1]},St.prototype.has=function(t){return Nt(this.__data__,t)>-1},St.prototype.set=function(t,e){var n=this.__data__,r=Nt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Mt.prototype.clear=function(){this.__data__={hash:new Lt,map:new(dt||St),string:new Lt}},Mt.prototype.delete=function(t){return Wt(this,t).delete(t)},Mt.prototype.get=function(t){return Wt(this,t).get(t)},Mt.prototype.has=function(t){return Wt(this,t).has(t)},Mt.prototype.set=function(t,e){return Wt(this,t).set(t,e),this},Ot.prototype.clear=function(){this.__data__=new St},Ot.prototype.delete=function(t){return this.__data__.delete(t)},Ot.prototype.get=function(t){return this.__data__.get(t)},Ot.prototype.has=function(t){return this.__data__.has(t)},Ot.prototype.set=function(t,e){var n=this.__data__;if(n instanceof St){var i=n.__data__;if(!dt||i.length<r-1)return i.push([t,e]),this;n=this.__data__=new Mt(i)}return n.set(t,e),this};var Pt=st?U(st,Object):function(){return[]},It=function(t){return tt.call(t)};function zt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||N.test(t))&&t>-1&&t%1==0&&t<e}function Rt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Z)}function jt(t){if(null!=t){try{return Y.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Gt(t,e){return t===e||t!=t&&e!=e}(ht&&It(new ht(new ArrayBuffer(1)))!=w||dt&&It(new dt)!=f||gt&&"[object Promise]"!=It(gt.resolve())||pt&&It(new pt)!=p||vt&&"[object WeakMap]"!=It(new vt))&&(It=function(t){var e=tt.call(t),n=e==d?t.constructor:void 0,r=n?jt(n):void 0;if(r)switch(r){case yt:return w;case wt:return f;case bt:return"[object Promise]";case xt:return p;case kt:return"[object WeakMap]"}return e});var Ut=Array.isArray;function Vt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!Xt(t)}var qt=ct||function(){return!1};function Xt(t){var e=Kt(t)?tt.call(t):"";return e==s||e==c}function Kt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Zt(t){return Vt(t)?Tt(t):function(t){if(!Rt(t))return ft(t);var e=[];for(var n in Object(t))$.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}n.exports=function(t){return Et(t,!0,!0)}}).call(this,n(13),n(41)(t))},function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};e.__esModule=!0;var i=r(n(44)),o=r(n(6)),a=r(n(47)),l=i,u={};e.init=function(t,e){o.init(t),u=Object.assign({LINE_WIDTH:2,FONT_SIZE:12},e)},e.createSVG=function(t,e,n){return l=function(t){return Boolean(t)?"wobbly"===t?a:i:l}(n),o.createSVG(t,e)},e.updateSVG=o.updateSVG,e.createTitle=o.createTitle,e.createDesc=o.createDesc,e.createDefs=o.createDefs,e.createTSpan=o.createTSpan,e.createRect=function(t,e){return l.createRect(t,e)},e.createRBox=function(t,e){return l.createRBox(t,e)},e.createABox=function(t,e){return l.createABox(t,e)},e.createNote=function(t,e){return l.createNote(t,e)},e.createEdgeRemark=function(t,e){return l.createEdgeRemark(t,{class:e.class,color:e.color,bgColor:e.bgColor,foldSize:e.foldSize,lineWidth:u.LINE_WIDTH})},e.createText=o.createText,e.createDiagonalText=o.createDiagonalText,e.createLine=function(t,e){return Boolean(e)&&Boolean(e.doubleLine)?(e.lineWidth||(e.lineWidth=u.LINE_WIDTH),l.createDoubleLine(t,e)):l.createSingleLine(t,e)},e.createUTurn=o.createUTurn,e.createGroup=o.createGroup,e.createMarkerPath=o.createMarkerPath,e.createMarkerPolygon=o.createMarkerPolygon},function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=r(n(45)),a=i(n(46)),l=i(n(15)),u=2;function s(t){return l.default(t.x,u).toString()+","+l.default(t.y,u).toString()+" "}function c(t,e,n){return t+s({x:e,y:n})}function f(t,e,n,r){return o.createElement("marker",{orient:n,id:t,class:e,viewBox:Boolean(r)?r:"0 0 10 10",refX:"9",refY:"3",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10"})}e.point2String=s,e.pathPoint2String=c;var h="vertical-align:text-top;";function d(t,e){var n=o.createElement("tspan"),r=o.createTextNode(t);return n.appendChild(r),e?function(t,e){var n=o.createElement("a");return o.setAttributesNS(n,o.XLINKNS,{"xlink:href":t,"xlink:title":t}),n.appendChild(e),n}(e,n):n}function g(t,e,n){var r=Object.assign({class:null,url:null,id:null,idurl:null},n),i=o.createElement("text",{x:l.default(e.x,u).toString(),y:l.default(e.y,u).toString(),class:r.class});if(i.appendChild(d(t,r.url)),r.id){var a=d(" ["+r.id+"]",r.idurl);a.setAttribute("style",h),i.appendChild(a)}return i}function p(t,e){var n=Object.assign({class:null,style:null,color:null,bgColor:null},e);return v(o.createElement("path",{d:t,class:n.class,style:n.style}),n.color,n.bgColor)}function v(t,e,n){var r="";return n&&(r+="fill:"+n+";"),e&&(r+="stroke:"+e+";"),o.setAttribute(t,"style",r)}h+="font-size:0.7em;text-anchor:start;",e.createTSpan=d,e.createText=g,e.createPath=p,e.createSingleLine=function(t,e){return o.createElement("line",{x1:l.default(t.xFrom,u).toString(),y1:l.default(t.yFrom,u).toString(),x2:l.default(t.xTo,u).toString(),y2:l.default(t.yTo,u).toString(),class:e?e.class:null})},e.createRect=function(t,e){var n=Object.assign({class:null,color:null,bgColor:null,rx:null,ry:null},e);return v(o.createElement("rect",{width:l.default(t.width,u),height:l.default(t.height,u),x:l.default(t.x,u),y:l.default(t.y,u),rx:l.default(n.rx,u),ry:l.default(n.ry,u),class:n.class}),n.color,n.bgColor)},e.createUTurn=function(t,e,n){var r=Object.assign({class:null,dontHitHome:!1,lineWidth:1},n),i=r.dontHitHome?t.x+7.5*r.lineWidth:t.x;return p(c("M",t.x,t.y-t.height/2)+c("C",t.x+t.width,t.y-7.5*r.lineWidth/2)+s({x:t.x+t.width,y:e+0})+s({x:i,y:e}),{class:r.class})},e.createGroup=function(t,e){return o.createElement("g",{id:t,class:e})},e.createMarkerPath=function(t,e,n){var r=f(t,"arrow-marker","auto");return r.appendChild(p(e,{class:"arrow-style",style:"stroke-dasharray:100,1;stroke:"+n||!1})),r},e.createMarkerPolygon=function(t,e,n){var r=f(t,"arrow-marker","auto");return r.appendChild(o.createElement("polygon",{points:e,class:"arrow-style",stroke:n||"black",fill:n||"black"})),r},e.createTitle=function(t){var e=o.createElement("title"),n=o.createTextNode(t);return e.appendChild(n),e},e.createDiagonalText=function(t,e,n){return o.setAttributes(g(t,{x:e.width/2,y:e.height/2},{class:n}),{transform:"rotate("+l.default(a.default(e),u).toString()+" "+l.default(e.width/2,u).toString()+" "+l.default(e.height/2,u).toString()+")"})},e.createDesc=function(){return o.createElement("desc")},e.createDefs=function(){return o.createElement("defs")},e.createSVG=function(t,e){return o.createElement("svg",{version:"1.1",id:t,class:e,xmlns:o.SVGNS,"xmlns:xlink":o.XLINKNS,width:"0",height:"0"})},e.init=o.init,e.updateSVG=o.setAttributes},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};e.__esModule=!0;var o=r(n(49)),a=i(n(29)),l=i(n(5)),u={},s=a.get("bboxer");function c(t){var e=u.getElementById(s);(e=e||function(t){var e=l.createSVG(t,a.get());return u.body.appendChild(e),e}(s)).appendChild(t);var n=t.getBBox();return e.removeChild(t),n}function f(t){return"function"==typeof t.getBBox?(e=c(t),Math.abs(e.height)>1e5||Math.abs(e.width)>1e5?{height:0,width:0,x:0,y:0}:e):{height:15,width:15,x:2,y:2};var e}e.getBBox=f,e.removeRenderedSVGFromElement=function(t){a.setPrefix(t);var e=u.getElementById(a.get());if(Boolean(e)){var n=u.getElementById(t);n?n.removeChild(e):u.body.removeChild(e)}},e.init=function(t){u=t},e.calculateTextHeight=o.default(function(){return f(l.createText("ÁjyÎ9ƒ@💩",{x:0,y:0})).height}),e.webkitNamespaceBugWorkaround=function(t){return t.replace(/ xlink=/g," xmlns:xlink=").replace(/ href=/g," xlink:href=")}},function(t,e,n){"use strict";e.__esModule=!0,e.default={LINE_WIDTH:2,FONT_SIZE:12}},function(t,e,n){"use strict";e.__esModule=!0,e.determineStartCorrection=function(t,e,n){var r=0;return!e.includes("nodi")&&e.includes("bidi")&&(r=t.xTo>t.xFrom?7.5*n:-7.5*n),r},e.determineEndCorrection=function(t,e,n){var r=0;return e.includes("nodi")||(r=t.xTo>t.xFrom?-7.5*n:7.5*n),r},e.getDirection=function(t){var e=t.xTo>t.xFrom?1:-1;return{signX:e,signY:t.yTo>t.yFrom?1:-1,dy:e*(t.yTo-t.yFrom)/(t.xTo-t.xFrom)}}},function(t,e){t.exports={ss:function(t){return{show:function(e){t.removeAttribute("style"),e&&(t.style.display=e)},hide:function(){t.style.display="none"},toggle:function(){"none"===t.style.display?t.removeAttribute("style"):t.style.display="none"}}},attachEventHandler:function(t,e,n){for(var r=document.querySelectorAll(t),i=0;i<r.length;i++)r[i].addEventListener(e,n,!1)},doForAllOfClass:function(t,e){for(var n=document.getElementsByClassName(t),r=0;r<n.length;r++)e(n[r])},ajax:function(t,e,n){var r=new XMLHttpRequest;r.onreadystatechange=function(t){t.target.readyState===XMLHttpRequest.DONE&&(200===r.status?e(t):n(t))},r.open("GET",t),r.responseType="text";try{r.send()}catch(t){n()}}}},function(t,e,n){var r=n(34);function i(){r.close(),window.__color_panel.style.width="0",window.__output_panel.style.width="0",window.__aboutsheet.style.width="0",window.__embed_panel.style.width="0",window.__learn_panel.style.width="0",window.__render_options_panel.style.width="0",window.__save_as_panel.style.width="0"}t.exports={hideAllPanels:i,togglePanel:function(t,e,n){var r=t.style.width.toString();"0px"===r||""===r?(i(),t.style.width="340px",e()):(i(),n())},keyDown:function(t){27===t.keyCode&&i()}}},function(t,e,n){"use strict";function r(t,e){return void 0===e||"*"===e||t.some(function(t){return t.name===e})}e.__esModule=!0,e.nameValue2Option=function(t,e){var n={};return n[t.toLowerCase()]=e,n},e.flattenBoolean=function(t){return["true","on","1"].includes(t.toLowerCase())},e.entityExists=r,e.isMscGenKeyword=function(t){return["box","abox","rbox","note","msc","hscale","width","arcgradient","wordwraparcs","label","color","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"].includes(t)};var i=function(){return function(t,e){this.name="EntityNotDefinedError",this.message=function(t,e){return"Entity '"+t+"' in arc '"+e.from+" "+e.kind+" "+e.to+"' is not defined."}(t,e)}}();e.EntityNotDefinedError=i,e.checkForUndeclaredEntities=function t(e,n){(n||[]).forEach(function(n){n.forEach(function(n){if(n.from&&!r(e,n.from))throw new i(n.from,n);if(n.to&&!r(e,n.to))throw new i(n.to,n);n.arcs&&t(e,n.arcs)})})},e.getMetaInfo=function(t,e){var n=function(t){return!!t&&(t.hasOwnProperty("watermark")||t.hasOwnProperty("wordwrapentities")||t.hasOwnProperty("wordwrapboxes")||t.hasOwnProperty("width")&&"auto"===t.width)}(t),r=function(t){return(t||[]).some(function(t){return t.some(function(t){return["alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"].includes(t.kind)})})}(e);return{extendedOptions:n,extendedArcTypes:r,extendedFeatures:n||r}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t,e,n){e.forEach(function(e){!function(t,e,n){e.forEach(function(i){!function(t,e,n,r){r.forEach(function(r){r(n,t,e)})}(t,e,i,n),i.arcs&&r(t,i.arcs,n)})}(t,e,n)})}e.__esModule=!0,e.default=function(t,e,n){var i,o;return i=t.entities,o=e,i.forEach(function(t){o.forEach(function(e){e(t)})}),t.arcs&&r(t.entities,t.arcs,n),t}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){return e?Math.round(t*Math.pow(10,e))/Math.pow(10,e):Math.round(t)}},function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};e.__esModule=!0;var i=r(n(12)),o=r(n(23)),a=function(){function t(t){void 0===t&&(t=!1),this.indent="  ",this.space=" ",this.eol="\n",this.config={},!0===t?(this.indent="",this.space="",this.eol=""):(this.indent="  ",this.space=" ",this.eol="\n"),this.init(this.config)}return t.prototype.init=function(t){this.config=Object.assign({},this.getConfig(),t)},t.prototype.render=function(t){var e="";return t.precomment&&(e+=this.renderComments(t.precomment)),e+=this.config.program.opener,t.options&&(e+=this.renderOptions(t.options)),e+=this.renderEntities(t.entities),t.arcs&&(e+=this.renderArcLines(t.arcs,"")),e+=this.config.program.closer},t.prototype.renderEntityName=function(t){return this.isQuotable(t)?'"'+t+'"':t},t.prototype.renderAttribute=function(t){var e="";return t.name&&t.hasOwnProperty("value")&&(e="string"==typeof t.value?this.renderStringAttribute(t):this.renderNonStringAttribute(t)),e},t.prototype.renderComments=function(t){return t.reduce(function(t,e){return t+e},"")},t.prototype.renderOption=function(t){return t.name+"="+("string"==typeof t.value?'"'+o.escapeString(t.value)+'"':t.value.toString())},t.prototype.optionIsValid=function(t){return!0},t.prototype.renderKind=function(t){return t},t.prototype.renderStringAttribute=function(t){return t.name+'="'+o.escapeString(t.value)+'"'},t.prototype.renderNonStringAttribute=function(t){return t.name+"="+t.value},t.prototype.getConfig=function(){return{supportedOptions:["hscale","width","arcgradient","wordwraparcs","watermark","wordwrapentities","wordwrapboxes"],supportedEntityAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip"],supportedArcAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip","title","activation"],program:{opener:"msc"+this.space+"{"+this.eol,closer:"}"},option:{opener:this.indent,separator:","+this.eol+this.indent,closer:";"+this.eol+this.eol},entity:{opener:this.indent,separator:","+this.eol+this.indent,closer:";"+this.eol+this.eol},attribute:{opener:this.space+"[",separator:","+this.space,closer:"]"},arcline:{opener:this.indent,separator:","+this.eol+this.indent,closer:";"+this.eol},inline:{opener:this.space+"{"+this.eol,closer:this.indent+"}"}}},t.prototype.extractSupportedOptions=function(t,e){return e.filter(function(e){return void 0!==t[e]}).map(function(e){return{name:e,value:t[e]}})},t.prototype.isQuotable=function(t){var e=t.match(/[a-z0-9]+/gi);return e?1!==e.length||i.isMscGenKeyword(t):"*"!==t},t.prototype.renderOptions=function(t){var e=this,n=this.extractSupportedOptions(t,this.config.supportedOptions).filter(this.optionIsValid),r="";if(n.length>0){var i=n.pop();r=n.reduce(function(t,n){return t+e.renderOption(n)+e.config.option.separator},this.config.option.opener),r+=this.renderOption(i)+this.config.option.closer}return r},t.prototype.renderEntity=function(t){return this.renderEntityName(t.name)+this.renderAttributes(t,this.config.supportedEntityAttributes)},t.prototype.renderEntities=function(t){var e=this,n="";return t.length>0&&(n=t.slice(0,-1).reduce(function(t,n){return t+e.renderEntity(n)+e.config.entity.separator},this.config.entity.opener),n+=this.renderEntity(t[t.length-1])+this.config.entity.closer),n},t.prototype.renderAttributes=function(t,e){var n=this,r="",i=this.extractSupportedOptions(t,e);if(i.length>0){var o=i.pop();r=i.reduce(function(t,e){return t+n.renderAttribute(e)+n.config.attribute.separator},this.config.attribute.opener),r+=this.renderAttribute(o)+this.config.attribute.closer}return r},t.prototype.renderArc=function(t,e){var n="";return t.from&&(n+=this.renderEntityName(t.from)+" "),n+=this.renderKind(t.kind),t.to&&(n+=" "+this.renderEntityName(t.to)),n+=this.renderAttributes(t,this.config.supportedArcAttributes),t.arcs&&(n+=this.config.inline.opener,n+=this.renderArcLines(t.arcs,e+this.indent),n+=e+this.config.inline.closer),null===t.arcs&&(n+=this.config.inline.opener,n+=e+this.config.inline.closer),n},t.prototype.renderArcLine=function(t,e){var n=this,r="";return t.length>0&&(r=t.slice(0,-1).reduce(function(t,r){return t+e+n.renderArc(r,e)+n.config.arcline.separator},this.config.arcline.opener),r+=e+this.renderArc(t[t.length-1],e)+this.config.arcline.closer),r},t.prototype.renderArcLines=function(t,e){var n=this;return t.reduce(function(t,r){return t+n.renderArcLine(r,e)},"")},t}();e.XuAdaptor=a,e.render=function(t,e){return new a(e).render(t)}},function(t,e){t.exports={classifyExtension:function(t){var e={msgenny:"msgenny",mscgen:"mscgen",msc:"mscgen",mscin:"mscgen",xu:"xu",json:"json",ast:"json"};if(!t)return"mscgen";var n=t.lastIndexOf(".");if(n>-1){var r=t.slice(n+1);if(e[r])return e[r]}return"mscgen"},language2Mode:function(t){var e={mscgen:"text/x-xu",xu:"text/x-xu",msgenny:"text/x-msgenny",json:"application/json"};return e[t]?e[t]:t},correctLanguage:function(t,e){return!0===t&&"mscgen"===e?"xu":!1===t&&"xu"===e?"mscgen":e},sanitizeBooleanesque:function(t){return["1","true","y","yes","on"].indexOf(t)>-1}}},function(t,e,n){var r=n(56),i=n(31),o=n(58);const a=n(32);var l=4094,u="<!DOCTYPE html>\n<html>\n  <head>\n    <meta content='text/html;charset=utf-8' http-equiv='Content-Type'>\n{{config}}    <script src='https://sverweij.github.io/mscgen_js/mscgen-inpage.js' defer>\n    <\/script>\n  </head>\n  <body>\n    <pre class='code {{language}} mscgen_js'{{data-language}}{{namedstyle}}{{mirrorentities}}{{verticalalignment}}>\n{{source}}\n    </pre>\n  </body>\n</html>",s="    <script>\n      var mscgen_js_config = {\n        clickable: true\n      }\n    <\/script>\n";function c(t,e,n){return u.replace(/{{config}}/g,(a=n.withLinkToEditor,a?s:"")).replace(/{{language}}/g,e).replace(/{{data-language}}/g,function(t){return t&&"mscgen"!==t?" data-language='"+t+"'":""}(e)).replace(/{{mirrorentities}}/g,(o=n.mirrorEntities,o?" data-mirror-entities='true'":"")).replace(/{{verticalalignment}}/g,(i=n.verticalLabelAlignment,i&&"middle"!==i?" data-regular-arc-text-vertical-alignment='"+i+"'":"")).replace(/{{namedstyle}}/g,(r=n.namedStyle,r&&"none"!==r?" data-named-style='"+r+"'":"")).replace(/{{source}}/g,function(t){return t.replace(/</g,"&lt;")}(t));var r,i,o,a}function f(t,e,n,r,i){return t.pathname+"?lang="+n+function(t,e,n){var r=a.parse(t.search),i="";return r.donottrack&&(i+="&donottrack="+r.donottrack),r.debug&&(i+="&debug="+r.debug),e&&(i+="&mirrorentities="+e),n&&(i+="&style="+n),i}(t,r,i)+"&msc="+encodeURIComponent(e)}t.exports={toVectorURI:function(t){return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(t)},toHTMLSnippet:c,toHTMLSnippetURI:function(t,e,n){return"data:text/plain;charset=utf-8,"+encodeURIComponent(c(t,e,n))},todotURI:function(t){return"data:text/plain;charset=utf-8,"+encodeURIComponent(r.render(t))},toVanillaMscGenURI:function(t){return"data:text/plain;charset=utf-8,"+encodeURIComponent(i.render(t))},toDoxygenURI:function(t){return"data:text/plain;charset=utf-8,"+encodeURIComponent(o.render(t))},toLocationString:function(t,e,n,r,i){var o="# source too long for an URL";return function(t,e,n,r,i){return f(t,e,n,r,i).length<l}(t,e,n,r,i)&&(o=e),f(t,o,n,r,i)}}},function(t,e){var n="state";function r(){return"undefined"!=typeof localStorage}function i(){if(r())try{return JSON.parse(localStorage.getItem(n))}catch(t){}return null}function o(t,e){var o=void 0===e||e,a={autorender:t.getAutoRender(),mirrorEntities:t.getMirrorEntities(),namedStyle:t.getNamedStyle(),verticalLabelAlignment:t.getVerticalLabelAlignment(),includeSource:t.getIncludeSource()};if(o)a.language=t.getLanguage(),a.source=t.getSource();else{var l=i();l&&(l.language&&(a.language=l.language),l.source&&(a.source=l.source))}!function(t){r()&&localStorage.setItem(n,JSON.stringify(t))}(a)}function a(t,e){var n=i(),r=void 0===e||e;n&&(t.setAutoRender(n.autorender),t.setMirrorEntities(n.mirrorEntities),t.setNamedStyle(n.namedStyle),t.setVerticalLabelAlignment(n.verticalLabelAlignment),t.setIncludeSource(n.includeSource),r&&(n.language&&t.setLanguage(n.language),n.source&&t.setSource(n.source)))}t.exports={save:o,load:a,saveSettings:function(t){o(t,!1)},loadSettings:function(t){a(t,!1)}}},function(t,e){var n=9007199254740991,r="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;var l,u,s=Object.prototype,c=s.hasOwnProperty,f=s.toString,h=s.propertyIsEnumerable,d=(l=Object.keys,u=Object,function(t){return l(u(t))}),g=Math.max,p=!h.call({valueOf:1},"valueOf");function v(t,e){var n=x(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&k(t)}(t)&&c.call(t,"callee")&&(!h.call(t,"callee")||f.call(t)==r)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],i=n.length,o=!!i;for(var a in t)!e&&!c.call(t,a)||o&&("length"==a||y(a,i))||n.push(a);return n}function m(t,e,n){var r=t[e];c.call(t,e)&&b(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function y(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}function w(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||s)}function b(t,e){return t===e||t!=t&&e!=e}var x=Array.isArray;function k(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=_(t)?f.call(t):"";return e==i||e==o}(t)}function _(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var C=function(t){return e=function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&function(t,e,n){if(!_(n))return!1;var r=typeof e;return!!("number"==r?k(n)&&y(e,n.length):"string"==r&&e in n)&&b(n[e],t)}(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var l=n[r];l&&t(e,l,r,o)}return e},n=g(void 0===n?e.length-1:n,0),function(){for(var t=arguments,r=-1,i=g(t.length-n,0),o=Array(i);++r<i;)o[r]=t[n+r];r=-1;for(var a=Array(n+1);++r<n;)a[r]=t[r];return a[n]=o,function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(e,this,a)};var e,n}(function(t,e){if(p||w(e)||k(e))!function(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],l=r?r(n[a],t[a],a,n,t):void 0;m(n,a,void 0===l?t[a]:l)}}(e,function(t){return k(t)?v(t):function(t){if(!w(t))return d(t);var e=[];for(var n in Object(t))c.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}(e),t);else for(var n in e)c.call(e,n)&&m(t,n,e[n])});t.exports=C},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};e.__esModule=!0;var o=r(n(4)),a=r(n(1)),l=n(22),u=r(n(8)),s=n(43),c=i(n(29)),f=i(n(27)),h=i(n(50)),d=i(n(25)),g=i(n(52)),p=i(n(53)),v=i(n(54)),m=i(n(5)),y=i(n(7)),w=new s.Thing(0),b=3,x=38,k=0,_=Object.seal({arcRowHeight:x,arcGradient:k,arcEndX:0,wordWrapArcs:!1,mirrorEntitiesOnBottom:!1,regularArcTextVerticalAlignment:"middle",maxDepth:0,document:{},layers:{lifeline:{},sequence:{},notes:{},inline:{},watermark:{}}}),C=[];function L(t,e,n,r){var i;_.document=g.bootstrap(e,n,c.get(),h.getMarkerDefs(c.get(),t),r),_.mirrorEntitiesOnBottom=r.mirrorEntitiesOnBottom,_.regularArcTextVerticalAlignment=r.regularArcTextVerticalAlignment,y.init(_.document),_.layers={lifeline:(i=_.document).getElementById(c.get("_lifelines")),sequence:i.getElementById(c.get("_sequence")),notes:i.getElementById(c.get("_notes")),inline:i.getElementById(c.get("_arcspans")),watermark:i.getElementById(c.get("_watermark"))},_.maxDepth=t.depth,function(t,e){w=new s.Thing(e&&e.hscale),function(t,e){t.arcRowHeight=x,t.arcGradient=k,t.wordWrapArcs=!1,e.arcgradient&&(t.arcRowHeight=parseInt(e.arcgradient,10)+x,t.arcGradient=parseInt(e.arcgradient,10)+k);t.wordWrapArcs=Boolean(e.wordwraparcs)}(t,e)}(_,t.options)}function S(t){var e,n,r;O(t.entities,0,t.options),v.clear(w.getDims().height,_.arcRowHeight),e=t.arcs,n=t.entities,r=t.options,C=[],E(n,"arcrow",_.arcRowHeight,v.get(-1).y).forEach(function(t){_.layers.lifeline.appendChild(t)}),function(t,e,n){var r=0;t.forEach(function(t,i){t.every(function(t){return t.isVirtual})?v.set(i,Math.max(v.get(i).height,A(t,e,n))):(v.set(i,Math.max(v.get(i).height,A(t,e,n)),r),r++)})}(e,n,r),e.forEach(function(t,e){!function(t,e,n,r){var i="arcrow",o=[];t.forEach(function(t){var l={};switch(a.default(t.kind)){case"empty":l=D(t,v.get(e).y),"..."===t.kind&&(i="arcrowomit"),o.push({layer:_.layers.sequence,element:l});break;case"box":l=W(w.getOAndD(t.from,t.to),t,v.get(e).y,r),o.push({title:t.title,layer:_.layers.notes,element:l});break;case"inline_expression":l=N(t,v.get(e).y),o.push({layer:_.layers.notes,element:l}),C.push({arc:t,rownum:e});break;default:l=T(t,n,o,e,r)}}),E(n,i,v.get(e).height,v.get(e).y).forEach(function(t){_.layers.lifeline.appendChild(t)}),o.forEach(function(t){t.element&&(t.title&&t.element.appendChild(m.createTitle(t.title)),t.layer.appendChild(t.element))})}(t,e,n,r)}),C.forEach(function(t){var e,n,r,i;_.layers.inline.appendChild((e=t,n=v.get(t.rownum).y,r=v.get(e.rownum).y,i=v.get(e.rownum+e.arc.numberofrows+1).y-r,e.arc.label="",function(t,e,n,r){var i=2*_.maxDepth*u.default.LINE_WIDTH,o=t.to-t.from+w.getDims().interEntitySpacing-2*u.default.LINE_WIDTH-i,a=t.from-(w.getDims().interEntitySpacing-2*u.default.LINE_WIDTH-i)/2,l=2*(_.maxDepth-e.depth)*u.default.LINE_WIDTH;return m.createRect({width:o+2*l,height:n||_.arcRowHeight-2*u.default.LINE_WIDTH,x:a-l,y:r},{class:"box inline_expression "+e.kind,color:e.linecolor,bgColor:e.textbgcolor})}(w.getOAndD(e.arc.from,e.arc.to),e.arc,i,n)))}),_.mirrorEntitiesOnBottom&&function(t,e){var n=v.getLast().y+(v.getLast().height+_.arcRowHeight)/2;E(t,"arcrow",_.arcRowHeight,n).forEach(function(t){_.layers.lifeline.appendChild(t)}),O(t,n+_.arcRowHeight/2,e)}(t.entities,t.options)}function M(t){var e,n,r=function(t){var e=p.determineDepthCorrection(t.depth,u.default.LINE_WIDTH),n=v.getLast(),r={width:t.entities.length*w.getDims().interEntitySpacing+e,height:Boolean(_.mirrorEntitiesOnBottom)?2*w.getDims().height+n.y+n.height+2*b:n.y+n.height/2+2*b,horizontaltransform:(w.getDims().interEntitySpacing+e-w.getDims().width)/2,autoscale:!!t.options&&!!t.options.width&&"auto"===t.options.width,verticaltransform:b,scale:1};return r.x=0-r.horizontaltransform,r.y=0-r.verticaltransform,r}(t);e=r,(n=_.document.getElementById(c.get("_background")))&&n.appendChild(m.createRect(e,{class:"bglayer"})),function(t){var e=_.document.getElementById(c.get()),n=_.document.getElementById(c.get("_body"));n&&e&&(n.setAttribute("transform","translate("+t.horizontaltransform+","+t.verticaltransform+") scale("+t.scale+","+t.scale+")"),t.autoscale&&!0===t.autoscale?m.updateSVG(e,{width:"100%",height:"100%",viewBox:"0 0 "+t.width.toString()+" "+t.height.toString()}):m.updateSVG(e,{width:t.width.toString(),height:t.height.toString(),viewBox:"0 0 "+t.width.toString()+" "+t.height.toString()}))}(r=function(t,e){t.watermark&&function(t,e){_.layers.watermark.appendChild(m.createDiagonalText(t,e,"watermark"))}(t.watermark,e);t.width&&"auto"!==t.width&&(e=p.scaleCanvasToWidth(t.width,e));return e}(t.options,r))}function O(t,e,n){_.layers.sequence.appendChild(w.renderEntities(t,e,n)),_.arcEndX=w.getDims().entityXHWM-w.getDims().interEntitySpacing+w.getDims().width}function T(t,e,n,r,i){var a=m.createGroup();return t.from&&t.to&&("*"===t.to?(!function(t,e,n,r,i){var o=0,a=t.label,l=w.getX(t.from);t.label="",e.forEach(function(e){var a={};e.name!==t.from&&(o=w.getX(e.name),a=B(t,l,o,r,i),n.push({layer:_.layers.sequence,element:a}))}),t.label=a}(t,e,n,r,i),a=d.createLabel(t,{x:0,y:v.get(r).y,width:_.arcEndX},Object.assign({alignAround:!0,ownBackground:!0},o.default(i))),n.push({title:t.title,layer:_.layers.sequence,element:a})):(a=B(t,w.getX(t.from),w.getX(t.to),r,i),n.push({title:t.title,layer:_.layers.sequence,element:a}))),a}function A(t,e,n){var r=0;return t.forEach(function(t){var i;switch(a.default(t.kind)){case"empty":i=D(t,0);break;case"box":i=W(w.getOAndD(t.from,t.to),t,0,n);break;case"inline_expression":i=N(t,0);break;default:var l=o.default(t);l.arcskip=0,i=T(l,e,[],0,n)}r=Math.max(r,y.getBBox(i).height+2*u.default.LINE_WIDTH)}),r}function N(t,e){var n=w.getOAndD(t.from,t.to),r=e>0,i=2*_.maxDepth*u.default.LINE_WIDTH,o=n.to-n.from+(w.getDims().interEntitySpacing-2*u.default.LINE_WIDTH)-7-u.default.LINE_WIDTH,a=n.from-(w.getDims().interEntitySpacing-3*u.default.LINE_WIDTH-i)/2-2*(_.maxDepth-t.depth)*u.default.LINE_WIDTH,l=m.createGroup();r||(t.label=t.kind+(t.label?": "+t.label:""));var s=d.createLabel(t,{x:a+u.default.LINE_WIDTH-o/2,y:e+_.arcRowHeight/4,width:o},{alignLeft:!0,ownBackground:!1,wordwraparcs:_.wordWrapArcs}),c=y.getBBox(s),f=Math.max(c.height+2*u.default.LINE_WIDTH,_.arcRowHeight/2-2*u.default.LINE_WIDTH),h=Math.min(c.width+2*u.default.LINE_WIDTH,o),g=m.createEdgeRemark({width:h-u.default.LINE_WIDTH+7,height:f,x:a,y:e},{class:"box inline_expression_label",color:t.linecolor,bgColor:t.textbgcolor,foldSize:7});return l.appendChild(g),l.appendChild(s),l}function E(t,e,n,r){return n<_.arcRowHeight&&(n=_.arcRowHeight),t.map(function(t){var i=m.createLine({xFrom:w.getX(t.name),yFrom:0-n/2+(r||0),xTo:w.getX(t.name),yTo:n/2+(r||0)},{class:e});return t.linecolor&&i.setAttribute("style","stroke:"+t.linecolor+";"),i})}function D(t,e){return"---"===t.kind?function(t,e,n){var r=0,i=_.arcEndX,o="comment",a=m.createGroup();if(t.from&&t.to){var l=1*_.maxDepth*u.default.LINE_WIDTH,s=2*(_.maxDepth-t.depth)*u.default.LINE_WIDTH;r=e.from-(w.getDims().interEntitySpacing+2*u.default.LINE_WIDTH)/2-(s-l),i=e.to+(w.getDims().interEntitySpacing+2*u.default.LINE_WIDTH)/2+(s-l),o="inline_expression_divider"}var c=m.createLine({xFrom:r,yFrom:n,xTo:i,yTo:n},{class:o});a.appendChild(c),a.appendChild(F(t,e,n)),t.linecolor&&c.setAttribute("style","stroke:"+t.linecolor+";");return a}(t,w.getOAndD(t.from,t.to),e):F(t,w.getOAndD(t.from,t.to),e)}function B(t,e,n,r,i){var a,l=m.createGroup(),s="arc ";s+="<:>"===(a=t.kind)?"bidi ":"::"===a?"nodi ":"",s+=f.getAggregateClass(t.kind)+" "+f.getClass(t.kind);var g=[":>","::","<:>"].includes(t.kind),y=function(t,e,n){var r=v.get(t).y+e;if(n){var i=Math.floor(n),o=n-i,a=v.get(t).realRowNumber;r=v.getByRealRowNumber(a+i).y+o*(v.getByRealRowNumber(a+i+1).y-v.getByRealRowNumber(a+i).y)}return r}(r,_.arcGradient,t.arcskip);if(e===(n=p.determineArcXTo(t.kind,e,n))){l.appendChild(function(t,e,n,r,i,o){var a=_.arcRowHeight/5*2,l=w.getDims().interEntitySpacing/2,s={},d="arc "+f.getAggregateClass(t)+" "+f.getClass(t);if(r){s=m.createGroup();var g=m.createUTurn({x:e,y:i,width:l-2*u.default.LINE_WIDTH,height:a},i+n+a-2*u.default.LINE_WIDTH,{class:d,dontHitHome:"::"!==t,lineWidth:u.default.LINE_WIDTH}),p=m.createUTurn({x:e,y:i,width:l,height:a},i+n+a-u.default.LINE_WIDTH,{lineWidth:u.default.LINE_WIDTH}),v=m.createUTurn({x:e,y:i,width:l,height:a},i+n+a,{class:d,dontHitHome:"::"!==t,lineWidth:u.default.LINE_WIDTH});o&&g.setAttribute("style","stroke:"+o),h.getAttributes(c.get(),t,o,e,e).forEach(function(t){p.setAttribute(t.name,t.value)}),p.setAttribute("style","stroke:transparent;"),Boolean(o)&&v.setAttribute("style","stroke:"+o),s.appendChild(g),s.appendChild(v),s.appendChild(p),s.setAttribute("class",d)}else s=m.createUTurn({x:e,y:i,width:l,height:a},i+n+a,{class:d,dontHitHome:"-x"===t,lineWidth:u.default.LINE_WIDTH}),h.getAttributes(c.get(),t,o,e,e).forEach(function(t){s.setAttribute(t.name,t.value)});return s}(t.kind,e,y-v.get(r).y-_.arcGradient,g,v.get(r).y,t.linecolor));var b=2*w.getDims().interEntitySpacing/3;l.appendChild(d.createLabel(t,{x:e+1.5*u.default.LINE_WIDTH-b/2,y:v.get(r).y-_.arcRowHeight/5-u.default.LINE_WIDTH/2,width:b},Object.assign({alignLeft:!0,alignAbove:!0,ownBackground:!0},o.default(i))))}else{var x=m.createLine({xFrom:e,yFrom:v.get(r).y,xTo:n,yTo:y},{class:s,doubleLine:g});h.getAttributes(c.get(),t.kind,t.linecolor,e,n).forEach(function(t){x.setAttribute(t.name,t.value)}),l.appendChild(x),l.appendChild(d.createLabel(t,{x:e,y:v.get(r).y+(y-v.get(r).y)/2,width:n-e},Object.assign({alignAround:!0,alignAbove:"above"===_.regularArcTextVerticalAlignment,ownBackground:!0},o.default(i))))}return l}function F(t,e,n){var r=0,i=_.arcEndX;return t.from&&t.to&&(r=e.from,i=e.to-e.from),d.createLabel(t,{x:r,y:n,width:i},{ownBackground:!0,wordwraparcs:_.wordWrapArcs})}function W(t,e,n,r){var i,o=2*_.maxDepth*u.default.LINE_WIDTH,a=t.to-t.from+w.getDims().interEntitySpacing-2*u.default.LINE_WIDTH-o,l=t.from-(w.getDims().interEntitySpacing-2*u.default.LINE_WIDTH-o)/2,s=m.createGroup(),c=d.createLabel(e,{x:l,y:n,width:a},r),f=y.getBBox(c),h=Math.max(f.height+2*u.default.LINE_WIDTH,_.arcRowHeight-2*u.default.LINE_WIDTH),g={width:a,height:h,x:l,y:n-h/2};switch(e.kind){case"rbox":i=m.createRBox(g,{class:"box rbox",color:e.linecolor,bgColor:e.textbgcolor});break;case"abox":i=m.createABox(g,{class:"box abox",color:e.linecolor,bgColor:e.textbgcolor});break;case"note":i=m.createNote(g,{class:"box note",color:e.linecolor,bgColor:e.textbgcolor,lineWidth:u.default.LINE_WIDTH});break;default:i=m.createRect(g,{class:"box",color:e.linecolor,bgColor:e.textbgcolor})}return s.appendChild(i),s.appendChild(c),s}e.clean=function(t,e){_.document=g.init(e),y.init(_.document),y.removeRenderedSVGFromElement(t)},e.render=function(t,e,n,r){var i=Object.freeze(l.flatten(t)),o=function(t,e){return t.document.getElementById(e)||t.document.body}(e,n);return c.setPrefix(n),L(i,e,o,r||{}),S(i),M(i),y.webkitNamespaceBugWorkaround(o.innerHTML)}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};e.__esModule=!0;var o=r(n(14)),a=r(n(4)),l=i(n(23)),u=r(n(1)),s=r(n(24)),c=r(n(42)),f=0;function h(t){void 0===t.label&&(t.label=t.name)}function d(t){t.label&&(t.label=l.unescapeString(t.label)),t.id&&(t.id=l.unescapeString(t.id))}function g(t){t.label=Boolean(t.label)?t.label:""}function p(t){if(s.default(t.kind)!==t.kind){t.kind=s.default(t.kind);var e=t.from;t.from=t.to,t.to=e}}function v(t,e){!t.linecolor&&e.arclinecolor&&(t.linecolor=e.arclinecolor),!t.textcolor&&e.arctextcolor&&(t.textcolor=e.arctextcolor),!t.textbgcolor&&e.arctextbgcolor&&(t.textbgcolor=e.arctextbgcolor)}function m(t,e){if(void 0===e&&(e=[]),t&&t.from){var n=e.find(function(e){return e.name===t.from});n&&v(t,n)}}function y(t,e,n,r){var i=[],o=[],l=[];return t.forEach(function(t){if(t.isVirtual=!1,"inline_expression"===u.default(t.kind)){if(t.depth=e,t.isVirtual=!0,t.arcs){var i=a.default(t);i.numberofrows=function t(e){return e.arcs.reduce(function(e,n){return e+(Boolean(n[0].arcs)?t(n[0])+1:0)},e.arcs.length)}(i),delete i.arcs,o.push(i),t.arcs.forEach(function(t){l=l.concat(y(t,e+1,i.from,i.to)),t.forEach(function(t){v(t,i)})}),e>f&&(f=e)}else o.push(t);l.push([{kind:"|||",from:t.from,to:t.to,isVirtual:!0}])}else n&&r&&"empty"===u.default(t.kind)&&(t.from=n,t.to=r,t.depth=e),o.push(t)}),i.push(o),i.concat(l)}function w(t){return f=0,{options:c.default(t.options),entities:a.default(t.entities),arcs:(e=t.arcs,e?e.reduce(function(t,e){return t.concat(y(e,0))},[]):[]),depth:f+1};var e}e.nameAsLabel=h,e.swapRTLArc=p,e.overrideColors=m,e.normalize=w,e.flatten=function(t){return w(o.default(t,[h,d],[p,m,d,g]))}},function(t,e,n){"use strict";e.__esModule=!0,e.unescapeString=function(t){return t.replace(/\\"/g,'"')},e.escapeString=function(t){return t.replace(/\\"/g,'"').replace(/"/g,'\\"')}},function(t,e,n){"use strict";e.__esModule=!0;var r=Object.freeze({"<-":"->","<=":"=>","<<=":"=>>","<<":">>","<:":":>","x-":"-x"});e.default=function(t){return r[t]||t}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};e.__esModule=!0;var o=r(n(1)),a=r(n(26)),l=r(n(8)),u=i(n(27)),s=i(n(5)),c=i(n(7));function f(t,e){return e&&t.setAttribute("style","fill:"+e+";"),t}function h(t,e,n,r,i,o){var a,h,d,g=n+(i+.25)*c.calculateTextHeight(),p=function(t,e){var n=t,r=u.getClass(n),i=u.getAggregateClass(n);return r===i?r+e:i+e+r+e}(r.kind,"-text ");return o.alignLeft&&(p+="anchor-start "),o.alignAround&&(g=n+(i+.25)*(c.calculateTextHeight()+l.default.LINE_WIDTH)),a=f(function(t,e,n,r,i){var o=0===e?{class:r,url:i.url,id:i.id,idurl:i.idurl}:{class:r,url:i.url};return s.createText(t,n,o)}(t,i,{x:e,y:g},p,r),r.textcolor),h=r.url,d=r.textcolor,f(a,h&&!d?"blue":d)}function d(t,e){return function(t,e){return"box"===o.default(t)&&e}(t,e.wordwrapboxes)||function(t,e){return"entity"===t&&e}(t,e.wordwrapentities)||function(t,e){return"box"!==o.default(t)&&"entity"!==t&&e}(t,e.wordwraparcs)||void 0===t}function g(t,e,n,r,i){return d(e,i)?a.default(t,function(t,e){var n=Math.abs(t);return n<=160?n/(e/12*8):n<=320?n/(e/12*6.4):n<=480?n/(e/12*5.9):n/(e/12*5.6)}(n,r)):t.split("\\n")}e.createLabel=function(t,e,n,r){var i=s.createGroup(r);if(n=n||{},t.label){var o=e.x+e.width/2,a=function(t,e){return e.alignAbove&&t.forEach(function(){t.push("")}),e.alignAround&&1===t.length&&t.push(""),t}(g(t.label,t.kind,e.width,l.default.FONT_SIZE,n),n),u=function(t,e,n){return n.alignAround?e.y-(t.length-1)/2*(c.calculateTextHeight()+l.default.LINE_WIDTH+1):e.y-(t.length-1)/2*(c.calculateTextHeight()+1)}(a,e,n);a.forEach(function(e,r){if(""!==e){var a=h(e,o,u,t,r,n);n.ownBackground&&i.appendChild((l=a,f=t.textbgcolor,d=s.createRect(c.getBBox(l),{class:"label-text-background"}),f&&d.setAttribute("style","fill:"+f+"; stroke:"+f+";"),d)),i.appendChild(a)}var l,f,d;u++})}return i},e.splitLabel=g},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){for(var n=0,r=[],i=0,o=0,a=0,l=0,u=t.replace(/[\t\n]+/g," ").replace(/\\n/g,"\n");l<=u.length;)l>=u.length?r.push(u.substring(i,l)):"\n"===u[l]?(n=0,a=l,r.push(u.substring(i,a)),i=a+1):n++>=e&&(-1===(a=u.substring(0,l).lastIndexOf(" "))||a<i?(n=1,a=l,o=l):(n=0,o=a+1),r.push(u.substring(i,a)),i=o),l++;return r}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i=r(n(1)),o=Object.freeze({"|||":"empty-row","...":"omitted-row","---":"comment-row","->":"signal","=>":"method","=>>":"callback",">>":"return",":>":"emphasised","-x":"lost","<-":"signal","<=":"method","<<=":"callback","<<":"return","<:":"emphasised","x-":"lost","<->":"signal","<=>":"method","<<=>>":"callback","<<>>":"return","<:>":"emphasised","--":"signal","==":"method","..":"return","::":"emphasised"});e.getClass=function(t){return o[t]||t},e.getAggregateClass=function(t){return i.default(t)||t}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};e.__esModule=!0;var o=r(n(15)),a=i(n(6)),l=i(n(9)),u=70,s=3;function c(t){return t.map(function(t){return a.pathPoint2String("S",t.controlX,t.controlY)+" "+a.point2String(t)}).join(" ")}function f(t){var e=Math.abs(t.xTo-t.xFrom),n=Math.abs(t.yTo-t.yFrom);return Math.sqrt(e*e+n*n)}function h(t,e){var n=f(t);return n>0?Math.floor(n/e):0}function d(t){return Math.round(2*Math.random()*t)-t}e.points2CurveString=c,e.line2CurveString=function(t){return c(p(t,u,s))},e.getLineLength=f,e.getNumberOfSegments=h;var g=2;function p(t,e,n){for(var r,i=[],a=h(t,e=function(t,e){if(t<=0)throw new Error("pInterval must be > 0");return Math.min(f(e),t)}(e,t)),u=l.getDirection(t),s=u.signX*Math.sqrt(Math.pow(e,2)/(1+Math.pow(u.dy,2))),c=u.signY*(Math.abs(u.dy)===1/0?e:Math.sqrt(Math.pow(u.dy,2)*Math.pow(e,2)/(1+Math.pow(u.dy,2)))),p=1;p<=a;p++)e>f({xFrom:(r={controlX:o.default(t.xFrom+(p-.5)*s+d(n),g),controlY:o.default(t.yFrom+(p-.5)*c+d(n),g),x:o.default(t.xFrom+p*s,g),y:o.default(t.yFrom+p*c,g)}).x,yFrom:r.y,xTo:t.xTo,yTo:t.yTo})&&(r.x=t.xTo,r.y=t.yTo),i.push(r);return i}e.getBetweenPoints=p},function(t,e,n){"use strict";e.__esModule=!0;var r="mscgenjs",i=r;e.setPrefix=function(t){i=r+t},e.get=function(t){return i+(t||"")}},function(t){t.exports={baseTemplate:"svg.<%=id%>{font-family:Helvetica,sans-serif;font-size:<%=fontSize%>px;font-weight:normal;font-style:normal;text-decoration:none;background-color:white;stroke:black;stroke-width:<%=lineWidth%>}.<%=id%> path, .<%=id%> rect{fill:none}.<%=id%> .label-text-background{fill:white;stroke:white;stroke-width:0}.<%=id%> .bglayer{fill:white;stroke:white;stroke-width:0}.<%=id%> line{}.<%=id%> .return, .<%=id%> .comment{stroke-dasharray:5,3}.<%=id%> .inline_expression_divider{stroke-dasharray:10,5}.<%=id%> text{color:inherit;stroke:none;text-anchor:middle}.<%=id%> text.anchor-start{text-anchor:start}.<%=id%> .arrow-marker{overflow:visible}.<%=id%> .arrow-style{stroke-width:1}.<%=id%> .arcrow, .<%=id%> .arcrowomit, .<%=id%> .emphasised{stroke-linecap:butt}.<%=id%> .arcrowomit{stroke-dasharray:2,2}.<%=id%> .box, .<%=id%> .entity{fill:white;stroke-linejoin:round}.<%=id%> .inherit{stroke:inherit;color:inherit}.<%=id%> .inherit-fill{fill:inherit}.<%=id%> .watermark{font-size:48pt;font-weight:bold;opacity:0.14}",namedStyles:[{name:"basic",description:"Basic",experimental:!1,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> text.entity-text{text-decoration:underline;}"},{name:"lazy",description:"Lazy",experimental:!1,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> text.entity-text{font-weight:bold;}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC}.<%=id%> rect.label-text-background{opacity:0.9}.<%=id%> line.comment,.<%=id%> rect.inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke:grey}"},{name:"classic",description:"Classic",experimental:!1,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> text.entity-text{text-decoration:none}.<%=id%> .entity{stroke:none;}.<%=id%> line,.<%=id%> rect,.<%=id%> path{stroke-width:1px}.<%=id%> .arrow-style{stroke-width:2;}.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke-width: 1px}"},{name:"fountainpen",description:"Fountain pen",experimental:!0,deprecated:!1,renderMagic:"wobbly",cssBefore:"@import 'https://fonts.googleapis.com/css?family=Gochi+Hand';",cssAfter:"svg.<%=id%>{font-family:'Gochi Hand', cursive;font-size:14px;stroke-opacity:0.4;stroke-linecap:round;background-color:transparent}.<%=id%> text{fill:rgba(0,0,128,0.7)}.<%=id%> marker polygon{fill:rgba(0,0,255,0.4);stroke-linejoin:round}.<%=id%> line, .<%=id%> path, .<%=id%> rect, .<%=id%> polygon{stroke:blue !important}.<%=id%> text.entity-text{font-weight:bold;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC;}.<%=id%> .label-text-background{opacity:0}"},{name:"cygne",description:"Cygne (best with msgenny)",experimental:!0,deprecated:!0,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> line, .<%=id%> path{stroke:#00A1DE}.<%=id%> text{fill:#005B82}.<%=id%> .entity,.<%=id%> .box{fill:#00A1DE;stroke:#00A1DE}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#E77B2F;stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{name:"pegasse",description:"Pégase (best with msgenny)",experimental:!1,deprecated:!0,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> line, .<%=id%> path{stroke:rgba(0, 43, 84, 1)}.<%=id%> text{fill:rgba(0, 43, 84, 1)}.<%=id%> .entity,.<%=id%> .box{fill:rgba(0, 43, 84, 1);stroke:rgba(0, 43, 84, 1)}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:rgba(255, 50, 0, 1);stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{name:"grayscaled",description:"Grayscaled (not in IE or Safari)",experimental:!0,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:"svg.<%=id%>{filter:grayscale(1);-webkit-filter:grayscale(1);}"},{name:"inverted",description:"Inverted (not in IE or Safari)",experimental:!0,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:"svg.<%=id%>{filter:invert(1);-webkit-filter:invert(1);}"},{name:"noentityboxes",description:"No entity boxes",experimental:!1,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> .entity{fill:none;stroke:none;}.<%=id%> text.entity-text{text-decoration:underline;}"}]}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var a=o(n(1)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(e){t.prototype.init.call(this,Object.assign({supportedOptions:["hscale","width","arcgradient","wordwraparcs"],supportedEntityAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip"],supportedArcAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip"],inline:{opener:";"+this.eol,closer:"#"}},e))},e.prototype.renderKind=function(t){return"inline_expression"===a.default(t)?"--":t},e.prototype.optionIsValid=function(t){return!Boolean(t.value)||"string"!=typeof t.value||"auto"!==t.value.toLowerCase()},e}(n(16).XuAdaptor);e.MscGenAdaptor=l,e.render=function(t,e){return new l(e).render(t)}},function(t,e,n){"use strict";const r=n(59),i=n(60);function o(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function a(t,e){return e.decode?i(t):t}function l(t){const e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function u(t,e){const n=function(t){let e;switch(t.arrayFormat){case"index":return(t,n,r)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return(t,n,r)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=Object.assign({decode:!0,arrayFormat:"none"},e)),r=Object.create(null);if("string"!=typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;for(const i of t.split("&")){let[t,o]=i.replace(/\+/g," ").split("=");o=void 0===o?null:a(o,e),n(a(t,e),o,r)}return Object.keys(r).sort().reduce((t,e)=>{const n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort((t,e)=>Number(t)-Number(e)).map(t=>e[t]):e}(n):t[e]=n,t},Object.create(null))}e.extract=l,e.parse=u,e.stringify=((t,e)=>{if(!t)return"";const n=function(t){switch(t.arrayFormat){case"index":return(e,n,r)=>null===n?[o(e,t),"[",r,"]"].join(""):[o(e,t),"[",o(r,t),"]=",o(n,t)].join("");case"bracket":return(e,n)=>null===n?[o(e,t),"[]"].join(""):[o(e,t),"[]=",o(n,t)].join("");default:return(e,n)=>null===n?o(e,t):[o(e,t),"=",o(n,t)].join("")}}(e=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},e)),r=Object.keys(t);return!1!==e.sort&&r.sort(e.sort),r.map(r=>{const i=t[r];if(void 0===i)return"";if(null===i)return o(r,e);if(Array.isArray(i)){const t=[];for(const e of i.slice())void 0!==e&&t.push(n(r,e,t.length));return t.join("&")}return o(r,e)+"="+o(i,e)}).filter(t=>t.length>0).join("&")}),e.parseUrl=((t,e)=>{const n=t.indexOf("#");return-1!==n&&(t=t.slice(0,n)),{url:t.split("?")[0]||"",query:u(l(t),e)}})},function(t,e,n){"use strict";e.__esModule=!0;var r=n(30);e.default=Object.freeze({inputType:[{name:"mscgen",experimental:!1},{name:"msgenny",experimental:!1},{name:"xu",experimental:!1},{name:"json",experimental:!1},{name:"ast",experimental:!1}],outputType:[{name:"mscgen",experimental:!1},{name:"msgenny",experimental:!1},{name:"xu",experimental:!1},{name:"json",experimental:!1},{name:"ast",experimental:!1},{name:"dot",experimental:!1},{name:"doxygen",experimental:!1}],regularArcTextVerticalAlignment:[{name:"above",experimental:!0},{name:"middle",experimental:!1},{name:"below",experimental:!0}],namedStyle:r.namedStyles.map(function(t){return{name:t.name,description:t.description,experimental:t.experimental,deprecated:t.deprecated}})})},function(t,e,n){var r=n(21),i=n(69),o=n(2),a=n(10),l="icon-play",u="icon-pause",s=!1,c={},f={},h=!1,d=new i.FrameFactory,g=!1;function p(){h&&(a.ss(window.__btn_anim_close).show(),a.ss(window.__animsvgwrapper).show(),a.ss(window.__animcontrolswrapper).show())}function v(){c&&window.clearTimeout(c),s&&d.getPosition()<d.getLength()?(c=window.setTimeout(v,1400),m(),d.inc()):(s=!1,m())}function m(){h&&(r.clean("__animsvg",window),r.render(d.getCurrentFrame(),window,"__animsvg",{mirrorEntitiesOnBottom:g}),window.__anim_progress_percentage.setAttribute("style","width: "+d.getPercentage()+"%")),window.__btn_anim_playpause.className=s?u:l}function y(){window.__animscreen.style["transition-duration"]="0.6s",window.__animscreen.style.height="0",a.ss(window.__animsvgwrapper).hide(),a.ss(window.__animcontrolswrapper).hide(),a.ss(window.__btn_anim_close).hide(),s=!1,d.home(),m(),h=!1,o.g("send","event","close_animscreen","button")}window.__btn_anim_home.addEventListener("click",function(){d.home(),s=!1,m(),o.g("send","event","anim_home","button")},!1),window.__btn_anim_dec.addEventListener("click",function(){d.dec(),s=!1,m(),o.g("send","event","anim_dec","button")},!1),window.__btn_anim_playpause.addEventListener("click",function(){(s=!s)&&v(),o.g("send","event","anim_playpause","button")},!1),window.__btn_anim_inc.addEventListener("click",function(){d.inc(),s=!1,m(),o.g("send","event","anim_inc","button")},!1),window.__btn_anim_end.addEventListener("click",function(){d.end(),s=!1,m(),o.g("send","event","anim_end","button")},!1),window.__btn_anim_close.addEventListener("click",function(){y()},!1),window.__anim_progress_percentage_wrapper.addEventListener("click",function(t){!function(t){var e=window.__anim_progress_percentage_wrapper.getBoundingClientRect(),n=t.clientX-e.left,r=e.width,i=n/r;d.setPosition(Math.ceil(i*d.getLength())),m()}(t)},!1),t.exports={initialize:function(t,e){window.__animscreen.style.height="100%",window.__animscreen.style["transition-duration"]="1.2s",f&&window.clearTimeout(f),f=window.setTimeout(p,1100),g=e,r.clean("__animsvg",window),d.init(t,!0),r.render(d.getCurrentFrame(),window,"__animsvg",{mirrorEntitiesOnBottom:e}),h=!0},close:y}},function(t,e,n){!function(t){function e(e,n,r){var i,o=e.getWrapperElement();return(i=o.appendChild(document.createElement("div"))).className=r?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof n?i.innerHTML=n:i.appendChild(n),t.addClass(o,"dialog-opened"),i}function n(t,e){t.state.currentNotificationClose&&t.state.currentNotificationClose(),t.state.currentNotificationClose=e}t.defineExtension("openDialog",function(r,i,o){o||(o={}),n(this,null);var a=e(this,r,o.bottom),l=!1,u=this;function s(e){if("string"==typeof e)f.value=e;else{if(l)return;l=!0,t.rmClass(a.parentNode,"dialog-opened"),a.parentNode.removeChild(a),u.focus(),o.onClose&&o.onClose(a)}}var c,f=a.getElementsByTagName("input")[0];return f?(f.focus(),o.value&&(f.value=o.value,!1!==o.selectValueOnOpen&&f.select()),o.onInput&&t.on(f,"input",function(t){o.onInput(t,f.value,s)}),o.onKeyUp&&t.on(f,"keyup",function(t){o.onKeyUp(t,f.value,s)}),t.on(f,"keydown",function(e){o&&o.onKeyDown&&o.onKeyDown(e,f.value,s)||((27==e.keyCode||!1!==o.closeOnEnter&&13==e.keyCode)&&(f.blur(),t.e_stop(e),s()),13==e.keyCode&&i(f.value,e))}),!1!==o.closeOnBlur&&t.on(f,"blur",s)):(c=a.getElementsByTagName("button")[0])&&(t.on(c,"click",function(){s(),u.focus()}),!1!==o.closeOnBlur&&t.on(c,"blur",s),c.focus()),s}),t.defineExtension("openConfirm",function(r,i,o){n(this,null);var a=e(this,r,o&&o.bottom),l=a.getElementsByTagName("button"),u=!1,s=this,c=1;function f(){u||(u=!0,t.rmClass(a.parentNode,"dialog-opened"),a.parentNode.removeChild(a),s.focus())}l[0].focus();for(var h=0;h<l.length;++h){var d=l[h];!function(e){t.on(d,"click",function(n){t.e_preventDefault(n),f(),e&&e(s)})}(i[h]),t.on(d,"blur",function(){--c,setTimeout(function(){c<=0&&f()},200)}),t.on(d,"focus",function(){++c})}}),t.defineExtension("openNotification",function(r,i){n(this,s);var o,a=e(this,r,i&&i.bottom),l=!1,u=i&&void 0!==i.duration?i.duration:5e3;function s(){l||(l=!0,clearTimeout(o),t.rmClass(a.parentNode,"dialog-opened"),a.parentNode.removeChild(a))}return t.on(a,"click",function(e){t.e_preventDefault(e),s()}),u&&(o=setTimeout(s,u)),s})}(n(0))},function(t,e,n){!function(t){"use strict";var e,n,r=t.Pos;function i(t,e){for(var n=function(t){var e=t.flags;return null!=e?e:(t.ignoreCase?"i":"")+(t.global?"g":"")+(t.multiline?"m":"")}(t),r=n,i=0;i<e.length;i++)-1==r.indexOf(e.charAt(i))&&(r+=e.charAt(i));return n==r?t:new RegExp(t.source,r)}function o(t,e,n){e=i(e,"g");for(var o=n.line,a=n.ch,l=t.lastLine();o<=l;o++,a=0){e.lastIndex=a;var u=t.getLine(o),s=e.exec(u);if(s)return{from:r(o,s.index),to:r(o,s.index+s[0].length),match:s}}}function a(t,e){for(var n,r=0;;){e.lastIndex=r;var i=e.exec(t);if(!i)return n;if((r=(n=i).index+(n[0].length||1))==t.length)return n}}function l(t,e,n,r){if(t.length==e.length)return n;for(var i=0,o=n+Math.max(0,t.length-e.length);;){if(i==o)return i;var a=i+o>>1,l=r(t.slice(0,a)).length;if(l==n)return a;l>n?o=a:i=a+1}}function u(t,u,s,c){var f;this.atOccurrence=!1,this.doc=t,s=s?t.clipPos(s):r(0,0),this.pos={from:s,to:s},"object"==typeof c?f=c.caseFold:(f=c,c=null),"string"==typeof u?(null==f&&(f=!1),this.matches=function(i,o){return(i?function(t,i,o,a){if(!i.length)return null;var u=a?e:n,s=u(i).split(/\r|\n\r?/);t:for(var c=o.line,f=o.ch,h=t.firstLine()-1+s.length;c>=h;c--,f=-1){var d=t.getLine(c);f>-1&&(d=d.slice(0,f));var g=u(d);if(1==s.length){var p=g.lastIndexOf(s[0]);if(-1==p)continue t;return{from:r(c,l(d,g,p,u)),to:r(c,l(d,g,p+s[0].length,u))}}var v=s[s.length-1];if(g.slice(0,v.length)==v){for(var m=1,o=c-s.length+1;m<s.length-1;m++)if(u(t.getLine(o+m))!=s[m])continue t;var y=t.getLine(c+1-s.length),w=u(y);if(w.slice(w.length-s[0].length)==s[0])return{from:r(c+1-s.length,l(y,w,y.length-s[0].length,u)),to:r(c,l(d,g,v.length,u))}}}}:function(t,i,o,a){if(!i.length)return null;var u=a?e:n,s=u(i).split(/\r|\n\r?/);t:for(var c=o.line,f=o.ch,h=t.lastLine()+1-s.length;c<=h;c++,f=0){var d=t.getLine(c).slice(f),g=u(d);if(1==s.length){var p=g.indexOf(s[0]);if(-1==p)continue t;var o=l(d,g,p,u)+f;return{from:r(c,l(d,g,p,u)+f),to:r(c,l(d,g,p+s[0].length,u)+f)}}var v=g.length-s[0].length;if(g.slice(v)==s[0]){for(var m=1;m<s.length-1;m++)if(u(t.getLine(c+m))!=s[m])continue t;var y=t.getLine(c+s.length-1),w=u(y),b=s[s.length-1];if(w.slice(0,b.length)==b)return{from:r(c,l(d,g,v,u)+f),to:r(c+s.length-1,l(y,w,b.length,u))}}}})(t,u,o,f)}):(u=i(u,"gm"),c&&!1===c.multiline?this.matches=function(e,n){return(e?function(t,e,n){e=i(e,"g");for(var o=n.line,l=n.ch,u=t.firstLine();o>=u;o--,l=-1){var s=t.getLine(o);l>-1&&(s=s.slice(0,l));var c=a(s,e);if(c)return{from:r(o,c.index),to:r(o,c.index+c[0].length),match:c}}}:o)(t,u,n)}:this.matches=function(e,n){return(e?function(t,e,n){e=i(e,"gm");for(var o,l=1,u=n.line,s=t.firstLine();u>=s;){for(var c=0;c<l;c++){var f=t.getLine(u--);o=null==o?f.slice(0,n.ch):f+"\n"+o}l*=2;var h=a(o,e);if(h){var d=o.slice(0,h.index).split("\n"),g=h[0].split("\n"),p=u+d.length,v=d[d.length-1].length;return{from:r(p,v),to:r(p+g.length-1,1==g.length?v+g[0].length:g[g.length-1].length),match:h}}}}:function(t,e,n){if(!function(t){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(t.source)}(e))return o(t,e,n);e=i(e,"gm");for(var a,l=1,u=n.line,s=t.lastLine();u<=s;){for(var c=0;c<l&&!(u>s);c++){var f=t.getLine(u++);a=null==a?f:a+"\n"+f}l*=2,e.lastIndex=n.ch;var h=e.exec(a);if(h){var d=a.slice(0,h.index).split("\n"),g=h[0].split("\n"),p=n.line+d.length-1,v=d[d.length-1].length;return{from:r(p,v),to:r(p+g.length-1,1==g.length?v+g[0].length:g[g.length-1].length),match:h}}}})(t,u,n)})}String.prototype.normalize?(e=function(t){return t.normalize("NFD").toLowerCase()},n=function(t){return t.normalize("NFD")}):(e=function(t){return t.toLowerCase()},n=function(t){return t}),u.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){for(var n=this.matches(e,this.doc.clipPos(e?this.pos.from:this.pos.to));n&&0==t.cmpPos(n.from,n.to);)e?n.from.ch?n.from=r(n.from.line,n.from.ch-1):n=n.from.line==this.doc.firstLine()?null:this.matches(e,this.doc.clipPos(r(n.from.line-1))):n.to.ch<this.doc.getLine(n.to.line).length?n.to=r(n.to.line,n.to.ch+1):n=n.to.line==this.doc.lastLine()?null:this.matches(e,r(n.to.line+1,0));if(n)return this.pos=n,this.atOccurrence=!0,this.pos.match||!0;var i=r(e?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:i,to:i},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(e,n){if(this.atOccurrence){var i=t.splitLines(e);this.doc.replaceRange(i,this.pos.from,this.pos.to,n),this.pos.to=r(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},t.defineExtension("getSearchCursor",function(t,e,n){return new u(this.doc,t,e,n)}),t.defineDocExtension("getSearchCursor",function(t,e,n){return new u(this,t,e,n)}),t.defineExtension("selectMatches",function(e,n){for(var r=[],i=this.getSearchCursor(e,this.getCursor("from"),n);i.findNext()&&!(t.cmpPos(i.to(),this.getCursor("to"))>0);)r.push({anchor:i.from(),head:i.to()});r.length&&this.setSelections(r,0)})}(n(0))},function(t,e,n){var r=n(38),i=n(70),o=n(72),a=n(73),l=n(11);n(74).init(window.__msc_input),a.processParams(),window.__autorender.addEventListener("click",r.autorenderOnClick,!1),window.__language_msgenny.addEventListener("click",r.languageMsGennyOnClick,!1),window.__language_mscgen.addEventListener("click",r.languageMscGenOnClick,!1),window.__language_json.addEventListener("click",r.languageJSONOnClick,!1),window.__btn_more_color_schemes.addEventListener("click",r.moreColorSchemesOnClick,!1),window.__color_minimal.addEventListener("click",r.colorMinimalOnClick,!1),window.__color_minimal_force.addEventListener("click",r.colorMinimalFOnClick,!1),window.__color_rose.addEventListener("click",r.colorRoseOnClick,!1),window.__color_rose_force.addEventListener("click",r.colorRoseFOnClick,!1),window.__color_bluey.addEventListener("click",r.colorBlueyOnClick,!1),window.__color_bluey_force.addEventListener("click",r.colorBlueyFOnClick,!1),window.__color_auto.addEventListener("click",r.colorAutoOnClick,!1),window.__color_auto_force.addEventListener("click",r.colorAutoFOnClick,!1),window.__color_remove.addEventListener("click",r.uncolorizeOnClick,!1),window.__btn_render.addEventListener("click",r.renderOnClick,!1),window.__samples.addEventListener("change",r.samplesOnChange,!1),window.__save.addEventListener("click",r.saveOnClick,!1),window.__load.addEventListener("click",r.loadOnClick,!1),window.__btn_color_panel_close.addEventListener("click",r.closeColorPanel,!1),window.__svg.addEventListener("dblclick",i.svgOnDblClick,!1),window.__show_save_as.addEventListener("click",i.showSaveAsOnClick,!1),window.__render_options.addEventListener("click",i.renderOptionsOnClick,!1),window.__btn_render_options_close.addEventListener("click",i.closeRenderOptions,!1),window.__option_mirror_entities.addEventListener("click",i.optionMirrorEntitiesOnClick,!1),window.__option_include_source.addEventListener("click",i.optionIncludeSourceOnClick,!1),window.__option_vertical_label_alignment.addEventListener("change",i.optionVerticalLabelAlignmentOnChange,!1),window.__option_style_basic.addEventListener("click",i.styleOnClick,!1),window.__option_style_inverted.addEventListener("click",i.styleOnClick,!1),window.__option_style_grayscaled.addEventListener("click",i.styleOnClick,!1),window.__option_style_fountainpen.addEventListener("click",i.styleOnClick,!1),window.__option_style_lazy.addEventListener("click",i.styleOnClick,!1),window.__option_style_cygne.addEventListener("click",i.styleOnClick,!1),window.__option_style_pegasse.addEventListener("click",i.styleOnClick,!1),window.__option_style_classic.addEventListener("click",i.styleOnClick,!1),window.__option_style_noentityboxes.addEventListener("click",i.styleOnClick,!1),window.__more_export_options.addEventListener("click",i.moreExportOptionsOnClick,!1),window.__btn_output_panel_close.addEventListener("click",i.closeExportOptions,!1),window.__btn_save_as_panel_close.addEventListener("click",i.closeSaveAsOptions,!1),window.__show_html.addEventListener("click",i.htmlOnClick,!1),window.__show_dot.addEventListener("click",i.dotOnClick,!1),window.__show_vanilla.addEventListener("click",i.vanillaOnClick,!1),window.__show_doxygen.addEventListener("click",i.doxygenOnClick,!1),window.__show_url.addEventListener("click",i.urlOnClick,!1),window.__show_anim.addEventListener("click",i.animOnClick,!1),window.__error.addEventListener("click",i.errorOnClick,!1),window.__close_lightbox.addEventListener("click",o.closeCheatSheet,!1),window.__btn_embed_panel_close.addEventListener("click",o.closeEmbedSheet,!1),window.__close_aboutsheet.addEventListener("click",o.closeAboutSheet,!1),window.__helpme.addEventListener("click",o.helpMeOnClick,!1),window.__embedme.addEventListener("click",o.embedMeOnClick,!1),window.__link_to_interpreter.addEventListener("click",o.linkToInterpreterOnClick,!1),window.__about.addEventListener("click",o.aboutOnClick,!1),window.document.body.addEventListener("keydown",l.keyDown,!1),a.tagAllLinks(),n(82)},function(t,e,n){var r=n(3),i=n(19),o=n(2),a=n(67),l=n(11);function u(t,e){r.manipulateSource(function(n){return a.applyScheme(n,t,e)}),l.hideAllPanels(),o.g("send","event","color."+t+(e?"_force":""),"button")}function s(t){r.switchLanguage(t),o.g("send","event","toggle_ms_genny",t)}t.exports={autorenderOnClick:function(){r.setAutoRender(!r.getAutoRender()),r.requestRender(),r.setAutoRender(r.getAutoRender()),i.saveSettings(r),o.g("send","event","toggle_autorender","checkbox")},languageMsGennyOnClick:function(){s("msgenny")},languageMscGenOnClick:function(){s("mscgen")},languageJSONOnClick:function(){s("json")},colorAutoOnClick:function(){u("auto",!1)},colorAutoFOnClick:function(){u("auto",!0)},colorMinimalOnClick:function(){u("minimal",!1)},colorMinimalFOnClick:function(){u("minimal",!0)},colorRoseOnClick:function(){u("rosy",!1)},colorRoseFOnClick:function(){u("rosy",!0)},colorBlueyOnClick:function(){u("bluey",!1)},colorBlueyFOnClick:function(){u("bluey",!0)},uncolorizeOnClick:function(){r.manipulateSource(a.uncolor),l.hideAllPanels(),o.g("send","event","color.remove","button")},renderOnClick:function(){r.render(r.getSource(),r.getLanguage()),o.g("send","event","render","button")},samplesOnChange:function(){r.setSample(window.__samples.value),o.g("send","event","selectexample",window.__samples.value)},saveOnClick:function(){i.save(r),o.g("send","event","save","button")},loadOnClick:function(){i.load(r),o.g("send","event","load","button")},moreColorSchemesOnClick:function(){l.togglePanel(window.__color_panel,function(){o.g("send","event","more_color_schemes.open","button")},function(){o.g("send","event","more_color_schemes.close","button")})},closeColorPanel:function(){l.hideAllPanels(),o.g("send","event","color.close","button")}}},function(t,e,n){var r,i,o;i=[n(20),n(12)],void 0===(o="function"==typeof(r=function(t,e){"use strict";function n(t,e,r,i){this.message=t,this.expected=e,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,n)}return function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(n,Error),n.buildMessage=function(t,e){var n={literal:function(t){return'"'+i(t.text)+'"'},class:function(t){var e,n="";for(e=0;e<t.parts.length;e++)n+=t.parts[e]instanceof Array?o(t.parts[e][0])+"-"+o(t.parts[e][1]):o(t.parts[e]);return"["+(t.inverted?"^":"")+n+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function i(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}return"Expected "+function(t){var e,r,i,o=new Array(t.length);for(e=0;e<t.length;e++)o[e]=(i=t[e],n[i.type](i));if(o.sort(),o.length>0){for(e=1,r=1;e<o.length;e++)o[e-1]!==o[e]&&(o[r]=o[e],r++);o.length=r}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(t)+" but "+function(t){return t?'"'+i(t)+'"':"end of input"}(e)+" found."},{SyntaxError:n,parse:function(r,i){i=void 0!==i?i:{};var o,a={},l={program:di},u=di,s="{",c=ai("{",!1),f="}",h=ai("}",!1),d=function(n,r){return r.entities=r.entities||[],e.checkForUndeclaredEntities(r.entities,r.arcs),r=t({meta:e.getMetaInfo(r.options,r.arcs)},r),n.length>0&&(r=t({precomment:n},r)),r},g="msc",p=ai("msc",!0),v="xu",m=ai("xu",!0),y=function(t,e,n){var r={};return t&&(r.options=t),e&&(r.entities=e),n&&(r.arcs=n),r},w=",",b=ai(",",!1),x=function(t){return t},k=";",_=ai(";",!1),C=function(e){return e[0].concat(e[1]).reduce(t,{})},L=ui("option"),S="hscale",M=ai("hscale",!0),O="arcgradient",T=ai("arcgradient",!0),A="=",N=ai("=",!1),E=function(t,n){return e.nameValue2Option(t,n)},D="width",B=ai("width",!0),F="wordwraparcs",W=ai("wordwraparcs",!0),H=function(t,n){return e.nameValue2Option(t,e.flattenBoolean(n))},P="wordwrapentities",I=ai("wordwrapentities",!0),z="wordwrapboxes",R=ai("wordwrapboxes",!0),j="watermark",G=ai("watermark",!0),U=function(t){return t},V=function(t){return t[0].concat(t[1])},q=ui("entity"),X="[",K=ai("[",!1),Z="]",J=ai("]",!1),Q=function(t,e){return e},Y=function(e,n){return t({name:e},n)},$=function(r,i){return e.isMscGenKeyword(r)&&function(t,e){throw e=void 0!==e?e:ci(ei,ti),function(t,e){return new n(t,null,null,e)}(t,e)}("MscGen keywords aren't allowed as entity names (embed them in quotes if you need them)"),t({name:r},i)},tt=function(t){return t},et=function(t){return t[0].concat(t[1])},nt=function(t,e){return e},rt=function(e,n){return t(e,n)},it=function(t){return{kind:t}},ot=function(t,e,n){return{kind:e,from:t,to:n}},at="*",lt=ai("*",!1),ut=function(t,e){return{kind:t,from:"*",to:e}},st=function(t,e){return{kind:e,from:t,to:"*"}},ct=function(t,e,n,r){return r},ft=function(e,n,r,i,o){return t({kind:n,from:e,to:r,arcs:o},i)},ht=ui("empty row"),dt="|||",gt=ai("|||",!1),pt="...",vt=ai("...",!1),mt=ui("---"),yt="---",wt=ai("---",!1),bt=function(t){return t.toLowerCase()},xt=ui("bi-directional arrow"),kt="--",_t=ai("--",!1),Ct="<->",Lt=ai("<->",!1),St="==",Mt=ai("==",!1),Ot="<<=>>",Tt=ai("<<=>>",!1),At="<=>",Nt=ai("<=>",!1),Et="..",Dt=ai("..",!1),Bt="<<>>",Ft=ai("<<>>",!1),Wt="::",Ht=ai("::",!1),Pt="<:>",It=ai("<:>",!1),zt=ui("left to right arrow"),Rt="->",jt=ai("->",!1),Gt="=>>",Ut=ai("=>>",!1),Vt="=>",qt=ai("=>",!1),Xt=">>",Kt=ai(">>",!1),Zt=":>",Jt=ai(":>",!1),Qt="-x",Yt=ai("-x",!0),$t=ui("right to left arrow"),te="<-",ee=ai("<-",!1),ne="<<=",re=ai("<<=",!1),ie="<=",oe=ai("<=",!1),ae="<<",le=ai("<<",!1),ue="<:",se=ai("<:",!1),ce="x-",fe=ai("x-",!0),he=ui("box"),de="note",ge=ai("note",!0),pe="abox",ve=ai("abox",!0),me="rbox",ye=ai("rbox",!0),we="box",be=ai("box",!0),xe=ui("inline expression"),ke="alt",_e=ai("alt",!0),Ce="else",Le=ai("else",!0),Se="opt",Me=ai("opt",!0),Oe="break",Te=ai("break",!0),Ae="par",Ne=ai("par",!0),Ee="seq",De=ai("seq",!0),Be="strict",Fe=ai("strict",!0),We="neg",He=ai("neg",!0),Pe="critical",Ie=ai("critical",!0),ze="ignore",Re=ai("ignore",!0),je="consider",Ge=ai("consider",!0),Ue="assert",Ve=ai("assert",!0),qe="loop",Xe=ai("loop",!0),Ke="ref",Ze=ai("ref",!0),Je="exc",Qe=ai("exc",!0),Ye=function(t){return t.toLowerCase()},$e=function(e){return e[0].concat(e[1]).reduce(t,{})},tn=ui("activate or deactivate"),en="activate",nn=ai("activate",!0),rn="deactivate",on=ai("deactivate",!0),an=function(t){return{activation:"activate"===t.toLowerCase()}},ln=function(t,n){var r={};return"activation"===t.toLowerCase()?r.activation=e.flattenBoolean(n):r[t.toLowerCase().replace("colour","color")]=n,r},un=ui("attribute name"),sn="label",cn=ai("label",!0),fn="idurl",hn=ai("idurl",!0),dn="id",gn=ai("id",!0),pn="url",vn=ai("url",!0),mn="linecolor",yn=ai("linecolor",!0),wn="linecolour",bn=ai("linecolour",!0),xn="textcolor",kn=ai("textcolor",!0),_n="textcolour",Cn=ai("textcolour",!0),Ln="textbgcolor",Sn=ai("textbgcolor",!0),Mn="textbgcolour",On=ai("textbgcolour",!0),Tn="arclinecolor",An=ai("arclinecolor",!0),Nn="arclinecolour",En=ai("arclinecolour",!0),Dn="arctextcolor",Bn=ai("arctextcolor",!0),Fn="arctextcolour",Wn=ai("arctextcolour",!0),Hn="arctextbgcolor",Pn=ai("arctextbgcolor",!0),In="arctextbgcolour",zn=ai("arctextbgcolour",!0),Rn="arcskip",jn=ai("arcskip",!0),Gn="title",Un=ai("title",!0),Vn="activation",qn=ai("activation",!0),Xn=ui("double quoted string"),Kn='"',Zn=ai('"',!1),Jn=function(t){return t.join("")},Qn='\\"',Yn=ai('\\"',!1),$n={type:"any"},tr=function(t){return t},er=ui("identifier"),nr=/^[A-Za-z_0-9]/,rr=li([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),ir=function(t){return t.join("")},or=ui("whitespace"),ar=/^[ \t]/,lr=li([" ","\t"],!1,!1),ur=ui("lineend"),sr=/^[\r\n]/,cr=li(["\r","\n"],!1,!1),fr="/*",hr=ai("/*",!1),dr="*/",gr=ai("*/",!1),pr=function(t,e,n){return t+e.join("")+n},vr="//",mr=ai("//",!1),yr="#",wr=ai("#",!1),br=/^[^\r\n]/,xr=li(["\r","\n"],!0,!1),kr=function(t,e){return t+e.join("")},_r=ui("comment"),Cr=ui("number"),Lr=function(t){return t},Sr=function(t){return t.toString()},Mr=function(t){return t.toString()},Or=/^[0-9]/,Tr=li([["0","9"]],!1,!1),Ar=function(t){return parseInt(t.join(""),10)},Nr=".",Er=ai(".",!1),Dr=function(t){return parseFloat(t.join(""))},Br=ui("boolean"),Fr=function(t){return t},Wr=function(t){return t.toString()},Hr="true",Pr=ai("true",!0),Ir="false",zr=ai("false",!0),Rr="on",jr=ai("on",!0),Gr="off",Ur=ai("off",!0),Vr="0",qr=ai("0",!1),Xr="1",Kr=ai("1",!1),Zr=ui("size"),Jr=function(t){return t.toString()},Qr="auto",Yr=ai("auto",!0),$r=function(t){return t.toLowerCase()},ti=0,ei=0,ni=[{line:1,column:1}],ri=0,ii=[],oi=0;if("startRule"in i){if(!(i.startRule in l))throw new Error("Can't start parsing from rule \""+i.startRule+'".');u=l[i.startRule]}function ai(t,e){return{type:"literal",text:t,ignoreCase:e}}function li(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function ui(t){return{type:"other",description:t}}function si(t){var e,n=ni[t];if(n)return n;for(e=t-1;!ni[e];)e--;for(n={line:(n=ni[e]).line,column:n.column};e<t;)10===r.charCodeAt(e)?(n.line++,n.column=1):n.column++,e++;return ni[t]=n,n}function ci(t,e){var n=si(t),r=si(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:r.line,column:r.column}}}function fi(t){ti<ri||(ti>ri&&(ri=ti,ii=[]),ii.push(t))}function hi(t,e,r){return new n(n.buildMessage(t,e),t,e,r)}function di(){var t,e,n,i,o;return t=ti,(e=Bi())!==a&&function(){var t;return r.substr(ti,3).toLowerCase()===g?(t=r.substr(ti,3),ti+=3):(t=a,0===oi&&fi(p)),t===a&&(r.substr(ti,2).toLowerCase()===v?(t=r.substr(ti,2),ti+=2):(t=a,0===oi&&fi(m))),t}()!==a&&Bi()!==a?(123===r.charCodeAt(ti)?(n=s,ti++):(n=a,0===oi&&fi(c)),n!==a&&Bi()!==a&&(i=function(){var t,e,n,i;return t=ti,(e=function(){var t,e,n,i,o,l;for(t=ti,e=ti,n=[],i=ti,(o=gi())!==a?(44===r.charCodeAt(ti)?(l=w,ti++):(l=a,0===oi&&fi(b)),l!==a?(ei=i,o=x(o),i=o):(ti=i,i=a)):(ti=i,i=a);i!==a;)n.push(i),i=ti,(o=gi())!==a?(44===r.charCodeAt(ti)?(l=w,ti++):(l=a,0===oi&&fi(b)),l!==a?(ei=i,o=x(o),i=o):(ti=i,i=a)):(ti=i,i=a);return n!==a?(i=ti,(o=gi())!==a?(59===r.charCodeAt(ti)?(l=k,ti++):(l=a,0===oi&&fi(_)),l!==a?(ei=i,o=x(o),i=o):(ti=i,i=a)):(ti=i,i=a),i!==a?e=n=[n,i]:(ti=e,e=a)):(ti=e,e=a),e!==a&&(ei=t,e=C(e)),t=e}())===a&&(e=null),e!==a?((n=function(){var t,e,n,i,o,l;for(t=ti,e=ti,n=[],i=ti,(o=pi())!==a?(44===r.charCodeAt(ti)?(l=w,ti++):(l=a,0===oi&&fi(b)),l!==a?(ei=i,o=U(o),i=o):(ti=i,i=a)):(ti=i,i=a);i!==a;)n.push(i),i=ti,(o=pi())!==a?(44===r.charCodeAt(ti)?(l=w,ti++):(l=a,0===oi&&fi(b)),l!==a?(ei=i,o=U(o),i=o):(ti=i,i=a)):(ti=i,i=a);return n!==a?(i=ti,(o=pi())!==a?(59===r.charCodeAt(ti)?(l=k,ti++):(l=a,0===oi&&fi(_)),l!==a?(ei=i,o=U(o),i=o):(ti=i,i=a)):(ti=i,i=a),i!==a?e=n=[n,i]:(ti=e,e=a)):(ti=e,e=a),e!==a&&(ei=t,e=V(e)),t=e}())===a&&(n=null),n!==a?((i=vi())===a&&(i=null),i!==a?(ei=t,e=y(e,n,i),t=e):(ti=t,t=a)):(ti=t,t=a)):(ti=t,t=a),t}())!==a&&Bi()!==a?(125===r.charCodeAt(ti)?(o=f,ti++):(o=a,0===oi&&fi(h)),o!==a&&Bi()!==a?(ei=t,e=d(e,i),t=e):(ti=t,t=a)):(ti=t,t=a)):(ti=t,t=a),t}function gi(){var t,e,n,i,o;return oi++,t=ti,(e=Bi())!==a?(r.substr(ti,6).toLowerCase()===S?(n=r.substr(ti,6),ti+=6):(n=a,0===oi&&fi(M)),n===a&&(r.substr(ti,11).toLowerCase()===O?(n=r.substr(ti,11),ti+=11):(n=a,0===oi&&fi(T))),n!==a&&Bi()!==a?(61===r.charCodeAt(ti)?(i=A,ti++):(i=a,0===oi&&fi(N)),i!==a&&Bi()!==a&&(o=function(){var t,e;return oi++,t=ti,(e=function(){var t,e,n,i;return t=ti,34===r.charCodeAt(ti)?(e=Kn,ti++):(e=a,0===oi&&fi(Zn)),e!==a&&(n=Fi())!==a?(34===r.charCodeAt(ti)?(i=Kn,ti++):(i=a,0===oi&&fi(Zn)),i!==a?(ei=t,e=Mr(n),t=e):(ti=t,t=a)):(ti=t,t=a),t}())!==a&&(ei=t,e=Lr(e)),(t=e)===a&&(t=ti,(e=Fi())!==a&&(ei=t,e=Sr(e)),t=e),oi--,t===a&&(e=a,0===oi&&fi(Cr)),t}())!==a&&Bi()!==a?(ei=t,e=E(n,o),t=e):(ti=t,t=a)):(ti=t,t=a)):(ti=t,t=a),t===a&&(t=ti,(e=Bi())!==a?(r.substr(ti,5).toLowerCase()===D?(n=r.substr(ti,5),ti+=5):(n=a,0===oi&&fi(B)),n!==a&&Bi()!==a?(61===r.charCodeAt(ti)?(i=A,ti++):(i=a,0===oi&&fi(N)),i!==a&&Bi()!==a&&(o=function(){var t;return oi++,(t=function(){var t,e,n,i;return t=ti,34===r.charCodeAt(ti)?(e=Kn,ti++):(e=a,0===oi&&fi(Zn)),e!==a&&(n=Ii())!==a?(34===r.charCodeAt(ti)?(i=Kn,ti++):(i=a,0===oi&&fi(Zn)),i!==a?(ei=t,e=Lr(n),t=e):(ti=t,t=a)):(ti=t,t=a),t}())===a&&(t=Ii()),oi--,t===a&&0===oi&&fi(Zr),t}())!==a&&Bi()!==a?(ei=t,e=E(n,o),t=e):(ti=t,t=a)):(ti=t,t=a)):(ti=t,t=a),t===a&&(t=ti,(e=Bi())!==a?(r.substr(ti,12).toLowerCase()===F?(n=r.substr(ti,12),ti+=12):(n=a,0===oi&&fi(W)),n!==a&&Bi()!==a?(61===r.charCodeAt(ti)?(i=A,ti++):(i=a,0===oi&&fi(N)),i!==a&&Bi()!==a&&(o=Hi())!==a&&Bi()!==a?(ei=t,e=H(n,o),t=e):(ti=t,t=a)):(ti=t,t=a)):(ti=t,t=a),t===a&&(t=ti,(e=Bi())!==a?(r.substr(ti,16).toLowerCase()===P?(n=r.substr(ti,16),ti+=16):(n=a,0===oi&&fi(I)),n!==a&&Bi()!==a?(61===r.charCodeAt(ti)?(i=A,ti++):(i=a,0===oi&&fi(N)),i!==a&&Bi()!==a&&(o=Hi())!==a&&Bi()!==a?(ei=t,e=H(n,o),t=e):(ti=t,t=a)):(ti=t,t=a)):(ti=t,t=a),t===a&&(t=ti,(e=Bi())!==a?(r.substr(ti,13).toLowerCase()===z?(n=r.substr(ti,13),ti+=13):(n=a,0===oi&&fi(R)),n!==a&&Bi()!==a?(61===r.charCodeAt(ti)?(i=A,ti++):(i=a,0===oi&&fi(N)),i!==a&&Bi()!==a&&(o=Hi())!==a&&Bi()!==a?(ei=t,e=H(n,o),t=e):(ti=t,t=a)):(ti=t,t=a)):(ti=t,t=a),t===a&&(t=ti,(e=Bi())!==a?(r.substr(ti,9).toLowerCase()===j?(n=r.substr(ti,9),ti+=9):(n=a,0===oi&&fi(G)),n!==a&&Bi()!==a?(61===r.charCodeAt(ti)?(i=A,ti++):(i=a,0===oi&&fi(N)),i!==a&&Bi()!==a&&(o=Ci())!==a&&Bi()!==a?(ei=t,e=E(n,o),t=e):(ti=t,t=a)):(ti=t,t=a)):(ti=t,t=a)))))),oi--,t===a&&(e=a,0===oi&&fi(L)),t}function pi(){var t,e,n,i,o,l,u;return oi++,t=ti,(e=Bi())!==a&&(n=Ci())!==a&&Bi()!==a?(i=ti,91===r.charCodeAt(ti)?(o=X,ti++):(o=a,0===oi&&fi(K)),o!==a&&(l=ki())!==a?(93===r.charCodeAt(ti)?(u=Z,ti++):(u=a,0===oi&&fi(J)),u!==a?(ei=i,o=Q(n,l),i=o):(ti=i,i=a)):(ti=i,i=a),i===a&&(i=null),i!==a&&(o=Bi())!==a?(ei=t,e=Y(n,i),t=e):(ti=t,t=a)):(ti=t,t=a),t===a&&(t=ti,(e=Bi())!==a&&(n=Si())!==a&&Bi()!==a?(i=ti,91===r.charCodeAt(ti)?(o=X,ti++):(o=a,0===oi&&fi(K)),o!==a&&(l=ki())!==a?(93===r.charCodeAt(ti)?(u=Z,ti++):(u=a,0===oi&&fi(J)),u!==a?(ei=i,o=Q(n,l),i=o):(ti=i,i=a)):(ti=i,i=a),i===a&&(i=null),i!==a&&(o=Bi())!==a?(ei=t,e=$(n,i),t=e):(ti=t,t=a)):(ti=t,t=a)),oi--,t===a&&(e=a,0===oi&&fi(q)),t}function vi(){var t,e,n,i;if(t=[],e=ti,(n=mi())!==a&&Bi()!==a?(59===r.charCodeAt(ti)?(i=k,ti++):(i=a,0===oi&&fi(_)),i!==a?(ei=e,n=tt(n),e=n):(ti=e,e=a)):(ti=e,e=a),e!==a)for(;e!==a;)t.push(e),e=ti,(n=mi())!==a&&Bi()!==a?(59===r.charCodeAt(ti)?(i=k,ti++):(i=a,0===oi&&fi(_)),i!==a?(ei=e,n=tt(n),e=n):(ti=e,e=a)):(ti=e,e=a);else t=a;return t}function mi(){var t,e,n,i,o,l;for(t=ti,e=ti,n=[],i=ti,(o=yi())!==a&&Bi()!==a?(44===r.charCodeAt(ti)?(l=w,ti++):(l=a,0===oi&&fi(b)),l!==a?(ei=i,o=tt(o),i=o):(ti=i,i=a)):(ti=i,i=a);i!==a;)n.push(i),i=ti,(o=yi())!==a&&Bi()!==a?(44===r.charCodeAt(ti)?(l=w,ti++):(l=a,0===oi&&fi(b)),l!==a?(ei=i,o=tt(o),i=o):(ti=i,i=a)):(ti=i,i=a);return n!==a?(i=ti,(o=yi())!==a&&(ei=i,o=tt(o)),(i=o)!==a?e=n=[n,i]:(ti=e,e=a)):(ti=e,e=a),e!==a&&(ei=t,e=et(e)),t=e}function yi(){var t;return(t=function(){var t,e,n,i,o,l;return t=ti,e=ti,(n=function(){var t,e,n;return t=ti,(e=Bi())!==a&&(n=function(){var t;return oi++,r.substr(ti,3)===dt?(t=dt,ti+=3):(t=a,0===oi&&fi(gt)),t===a&&(r.substr(ti,3)===pt?(t=pt,ti+=3):(t=a,0===oi&&fi(vt))),oi--,t===a&&0===oi&&fi(ht),t}())!==a&&Bi()!==a?(ei=t,e=it(n),t=e):(ti=t,t=a),t}())!==a&&(ei=e,n=tt(n)),(e=n)===a&&(e=ti,(n=function(){var t,e,n,i,o;return t=ti,(e=Bi())!==a&&(n=Li())!==a&&Bi()!==a&&(i=function(){var t,e;return t=ti,(e=wi())===a&&(e=bi())===a&&(e=xi())===a&&(e=function(){var t;return oi++,r.substr(ti,4).toLowerCase()===de?(t=r.substr(ti,4),ti+=4):(t=a,0===oi&&fi(ge)),t===a&&(r.substr(ti,4).toLowerCase()===pe?(t=r.substr(ti,4),ti+=4):(t=a,0===oi&&fi(ve)),t===a&&(r.substr(ti,4).toLowerCase()===me?(t=r.substr(ti,4),ti+=4):(t=a,0===oi&&fi(ye)),t===a&&(r.substr(ti,3).toLowerCase()===we?(t=r.substr(ti,3),ti+=3):(t=a,0===oi&&fi(be))))),oi--,t===a&&0===oi&&fi(he),t}()),e!==a&&(ei=t,e=bt(e)),t=e}())!==a&&Bi()!==a&&(o=Li())!==a&&Bi()!==a?(ei=t,e=ot(n,i,o),t=e):(ti=t,t=a),t===a&&(t=ti,(e=Bi())!==a?(42===r.charCodeAt(ti)?(n=at,ti++):(n=a,0===oi&&fi(lt)),n!==a&&Bi()!==a&&(i=xi())!==a&&Bi()!==a&&(o=Li())!==a&&Bi()!==a?(ei=t,e=ut(i,o),t=e):(ti=t,t=a)):(ti=t,t=a),t===a&&(t=ti,(e=Bi())!==a&&(n=Li())!==a&&Bi()!==a&&(i=bi())!==a&&Bi()!==a?(42===r.charCodeAt(ti)?(o=at,ti++):(o=a,0===oi&&fi(lt)),o!==a&&Bi()!==a?(ei=t,e=st(n,i),t=e):(ti=t,t=a)):(ti=t,t=a),t===a&&(t=ti,(e=Bi())!==a&&(n=Li())!==a&&Bi()!==a&&(i=wi())!==a&&Bi()!==a?(42===r.charCodeAt(ti)?(o=at,ti++):(o=a,0===oi&&fi(lt)),o!==a&&Bi()!==a?(ei=t,e=st(n,i),t=e):(ti=t,t=a)):(ti=t,t=a)))),t}())!==a&&(ei=e,n=tt(n)),(e=n)===a&&(e=ti,(n=function(){var t,e,n;return t=ti,(e=Bi())!==a&&(n=function(){var t;return oi++,r.substr(ti,3)===yt?(t=yt,ti+=3):(t=a,0===oi&&fi(wt)),oi--,t===a&&0===oi&&fi(mt),t}())!==a&&Bi()!==a?(ei=t,e=it(n),t=e):(ti=t,t=a),t}())!==a&&(ei=e,n=tt(n)),e=n)),e!==a?(n=ti,91===r.charCodeAt(ti)?(i=X,ti++):(i=a,0===oi&&fi(K)),i!==a&&(o=ki())!==a?(93===r.charCodeAt(ti)?(l=Z,ti++):(l=a,0===oi&&fi(J)),l!==a?(ei=n,i=nt(e,o),n=i):(ti=n,n=a)):(ti=n,n=a),n===a&&(n=null),n!==a?(ei=t,e=rt(e,n),t=e):(ti=t,t=a)):(ti=t,t=a),t}())===a&&(t=function(){var t,e,n,i,o,l,u,d,g,p,v;return t=ti,(e=Bi())!==a&&(n=Li())!==a&&Bi()!==a&&(i=function(){var t,e;return oi++,t=ti,r.substr(ti,3).toLowerCase()===ke?(e=r.substr(ti,3),ti+=3):(e=a,0===oi&&fi(_e)),e===a&&(r.substr(ti,4).toLowerCase()===Ce?(e=r.substr(ti,4),ti+=4):(e=a,0===oi&&fi(Le)),e===a&&(r.substr(ti,3).toLowerCase()===Se?(e=r.substr(ti,3),ti+=3):(e=a,0===oi&&fi(Me)),e===a&&(r.substr(ti,5).toLowerCase()===Oe?(e=r.substr(ti,5),ti+=5):(e=a,0===oi&&fi(Te)),e===a&&(r.substr(ti,3).toLowerCase()===Ae?(e=r.substr(ti,3),ti+=3):(e=a,0===oi&&fi(Ne)),e===a&&(r.substr(ti,3).toLowerCase()===Ee?(e=r.substr(ti,3),ti+=3):(e=a,0===oi&&fi(De)),e===a&&(r.substr(ti,6).toLowerCase()===Be?(e=r.substr(ti,6),ti+=6):(e=a,0===oi&&fi(Fe)),e===a&&(r.substr(ti,3).toLowerCase()===We?(e=r.substr(ti,3),ti+=3):(e=a,0===oi&&fi(He)),e===a&&(r.substr(ti,8).toLowerCase()===Pe?(e=r.substr(ti,8),ti+=8):(e=a,0===oi&&fi(Ie)),e===a&&(r.substr(ti,6).toLowerCase()===ze?(e=r.substr(ti,6),ti+=6):(e=a,0===oi&&fi(Re)),e===a&&(r.substr(ti,8).toLowerCase()===je?(e=r.substr(ti,8),ti+=8):(e=a,0===oi&&fi(Ge)),e===a&&(r.substr(ti,6).toLowerCase()===Ue?(e=r.substr(ti,6),ti+=6):(e=a,0===oi&&fi(Ve)),e===a&&(r.substr(ti,4).toLowerCase()===qe?(e=r.substr(ti,4),ti+=4):(e=a,0===oi&&fi(Xe)),e===a&&(r.substr(ti,3).toLowerCase()===Ke?(e=r.substr(ti,3),ti+=3):(e=a,0===oi&&fi(Ze)),e===a&&(r.substr(ti,3).toLowerCase()===Je?(e=r.substr(ti,3),ti+=3):(e=a,0===oi&&fi(Qe)))))))))))))))),e!==a&&(ei=t,e=Ye(e)),oi--,(t=e)===a&&(e=a,0===oi&&fi(xe)),t}())!==a&&Bi()!==a&&(o=Li())!==a&&Bi()!==a?(l=ti,91===r.charCodeAt(ti)?(u=X,ti++):(u=a,0===oi&&fi(K)),u!==a&&(d=ki())!==a?(93===r.charCodeAt(ti)?(g=Z,ti++):(g=a,0===oi&&fi(J)),g!==a?(ei=l,u=ct(n,i,o,d),l=u):(ti=l,l=a)):(ti=l,l=a),l===a&&(l=null),l!==a&&(u=Bi())!==a?(123===r.charCodeAt(ti)?(d=s,ti++):(d=a,0===oi&&fi(c)),d!==a&&(g=Bi())!==a?((p=vi())===a&&(p=null),p!==a&&Bi()!==a?(125===r.charCodeAt(ti)?(v=f,ti++):(v=a,0===oi&&fi(h)),v!==a&&Bi()!==a?(ei=t,e=ft(n,i,o,l,p),t=e):(ti=t,t=a)):(ti=t,t=a)):(ti=t,t=a)):(ti=t,t=a)):(ti=t,t=a),t}()),t}function wi(){var t;return oi++,r.substr(ti,2)===kt?(t=kt,ti+=2):(t=a,0===oi&&fi(_t)),t===a&&(r.substr(ti,3)===Ct?(t=Ct,ti+=3):(t=a,0===oi&&fi(Lt)),t===a&&(r.substr(ti,2)===St?(t=St,ti+=2):(t=a,0===oi&&fi(Mt)),t===a&&(r.substr(ti,5)===Ot?(t=Ot,ti+=5):(t=a,0===oi&&fi(Tt)),t===a&&(r.substr(ti,3)===At?(t=At,ti+=3):(t=a,0===oi&&fi(Nt)),t===a&&(r.substr(ti,2)===Et?(t=Et,ti+=2):(t=a,0===oi&&fi(Dt)),t===a&&(r.substr(ti,4)===Bt?(t=Bt,ti+=4):(t=a,0===oi&&fi(Ft)),t===a&&(r.substr(ti,2)===Wt?(t=Wt,ti+=2):(t=a,0===oi&&fi(Ht)),t===a&&(r.substr(ti,3)===Pt?(t=Pt,ti+=3):(t=a,0===oi&&fi(It)))))))))),oi--,t===a&&0===oi&&fi(xt),t}function bi(){var t;return oi++,r.substr(ti,2)===Rt?(t=Rt,ti+=2):(t=a,0===oi&&fi(jt)),t===a&&(r.substr(ti,3)===Gt?(t=Gt,ti+=3):(t=a,0===oi&&fi(Ut)),t===a&&(r.substr(ti,2)===Vt?(t=Vt,ti+=2):(t=a,0===oi&&fi(qt)),t===a&&(r.substr(ti,2)===Xt?(t=Xt,ti+=2):(t=a,0===oi&&fi(Kt)),t===a&&(r.substr(ti,2)===Zt?(t=Zt,ti+=2):(t=a,0===oi&&fi(Jt)),t===a&&(r.substr(ti,2).toLowerCase()===Qt?(t=r.substr(ti,2),ti+=2):(t=a,0===oi&&fi(Yt))))))),oi--,t===a&&0===oi&&fi(zt),t}function xi(){var t;return oi++,r.substr(ti,2)===te?(t=te,ti+=2):(t=a,0===oi&&fi(ee)),t===a&&(r.substr(ti,3)===ne?(t=ne,ti+=3):(t=a,0===oi&&fi(re)),t===a&&(r.substr(ti,2)===ie?(t=ie,ti+=2):(t=a,0===oi&&fi(oe)),t===a&&(r.substr(ti,2)===ae?(t=ae,ti+=2):(t=a,0===oi&&fi(le)),t===a&&(r.substr(ti,2)===ue?(t=ue,ti+=2):(t=a,0===oi&&fi(se)),t===a&&(r.substr(ti,2).toLowerCase()===ce?(t=r.substr(ti,2),ti+=2):(t=a,0===oi&&fi(fe))))))),oi--,t===a&&0===oi&&fi($t),t}function ki(){var t,e,n,i,o,l;for(t=ti,e=ti,n=[],i=ti,(o=_i())!==a?(44===r.charCodeAt(ti)?(l=w,ti++):(l=a,0===oi&&fi(b)),l!==a?(ei=i,o=tt(o),i=o):(ti=i,i=a)):(ti=i,i=a);i!==a;)n.push(i),i=ti,(o=_i())!==a?(44===r.charCodeAt(ti)?(l=w,ti++):(l=a,0===oi&&fi(b)),l!==a?(ei=i,o=tt(o),i=o):(ti=i,i=a)):(ti=i,i=a);return n!==a?(i=ti,(o=_i())!==a&&(ei=i,o=tt(o)),(i=o)!==a?e=n=[n,i]:(ti=e,e=a)):(ti=e,e=a),e!==a&&(ei=t,e=$e(e)),t=e}function _i(){var t;return(t=function(){var t,e,n,i,o;return t=ti,(e=Bi())!==a&&(n=function(){var t;return oi++,r.substr(ti,5).toLowerCase()===sn?(t=r.substr(ti,5),ti+=5):(t=a,0===oi&&fi(cn)),t===a&&(r.substr(ti,5).toLowerCase()===fn?(t=r.substr(ti,5),ti+=5):(t=a,0===oi&&fi(hn)),t===a&&(r.substr(ti,2).toLowerCase()===dn?(t=r.substr(ti,2),ti+=2):(t=a,0===oi&&fi(gn)),t===a&&(r.substr(ti,3).toLowerCase()===pn?(t=r.substr(ti,3),ti+=3):(t=a,0===oi&&fi(vn)),t===a&&(r.substr(ti,9).toLowerCase()===mn?(t=r.substr(ti,9),ti+=9):(t=a,0===oi&&fi(yn)),t===a&&(r.substr(ti,10).toLowerCase()===wn?(t=r.substr(ti,10),ti+=10):(t=a,0===oi&&fi(bn)),t===a&&(r.substr(ti,9).toLowerCase()===xn?(t=r.substr(ti,9),ti+=9):(t=a,0===oi&&fi(kn)),t===a&&(r.substr(ti,10).toLowerCase()===_n?(t=r.substr(ti,10),ti+=10):(t=a,0===oi&&fi(Cn)),t===a&&(r.substr(ti,11).toLowerCase()===Ln?(t=r.substr(ti,11),ti+=11):(t=a,0===oi&&fi(Sn)),t===a&&(r.substr(ti,12).toLowerCase()===Mn?(t=r.substr(ti,12),ti+=12):(t=a,0===oi&&fi(On)),t===a&&(r.substr(ti,12).toLowerCase()===Tn?(t=r.substr(ti,12),ti+=12):(t=a,0===oi&&fi(An)),t===a&&(r.substr(ti,13).toLowerCase()===Nn?(t=r.substr(ti,13),ti+=13):(t=a,0===oi&&fi(En)),t===a&&(r.substr(ti,12).toLowerCase()===Dn?(t=r.substr(ti,12),ti+=12):(t=a,0===oi&&fi(Bn)),t===a&&(r.substr(ti,13).toLowerCase()===Fn?(t=r.substr(ti,13),ti+=13):(t=a,0===oi&&fi(Wn)),t===a&&(r.substr(ti,14).toLowerCase()===Hn?(t=r.substr(ti,14),ti+=14):(t=a,0===oi&&fi(Pn)),t===a&&(r.substr(ti,15).toLowerCase()===In?(t=r.substr(ti,15),ti+=15):(t=a,0===oi&&fi(zn)),t===a&&(r.substr(ti,7).toLowerCase()===Rn?(t=r.substr(ti,7),ti+=7):(t=a,0===oi&&fi(jn)),t===a&&(r.substr(ti,5).toLowerCase()===Gn?(t=r.substr(ti,5),ti+=5):(t=a,0===oi&&fi(Un)),t===a&&(r.substr(ti,10).toLowerCase()===Vn?(t=r.substr(ti,10),ti+=10):(t=a,0===oi&&fi(qn)))))))))))))))))))),oi--,t===a&&0===oi&&fi(un),t}())!==a&&Bi()!==a?(61===r.charCodeAt(ti)?(i=A,ti++):(i=a,0===oi&&fi(N)),i!==a&&Bi()!==a&&(o=Li())!==a&&Bi()!==a?(ei=t,e=ln(n,o),t=e):(ti=t,t=a)):(ti=t,t=a),t}())===a&&(t=function(){var t,e,n;return oi++,t=ti,(e=Bi())!==a?(r.substr(ti,8).toLowerCase()===en?(n=r.substr(ti,8),ti+=8):(n=a,0===oi&&fi(nn)),n===a&&(r.substr(ti,10).toLowerCase()===rn?(n=r.substr(ti,10),ti+=10):(n=a,0===oi&&fi(on))),n!==a&&Bi()!==a?(ei=t,e=an(n),t=e):(ti=t,t=a)):(ti=t,t=a),oi--,t===a&&(e=a,0===oi&&fi(tn)),t}()),t}function Ci(){var t,e,n,i;return oi++,t=ti,34===r.charCodeAt(ti)?(e=Kn,ti++):(e=a,0===oi&&fi(Zn)),e!==a&&(n=function(){var t,e,n,i;for(t=[],e=ti,n=ti,oi++,34===r.charCodeAt(ti)?(i=Kn,ti++):(i=a,0===oi&&fi(Zn)),oi--,i===a?n=void 0:(ti=n,n=a),n!==a?(r.substr(ti,2)===Qn?(i=Qn,ti+=2):(i=a,0===oi&&fi(Yn)),i===a&&(r.length>ti?(i=r.charAt(ti),ti++):(i=a,0===oi&&fi($n))),i!==a?(ei=e,n=tr(i),e=n):(ti=e,e=a)):(ti=e,e=a);e!==a;)t.push(e),e=ti,n=ti,oi++,34===r.charCodeAt(ti)?(i=Kn,ti++):(i=a,0===oi&&fi(Zn)),oi--,i===a?n=void 0:(ti=n,n=a),n!==a?(r.substr(ti,2)===Qn?(i=Qn,ti+=2):(i=a,0===oi&&fi(Yn)),i===a&&(r.length>ti?(i=r.charAt(ti),ti++):(i=a,0===oi&&fi($n))),i!==a?(ei=e,n=tr(i),e=n):(ti=e,e=a)):(ti=e,e=a);return t}())!==a?(34===r.charCodeAt(ti)?(i=Kn,ti++):(i=a,0===oi&&fi(Zn)),i!==a?(ei=t,e=Jn(n),t=e):(ti=t,t=a)):(ti=t,t=a),oi--,t===a&&(e=a,0===oi&&fi(Xn)),t}function Li(){var t;return oi++,(t=Si())===a&&(t=Ci()),oi--,t===a&&0===oi&&fi(er),t}function Si(){var t,e,n;if(t=ti,e=[],nr.test(r.charAt(ti))?(n=r.charAt(ti),ti++):(n=a,0===oi&&fi(rr)),n!==a)for(;n!==a;)e.push(n),nr.test(r.charAt(ti))?(n=r.charAt(ti),ti++):(n=a,0===oi&&fi(rr));else e=a;return e!==a&&(ei=t,e=ir(e)),t=e}function Mi(){var t,e;return oi++,t=ti,ar.test(r.charAt(ti))?(e=r.charAt(ti),ti++):(e=a,0===oi&&fi(lr)),e!==a&&(ei=t,e=tr(e)),oi--,(t=e)===a&&(e=a,0===oi&&fi(or)),t}function Oi(){var t,e;return oi++,t=ti,sr.test(r.charAt(ti))?(e=r.charAt(ti),ti++):(e=a,0===oi&&fi(cr)),e!==a&&(ei=t,e=tr(e)),oi--,(t=e)===a&&(e=a,0===oi&&fi(ur)),t}function Ti(){var t,e,n;return t=ti,e=ti,oi++,r.substr(ti,2)===dr?(n=dr,ti+=2):(n=a,0===oi&&fi(gr)),oi--,n===a?e=void 0:(ti=e,e=a),e!==a?(r.length>ti?(n=r.charAt(ti),ti++):(n=a,0===oi&&fi($n)),n!==a?(ei=t,e=tr(n),t=e):(ti=t,t=a)):(ti=t,t=a),t}function Ai(){var t,e,n,i;if(t=ti,(e=function(){var t;return r.substr(ti,2)===fr?(t=fr,ti+=2):(t=a,0===oi&&fi(hr)),t}())!==a){for(n=[],i=Ti();i!==a;)n.push(i),i=Ti();n!==a&&(i=function(){var t;return r.substr(ti,2)===dr?(t=dr,ti+=2):(t=a,0===oi&&fi(gr)),t}())!==a?(ei=t,e=pr(e,n,i),t=e):(ti=t,t=a)}else ti=t,t=a;return t}function Ni(){var t;return br.test(r.charAt(ti))?(t=r.charAt(ti),ti++):(t=a,0===oi&&fi(xr)),t}function Ei(){var t,e,n,i;if(t=ti,(e=function(){var t;return r.substr(ti,2)===vr?(t=vr,ti+=2):(t=a,0===oi&&fi(mr)),t===a&&(35===r.charCodeAt(ti)?(t=yr,ti++):(t=a,0===oi&&fi(wr))),t}())!==a){for(n=[],i=Ni();i!==a;)n.push(i),i=Ni();n!==a?(ei=t,e=kr(e,n),t=e):(ti=t,t=a)}else ti=t,t=a;return t}function Di(){var t;return oi++,(t=Ei())===a&&(t=Ai()),oi--,t===a&&0===oi&&fi(_r),t}function Bi(){var t,e;for(t=[],(e=Mi())===a&&(e=Oi())===a&&(e=Di());e!==a;)t.push(e),(e=Mi())===a&&(e=Oi())===a&&(e=Di());return t}function Fi(){var t;return(t=function(){var t,e,n,i,o;return t=ti,e=ti,(n=Wi())!==a?(46===r.charCodeAt(ti)?(i=Nr,ti++):(i=a,0===oi&&fi(Er)),i!==a&&(o=Wi())!==a?e=n=[n,i,o]:(ti=e,e=a)):(ti=e,e=a),e!==a&&(ei=t,e=Dr(e)),t=e}())===a&&(t=Wi()),t}function Wi(){var t,e,n;if(t=ti,e=[],Or.test(r.charAt(ti))?(n=r.charAt(ti),ti++):(n=a,0===oi&&fi(Tr)),n!==a)for(;n!==a;)e.push(n),Or.test(r.charAt(ti))?(n=r.charAt(ti),ti++):(n=a,0===oi&&fi(Tr));else e=a;return e!==a&&(ei=t,e=Ar(e)),t=e}function Hi(){var t,e;return oi++,t=ti,(e=function(){var t,e,n,i;return t=ti,34===r.charCodeAt(ti)?(e=Kn,ti++):(e=a,0===oi&&fi(Zn)),e!==a&&(n=Pi())!==a?(34===r.charCodeAt(ti)?(i=Kn,ti++):(i=a,0===oi&&fi(Zn)),i!==a?(ei=t,e=Lr(n),t=e):(ti=t,t=a)):(ti=t,t=a),t}())!==a&&(ei=t,e=Fr(e)),(t=e)===a&&(t=ti,(e=Pi())!==a&&(ei=t,e=Wr(e)),t=e),oi--,t===a&&(e=a,0===oi&&fi(Br)),t}function Pi(){var t;return r.substr(ti,4).toLowerCase()===Hr?(t=r.substr(ti,4),ti+=4):(t=a,0===oi&&fi(Pr)),t===a&&(r.substr(ti,5).toLowerCase()===Ir?(t=r.substr(ti,5),ti+=5):(t=a,0===oi&&fi(zr)),t===a&&(r.substr(ti,2).toLowerCase()===Rr?(t=r.substr(ti,2),ti+=2):(t=a,0===oi&&fi(jr)),t===a&&(r.substr(ti,3).toLowerCase()===Gr?(t=r.substr(ti,3),ti+=3):(t=a,0===oi&&fi(Ur)),t===a&&(48===r.charCodeAt(ti)?(t=Vr,ti++):(t=a,0===oi&&fi(qr)),t===a&&(49===r.charCodeAt(ti)?(t=Xr,ti++):(t=a,0===oi&&fi(Kr))))))),t}function Ii(){var t,e;return t=ti,(e=Fi())!==a&&(ei=t,e=Jr(e)),(t=e)===a&&(t=ti,r.substr(ti,4).toLowerCase()===Qr?(e=r.substr(ti,4),ti+=4):(e=a,0===oi&&fi(Yr)),e!==a&&(ei=t,e=$r(e)),t=e),t}if((o=u())!==a&&ti===r.length)return o;throw o!==a&&ti<r.length&&fi({type:"end"}),hi(ii,ri<r.length?r.charAt(ri):null,ri<r.length?ci(ri,ri+1):ci(ri,ri))}}})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[n(20),n(12)],void 0===(o="function"==typeof(r=function(t,e){"use strict";function n(t,e,r,i){this.message=t,this.expected=e,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,n)}return function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(n,Error),n.buildMessage=function(t,e){var n={literal:function(t){return'"'+i(t.text)+'"'},class:function(t){var e,n="";for(e=0;e<t.parts.length;e++)n+=t.parts[e]instanceof Array?o(t.parts[e][0])+"-"+o(t.parts[e][1]):o(t.parts[e]);return"["+(t.inverted?"^":"")+n+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function i(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}return"Expected "+function(t){var e,r,i,o=new Array(t.length);for(e=0;e<t.length;e++)o[e]=(i=t[e],n[i.type](i));if(o.sort(),o.length>0){for(e=1,r=1;e<o.length;e++)o[e-1]!==o[e]&&(o[r]=o[e],r++);o.length=r}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(t)+" but "+function(t){return t?'"'+i(t)+'"':"end of input"}(e)+" found."},{SyntaxError:n,parse:function(r,i){i=void 0!==i?i:{};var o,a={},l={program:pr},u=pr,s=function(n,r){return r.entities=function e(n,r,i){return i||(i={}),(r||[]).forEach(function(r){r.forEach(function(r){zr(n,r.from,i)&&n.push(Rr(r.from)),r.arcs&&(i[r.to]=!0,t(n,e(n,r.arcs,i)),delete i[r.to]),zr(n,r.to,i)&&n.push(Rr(r.to))})}),n}(r.entities||[],r.arcs),r=t({meta:e.getMetaInfo(r.options,r.arcs)},r),n.length>0&&(r=t({precomment:n},r)),r},c=function(t,e,n){var r={};return t&&(r.options=t),e&&(r.entities=e),n&&(r.arcs=n),r},f=",",h=ur(",",!1),d=function(t){return t},g=";",p=ur(";",!1),v=function(e){return e[0].concat(e[1]).reduce(t,{})},m="hscale",y=ur("hscale",!0),w="arcgradient",b=ur("arcgradient",!0),x="=",k=ur("=",!1),_=function(t,n){return e.nameValue2Option(t,n)},C="width",L=ur("width",!0),S="wordwraparcs",M=ur("wordwraparcs",!0),O=function(t,n){return e.nameValue2Option(t,e.flattenBoolean(n))},T="wordwrapentities",A=ur("wordwrapentities",!0),N="wordwrapboxes",E=ur("wordwrapboxes",!0),D="watermark",B=ur("watermark",!0),F=function(t){return t},W=function(t){return t[0].concat(t[1])},H=cr("entity"),P=":",I=ur(":",!1),z=function(t,e){return e},R=function(t,e){var n=Rr(t);return e&&(n.label=e),n},j=function(t){return t},G=function(t){return t[0].concat(t[1])},U=function(t){return t},V=function(t){return t},q=function(t){return t},X=function(t,e){return e},K=function(t,e){return e&&(t.label=e),t},Z=function(t){return{kind:t}},J=function(t,e,n){return{kind:e,from:t,to:n}},Q="*",Y=ur("*",!1),$=function(t,e){return{kind:t,from:"*",to:e}},tt=function(t,e){return{kind:e,from:t,to:"*"}},et=function(t,e,n,r){return r},nt="{",rt=ur("{",!1),it="}",ot=ur("}",!1),at=function(t,e,n,r,i){var o={kind:e,from:t,to:n,arcs:i};return r&&(o.label=r),o},lt=cr("empty row"),ut="|||",st=ur("|||",!1),ct="...",ft=ur("...",!1),ht=cr("---"),dt="---",gt=ur("---",!1),pt=function(t){return t.toLowerCase()},vt=cr("bi-directional arrow"),mt="--",yt=ur("--",!1),wt="<->",bt=ur("<->",!1),xt="==",kt=ur("==",!1),_t="<<=>>",Ct=ur("<<=>>",!1),Lt="<=>",St=ur("<=>",!1),Mt="..",Ot=ur("..",!1),Tt="<<>>",At=ur("<<>>",!1),Nt="::",Et=ur("::",!1),Dt="<:>",Bt=ur("<:>",!1),Ft=cr("left to right arrow"),Wt="->",Ht=ur("->",!1),Pt="=>>",It=ur("=>>",!1),zt="=>",Rt=ur("=>",!1),jt=">>",Gt=ur(">>",!1),Ut=":>",Vt=ur(":>",!1),qt="-x",Xt=ur("-x",!0),Kt=cr("right to left arrow"),Zt="<-",Jt=ur("<-",!1),Qt="<<=",Yt=ur("<<=",!1),$t="<=",te=ur("<=",!1),ee="<<",ne=ur("<<",!1),re="<:",ie=ur("<:",!1),oe="x-",ae=ur("x-",!0),le=cr("box"),ue="note",se=ur("note",!0),ce="abox",fe=ur("abox",!0),he="rbox",de=ur("rbox",!0),ge="box",pe=ur("box",!0),ve=cr("inline expression"),me="alt",ye=ur("alt",!0),we="else",be=ur("else",!0),xe="opt",ke=ur("opt",!0),_e="break",Ce=ur("break",!0),Le="par",Se=ur("par",!0),Me="seq",Oe=ur("seq",!0),Te="strict",Ae=ur("strict",!0),Ne="neg",Ee=ur("neg",!0),De="critical",Be=ur("critical",!0),Fe="ignore",We=ur("ignore",!0),He="consider",Pe=ur("consider",!0),Ie="assert",ze=ur("assert",!0),Re="loop",je=ur("loop",!0),Ge="ref",Ue=ur("ref",!0),Ve="exc",qe=ur("exc",!0),Xe=function(t){return t.toLowerCase()},Ke=cr("double quoted string"),Ze='"',Je=ur('"',!1),Qe=function(t){return t.join("")},Ye='\\"',$e=ur('\\"',!1),tn={type:"any"},en=function(t){return t},nn=function(t){return t.join("").trim()},rn=cr("identifier"),on=/^[^;, "\t\n\r=\-><:{*]/,an=sr([";",","," ",'"',"\t","\n","\r","=","-",">","<",":","{","*"],!0,!1),ln=function(t){return t.join("")},un=cr("whitespace"),sn=/^[ \t]/,cn=sr([" ","\t"],!1,!1),fn=cr("lineend"),hn=/^[\r\n]/,dn=sr(["\r","\n"],!1,!1),gn="/*",pn=ur("/*",!1),vn="*/",mn=ur("*/",!1),yn=function(t,e,n){return t+e.join("")+n},wn="//",bn=ur("//",!1),xn="#",kn=ur("#",!1),_n=/^[^\r\n]/,Cn=sr(["\r","\n"],!0,!1),Ln=function(t,e){return t+e.join("")},Sn=cr("comment"),Mn=cr("number"),On=function(t){return t},Tn=function(t){return t.toString()},An=function(t){return t.toString()},Nn=/^[0-9]/,En=sr([["0","9"]],!1,!1),Dn=function(t){return parseInt(t.join(""),10)},Bn=".",Fn=ur(".",!1),Wn=function(t){return parseFloat(t.join(""))},Hn=cr("boolean"),Pn=function(t){return t},In=function(t){return t.toString()},zn="true",Rn=ur("true",!0),jn="false",Gn=ur("false",!0),Un="on",Vn=ur("on",!0),qn="off",Xn=ur("off",!0),Kn="0",Zn=ur("0",!1),Jn="1",Qn=ur("1",!1),Yn=cr("size"),$n=function(t){return t.toString()},tr="auto",er=ur("auto",!0),nr=function(t){return t.toLowerCase()},rr=0,ir=[{line:1,column:1}],or=0,ar=[],lr=0;if("startRule"in i){if(!(i.startRule in l))throw new Error("Can't start parsing from rule \""+i.startRule+'".');u=l[i.startRule]}function ur(t,e){return{type:"literal",text:t,ignoreCase:e}}function sr(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function cr(t){return{type:"other",description:t}}function fr(t){var e,n=ir[t];if(n)return n;for(e=t-1;!ir[e];)e--;for(n={line:(n=ir[e]).line,column:n.column};e<t;)10===r.charCodeAt(e)?(n.line++,n.column=1):n.column++,e++;return ir[t]=n,n}function hr(t,e){var n=fr(t),r=fr(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:r.line,column:r.column}}}function dr(t){rr<or||(rr>or&&(or=rr,ar=[]),ar.push(t))}function gr(t,e,r){return new n(n.buildMessage(t,e),t,e,r)}function pr(){var t,e,n;return t=rr,(e=Br())!==a&&(n=function(){var t,e,n,i;return t=rr,(e=function(){var t,e,n,i,o;for(t=rr,e=[],n=rr,(i=vr())!==a?(44===r.charCodeAt(rr)?(o=f,rr++):(o=a,0===lr&&dr(h)),o!==a?(i=d(i),n=i):(rr=n,n=a)):(rr=n,n=a);n!==a;)e.push(n),n=rr,(i=vr())!==a?(44===r.charCodeAt(rr)?(o=f,rr++):(o=a,0===lr&&dr(h)),o!==a?(i=d(i),n=i):(rr=n,n=a)):(rr=n,n=a);return e!==a?(n=rr,(i=vr())!==a?(59===r.charCodeAt(rr)?(o=g,rr++):(o=a,0===lr&&dr(p)),o!==a?(i=d(i),n=i):(rr=n,n=a)):(rr=n,n=a),n!==a?t=e=[e,n]:(rr=t,t=a)):(rr=t,t=a),t!==a&&(t=v(t)),t}())===a&&(e=null),e!==a?((n=function(){var t,e,n,i,o;for(t=rr,e=[],n=rr,(i=mr())!==a?(44===r.charCodeAt(rr)?(o=f,rr++):(o=a,0===lr&&dr(h)),o!==a?(i=F(i),n=i):(rr=n,n=a)):(rr=n,n=a);n!==a;)e.push(n),n=rr,(i=mr())!==a?(44===r.charCodeAt(rr)?(o=f,rr++):(o=a,0===lr&&dr(h)),o!==a?(i=F(i),n=i):(rr=n,n=a)):(rr=n,n=a);return e!==a?(n=rr,(i=mr())!==a?(59===r.charCodeAt(rr)?(o=g,rr++):(o=a,0===lr&&dr(p)),o!==a?(i=F(i),n=i):(rr=n,n=a)):(rr=n,n=a),n!==a?t=e=[e,n]:(rr=t,t=a)):(rr=t,t=a),t!==a&&(t=W(t)),t}())===a&&(n=null),n!==a?((i=yr())===a&&(i=null),i!==a?(e=c(e,n,i),t=e):(rr=t,t=a)):(rr=t,t=a)):(rr=t,t=a),t}())!==a&&Br()!==a?(e=s(e,n),t=e):(rr=t,t=a),t}function vr(){var t,e,n,i,o;return t=rr,(e=Br())!==a?(r.substr(rr,6).toLowerCase()===m?(n=r.substr(rr,6),rr+=6):(n=a,0===lr&&dr(y)),n===a&&(r.substr(rr,11).toLowerCase()===w?(n=r.substr(rr,11),rr+=11):(n=a,0===lr&&dr(b))),n!==a&&Br()!==a?(61===r.charCodeAt(rr)?(i=x,rr++):(i=a,0===lr&&dr(k)),i!==a&&Br()!==a&&(o=function(){var t,e;return lr++,t=rr,(e=function(){var t,e,n,i;return t=rr,34===r.charCodeAt(rr)?(e=Ze,rr++):(e=a,0===lr&&dr(Je)),e!==a&&(n=Fr())!==a?(34===r.charCodeAt(rr)?(i=Ze,rr++):(i=a,0===lr&&dr(Je)),i!==a?(e=An(n),t=e):(rr=t,t=a)):(rr=t,t=a),t}())!==a&&(e=On(e)),(t=e)===a&&(t=rr,(e=Fr())!==a&&(e=Tn(e)),t=e),lr--,t===a&&(e=a,0===lr&&dr(Mn)),t}())!==a&&Br()!==a?(e=_(n,o),t=e):(rr=t,t=a)):(rr=t,t=a)):(rr=t,t=a),t===a&&(t=rr,(e=Br())!==a?(r.substr(rr,5).toLowerCase()===C?(n=r.substr(rr,5),rr+=5):(n=a,0===lr&&dr(L)),n!==a&&Br()!==a?(61===r.charCodeAt(rr)?(i=x,rr++):(i=a,0===lr&&dr(k)),i!==a&&Br()!==a&&(o=function(){var t;return lr++,(t=function(){var t,e,n,i;return t=rr,34===r.charCodeAt(rr)?(e=Ze,rr++):(e=a,0===lr&&dr(Je)),e!==a&&(n=Ir())!==a?(34===r.charCodeAt(rr)?(i=Ze,rr++):(i=a,0===lr&&dr(Je)),i!==a?(e=On(n),t=e):(rr=t,t=a)):(rr=t,t=a),t}())===a&&(t=Ir()),lr--,t===a&&0===lr&&dr(Yn),t}())!==a&&Br()!==a?(e=_(n,o),t=e):(rr=t,t=a)):(rr=t,t=a)):(rr=t,t=a),t===a&&(t=rr,(e=Br())!==a?(r.substr(rr,12).toLowerCase()===S?(n=r.substr(rr,12),rr+=12):(n=a,0===lr&&dr(M)),n!==a&&Br()!==a?(61===r.charCodeAt(rr)?(i=x,rr++):(i=a,0===lr&&dr(k)),i!==a&&Br()!==a&&(o=Hr())!==a&&Br()!==a?(e=O(n,o),t=e):(rr=t,t=a)):(rr=t,t=a)):(rr=t,t=a),t===a&&(t=rr,(e=Br())!==a?(r.substr(rr,16).toLowerCase()===T?(n=r.substr(rr,16),rr+=16):(n=a,0===lr&&dr(A)),n!==a&&Br()!==a?(61===r.charCodeAt(rr)?(i=x,rr++):(i=a,0===lr&&dr(k)),i!==a&&Br()!==a&&(o=Hr())!==a&&Br()!==a?(e=O(n,o),t=e):(rr=t,t=a)):(rr=t,t=a)):(rr=t,t=a),t===a&&(t=rr,(e=Br())!==a?(r.substr(rr,13).toLowerCase()===N?(n=r.substr(rr,13),rr+=13):(n=a,0===lr&&dr(E)),n!==a&&Br()!==a?(61===r.charCodeAt(rr)?(i=x,rr++):(i=a,0===lr&&dr(k)),i!==a&&Br()!==a&&(o=Hr())!==a&&Br()!==a?(e=O(n,o),t=e):(rr=t,t=a)):(rr=t,t=a)):(rr=t,t=a),t===a&&(t=rr,(e=Br())!==a?(r.substr(rr,9).toLowerCase()===D?(n=r.substr(rr,9),rr+=9):(n=a,0===lr&&dr(B)),n!==a&&Br()!==a?(61===r.charCodeAt(rr)?(i=x,rr++):(i=a,0===lr&&dr(k)),i!==a&&Br()!==a&&(o=Lr())!==a&&Br()!==a?(e=_(n,o),t=e):(rr=t,t=a)):(rr=t,t=a)):(rr=t,t=a)))))),t}function mr(){var t,e,n,i,o,l;return lr++,t=rr,(e=Br())!==a&&(n=Sr())!==a&&Br()!==a?(i=rr,58===r.charCodeAt(rr)?(o=P,rr++):(o=a,0===lr&&dr(I)),o!==a&&Br()!==a&&(l=Cr())!==a&&Br()!==a?(o=z(n,l),i=o):(rr=i,i=a),i===a&&(i=null),i!==a?(e=R(n,i),t=e):(rr=t,t=a)):(rr=t,t=a),lr--,t===a&&(e=a,0===lr&&dr(H)),t}function yr(){var t,e,n,i;if(t=[],e=rr,(n=wr())!==a&&Br()!==a?(59===r.charCodeAt(rr)?(i=g,rr++):(i=a,0===lr&&dr(p)),i!==a?(n=j(n),e=n):(rr=e,e=a)):(rr=e,e=a),e!==a)for(;e!==a;)t.push(e),e=rr,(n=wr())!==a&&Br()!==a?(59===r.charCodeAt(rr)?(i=g,rr++):(i=a,0===lr&&dr(p)),i!==a?(n=j(n),e=n):(rr=e,e=a)):(rr=e,e=a);else t=a;return t}function wr(){var t,e,n,i,o;for(t=rr,e=[],n=rr,(i=br())!==a?(44===r.charCodeAt(rr)?(o=f,rr++):(o=a,0===lr&&dr(h)),o!==a?(i=j(i),n=i):(rr=n,n=a)):(rr=n,n=a);n!==a;)e.push(n),n=rr,(i=br())!==a?(44===r.charCodeAt(rr)?(o=f,rr++):(o=a,0===lr&&dr(h)),o!==a?(i=j(i),n=i):(rr=n,n=a)):(rr=n,n=a);return e!==a?(n=rr,(i=br())!==a&&(i=j(i)),(n=i)!==a?t=e=[e,n]:(rr=t,t=a)):(rr=t,t=a),t!==a&&(t=G(t)),t}function br(){var t;return(t=function(){var t,e,n,i,o;return t=rr,e=rr,(n=function(){var t,e,n;return t=rr,(e=Br())!==a&&(n=function(){var t;return lr++,r.substr(rr,3)===ut?(t=ut,rr+=3):(t=a,0===lr&&dr(st)),t===a&&(r.substr(rr,3)===ct?(t=ct,rr+=3):(t=a,0===lr&&dr(ft))),lr--,t===a&&0===lr&&dr(lt),t}())!==a&&Br()!==a?(e=Z(n),t=e):(rr=t,t=a),t}())!==a&&(n=U(n)),(e=n)===a&&(e=rr,(n=function(){var t,e,n,i,o;return t=rr,(e=Br())!==a&&(n=Sr())!==a&&Br()!==a&&(i=function(){var t;return(t=xr())===a&&(t=kr())===a&&(t=_r())===a&&(t=function(){var t;return lr++,r.substr(rr,4).toLowerCase()===ue?(t=r.substr(rr,4),rr+=4):(t=a,0===lr&&dr(se)),t===a&&(r.substr(rr,4).toLowerCase()===ce?(t=r.substr(rr,4),rr+=4):(t=a,0===lr&&dr(fe)),t===a&&(r.substr(rr,4).toLowerCase()===he?(t=r.substr(rr,4),rr+=4):(t=a,0===lr&&dr(de)),t===a&&(r.substr(rr,3).toLowerCase()===ge?(t=r.substr(rr,3),rr+=3):(t=a,0===lr&&dr(pe))))),lr--,t===a&&0===lr&&dr(le),t}()),t!==a&&(t=pt(t)),t}())!==a&&Br()!==a&&(o=Sr())!==a&&Br()!==a?(e=J(n,i,o),t=e):(rr=t,t=a),t===a&&(t=rr,(e=Br())!==a?(42===r.charCodeAt(rr)?(n=Q,rr++):(n=a,0===lr&&dr(Y)),n!==a&&Br()!==a&&(i=_r())!==a&&Br()!==a&&(o=Sr())!==a&&Br()!==a?(e=$(i,o),t=e):(rr=t,t=a)):(rr=t,t=a),t===a&&(t=rr,(e=Br())!==a&&(n=Sr())!==a&&Br()!==a&&(i=kr())!==a&&Br()!==a?(42===r.charCodeAt(rr)?(o=Q,rr++):(o=a,0===lr&&dr(Y)),o!==a&&Br()!==a?(e=tt(n,i),t=e):(rr=t,t=a)):(rr=t,t=a),t===a&&(t=rr,(e=Br())!==a&&(n=Sr())!==a&&Br()!==a&&(i=xr())!==a&&Br()!==a?(42===r.charCodeAt(rr)?(o=Q,rr++):(o=a,0===lr&&dr(Y)),o!==a&&Br()!==a?(e=tt(n,i),t=e):(rr=t,t=a)):(rr=t,t=a)))),t}())!==a&&(n=V(n)),(e=n)===a&&(e=rr,(n=function(){var t,e,n;return t=rr,(e=Br())!==a&&(n=function(){var t;return lr++,r.substr(rr,3)===dt?(t=dt,rr+=3):(t=a,0===lr&&dr(gt)),lr--,t===a&&0===lr&&dr(ht),t}())!==a&&Br()!==a?(e=Z(n),t=e):(rr=t,t=a),t}())!==a&&(n=q(n)),e=n)),e!==a?(n=rr,58===r.charCodeAt(rr)?(i=P,rr++):(i=a,0===lr&&dr(I)),i!==a&&Br()!==a&&(o=Cr())!==a&&Br()!==a?(i=X(e,o),n=i):(rr=n,n=a),n===a&&(n=null),n!==a?(e=K(e,n),t=e):(rr=t,t=a)):(rr=t,t=a),t}())===a&&(t=function(){var t,e,n,i,o,l,u,s,c;return t=rr,(e=Br())!==a&&(n=Sr())!==a&&Br()!==a&&(i=function(){var t,e;return lr++,t=rr,r.substr(rr,3).toLowerCase()===me?(e=r.substr(rr,3),rr+=3):(e=a,0===lr&&dr(ye)),e===a&&(r.substr(rr,4).toLowerCase()===we?(e=r.substr(rr,4),rr+=4):(e=a,0===lr&&dr(be)),e===a&&(r.substr(rr,3).toLowerCase()===xe?(e=r.substr(rr,3),rr+=3):(e=a,0===lr&&dr(ke)),e===a&&(r.substr(rr,5).toLowerCase()===_e?(e=r.substr(rr,5),rr+=5):(e=a,0===lr&&dr(Ce)),e===a&&(r.substr(rr,3).toLowerCase()===Le?(e=r.substr(rr,3),rr+=3):(e=a,0===lr&&dr(Se)),e===a&&(r.substr(rr,3).toLowerCase()===Me?(e=r.substr(rr,3),rr+=3):(e=a,0===lr&&dr(Oe)),e===a&&(r.substr(rr,6).toLowerCase()===Te?(e=r.substr(rr,6),rr+=6):(e=a,0===lr&&dr(Ae)),e===a&&(r.substr(rr,3).toLowerCase()===Ne?(e=r.substr(rr,3),rr+=3):(e=a,0===lr&&dr(Ee)),e===a&&(r.substr(rr,8).toLowerCase()===De?(e=r.substr(rr,8),rr+=8):(e=a,0===lr&&dr(Be)),e===a&&(r.substr(rr,6).toLowerCase()===Fe?(e=r.substr(rr,6),rr+=6):(e=a,0===lr&&dr(We)),e===a&&(r.substr(rr,8).toLowerCase()===He?(e=r.substr(rr,8),rr+=8):(e=a,0===lr&&dr(Pe)),e===a&&(r.substr(rr,6).toLowerCase()===Ie?(e=r.substr(rr,6),rr+=6):(e=a,0===lr&&dr(ze)),e===a&&(r.substr(rr,4).toLowerCase()===Re?(e=r.substr(rr,4),rr+=4):(e=a,0===lr&&dr(je)),e===a&&(r.substr(rr,3).toLowerCase()===Ge?(e=r.substr(rr,3),rr+=3):(e=a,0===lr&&dr(Ue)),e===a&&(r.substr(rr,3).toLowerCase()===Ve?(e=r.substr(rr,3),rr+=3):(e=a,0===lr&&dr(qe)))))))))))))))),e!==a&&(e=Xe(e)),lr--,(t=e)===a&&(e=a,0===lr&&dr(ve)),t}())!==a&&Br()!==a&&(o=Sr())!==a&&Br()!==a?(l=rr,58===r.charCodeAt(rr)?(u=P,rr++):(u=a,0===lr&&dr(I)),u!==a&&Br()!==a&&(s=Cr())!==a&&Br()!==a?(u=et(n,i,o,s),l=u):(rr=l,l=a),l===a&&(l=null),l!==a?(123===r.charCodeAt(rr)?(u=nt,rr++):(u=a,0===lr&&dr(rt)),u!==a&&Br()!==a?((s=yr())===a&&(s=null),s!==a&&Br()!==a?(125===r.charCodeAt(rr)?(c=it,rr++):(c=a,0===lr&&dr(ot)),c!==a&&Br()!==a?(e=at(n,i,o,l,s),t=e):(rr=t,t=a)):(rr=t,t=a)):(rr=t,t=a)):(rr=t,t=a)):(rr=t,t=a),t}()),t}function xr(){var t;return lr++,r.substr(rr,2)===mt?(t=mt,rr+=2):(t=a,0===lr&&dr(yt)),t===a&&(r.substr(rr,3)===wt?(t=wt,rr+=3):(t=a,0===lr&&dr(bt)),t===a&&(r.substr(rr,2)===xt?(t=xt,rr+=2):(t=a,0===lr&&dr(kt)),t===a&&(r.substr(rr,5)===_t?(t=_t,rr+=5):(t=a,0===lr&&dr(Ct)),t===a&&(r.substr(rr,3)===Lt?(t=Lt,rr+=3):(t=a,0===lr&&dr(St)),t===a&&(r.substr(rr,2)===Mt?(t=Mt,rr+=2):(t=a,0===lr&&dr(Ot)),t===a&&(r.substr(rr,4)===Tt?(t=Tt,rr+=4):(t=a,0===lr&&dr(At)),t===a&&(r.substr(rr,2)===Nt?(t=Nt,rr+=2):(t=a,0===lr&&dr(Et)),t===a&&(r.substr(rr,3)===Dt?(t=Dt,rr+=3):(t=a,0===lr&&dr(Bt)))))))))),lr--,t===a&&0===lr&&dr(vt),t}function kr(){var t;return lr++,r.substr(rr,2)===Wt?(t=Wt,rr+=2):(t=a,0===lr&&dr(Ht)),t===a&&(r.substr(rr,3)===Pt?(t=Pt,rr+=3):(t=a,0===lr&&dr(It)),t===a&&(r.substr(rr,2)===zt?(t=zt,rr+=2):(t=a,0===lr&&dr(Rt)),t===a&&(r.substr(rr,2)===jt?(t=jt,rr+=2):(t=a,0===lr&&dr(Gt)),t===a&&(r.substr(rr,2)===Ut?(t=Ut,rr+=2):(t=a,0===lr&&dr(Vt)),t===a&&(r.substr(rr,2).toLowerCase()===qt?(t=r.substr(rr,2),rr+=2):(t=a,0===lr&&dr(Xt))))))),lr--,t===a&&0===lr&&dr(Ft),t}function _r(){var t;return lr++,r.substr(rr,2)===Zt?(t=Zt,rr+=2):(t=a,0===lr&&dr(Jt)),t===a&&(r.substr(rr,3)===Qt?(t=Qt,rr+=3):(t=a,0===lr&&dr(Yt)),t===a&&(r.substr(rr,2)===$t?(t=$t,rr+=2):(t=a,0===lr&&dr(te)),t===a&&(r.substr(rr,2)===ee?(t=ee,rr+=2):(t=a,0===lr&&dr(ne)),t===a&&(r.substr(rr,2)===re?(t=re,rr+=2):(t=a,0===lr&&dr(ie)),t===a&&(r.substr(rr,2).toLowerCase()===oe?(t=r.substr(rr,2),rr+=2):(t=a,0===lr&&dr(ae))))))),lr--,t===a&&0===lr&&dr(Kt),t}function Cr(){var t,e;return(t=Lr())===a&&((e=function(){var t,e,n,i;for(t=[],e=rr,n=rr,lr++,44===r.charCodeAt(rr)?(i=f,rr++):(i=a,0===lr&&dr(h)),i===a&&(59===r.charCodeAt(rr)?(i=g,rr++):(i=a,0===lr&&dr(p)),i===a&&(123===r.charCodeAt(rr)?(i=nt,rr++):(i=a,0===lr&&dr(rt)))),lr--,i===a?n=void 0:(rr=n,n=a),n!==a?(r.length>rr?(i=r.charAt(rr),rr++):(i=a,0===lr&&dr(tn)),i!==a?(n=en(i),e=n):(rr=e,e=a)):(rr=e,e=a);e!==a;)t.push(e),e=rr,n=rr,lr++,44===r.charCodeAt(rr)?(i=f,rr++):(i=a,0===lr&&dr(h)),i===a&&(59===r.charCodeAt(rr)?(i=g,rr++):(i=a,0===lr&&dr(p)),i===a&&(123===r.charCodeAt(rr)?(i=nt,rr++):(i=a,0===lr&&dr(rt)))),lr--,i===a?n=void 0:(rr=n,n=a),n!==a?(r.length>rr?(i=r.charAt(rr),rr++):(i=a,0===lr&&dr(tn)),i!==a?(n=en(i),e=n):(rr=e,e=a)):(rr=e,e=a);return t}())!==a&&(e=nn(e)),t=e),t}function Lr(){var t,e,n,i;return lr++,t=rr,34===r.charCodeAt(rr)?(e=Ze,rr++):(e=a,0===lr&&dr(Je)),e!==a&&(n=function(){var t,e,n,i;for(t=[],e=rr,n=rr,lr++,34===r.charCodeAt(rr)?(i=Ze,rr++):(i=a,0===lr&&dr(Je)),lr--,i===a?n=void 0:(rr=n,n=a),n!==a?(r.substr(rr,2)===Ye?(i=Ye,rr+=2):(i=a,0===lr&&dr($e)),i===a&&(r.length>rr?(i=r.charAt(rr),rr++):(i=a,0===lr&&dr(tn))),i!==a?(n=en(i),e=n):(rr=e,e=a)):(rr=e,e=a);e!==a;)t.push(e),e=rr,n=rr,lr++,34===r.charCodeAt(rr)?(i=Ze,rr++):(i=a,0===lr&&dr(Je)),lr--,i===a?n=void 0:(rr=n,n=a),n!==a?(r.substr(rr,2)===Ye?(i=Ye,rr+=2):(i=a,0===lr&&dr($e)),i===a&&(r.length>rr?(i=r.charAt(rr),rr++):(i=a,0===lr&&dr(tn))),i!==a?(n=en(i),e=n):(rr=e,e=a)):(rr=e,e=a);return t}())!==a?(34===r.charCodeAt(rr)?(i=Ze,rr++):(i=a,0===lr&&dr(Je)),i!==a?(e=Qe(n),t=e):(rr=t,t=a)):(rr=t,t=a),lr--,t===a&&(e=a,0===lr&&dr(Ke)),t}function Sr(){var t,e,n;if(lr++,t=rr,e=[],on.test(r.charAt(rr))?(n=r.charAt(rr),rr++):(n=a,0===lr&&dr(an)),n!==a)for(;n!==a;)e.push(n),on.test(r.charAt(rr))?(n=r.charAt(rr),rr++):(n=a,0===lr&&dr(an));else e=a;return e!==a&&(e=ln(e)),(t=e)===a&&(t=Lr()),lr--,t===a&&(e=a,0===lr&&dr(rn)),t}function Mr(){var t,e;return lr++,t=rr,sn.test(r.charAt(rr))?(e=r.charAt(rr),rr++):(e=a,0===lr&&dr(cn)),e!==a&&(e=en(e)),lr--,(t=e)===a&&(e=a,0===lr&&dr(un)),t}function Or(){var t,e;return lr++,t=rr,hn.test(r.charAt(rr))?(e=r.charAt(rr),rr++):(e=a,0===lr&&dr(dn)),e!==a&&(e=en(e)),lr--,(t=e)===a&&(e=a,0===lr&&dr(fn)),t}function Tr(){var t,e,n;return t=rr,e=rr,lr++,r.substr(rr,2)===vn?(n=vn,rr+=2):(n=a,0===lr&&dr(mn)),lr--,n===a?e=void 0:(rr=e,e=a),e!==a?(r.length>rr?(n=r.charAt(rr),rr++):(n=a,0===lr&&dr(tn)),n!==a?(e=en(n),t=e):(rr=t,t=a)):(rr=t,t=a),t}function Ar(){var t,e,n,i;if(t=rr,(e=function(){var t;return r.substr(rr,2)===gn?(t=gn,rr+=2):(t=a,0===lr&&dr(pn)),t}())!==a){for(n=[],i=Tr();i!==a;)n.push(i),i=Tr();n!==a&&(i=function(){var t;return r.substr(rr,2)===vn?(t=vn,rr+=2):(t=a,0===lr&&dr(mn)),t}())!==a?(e=yn(e,n,i),t=e):(rr=t,t=a)}else rr=t,t=a;return t}function Nr(){var t;return _n.test(r.charAt(rr))?(t=r.charAt(rr),rr++):(t=a,0===lr&&dr(Cn)),t}function Er(){var t,e,n,i;if(t=rr,(e=function(){var t;return r.substr(rr,2)===wn?(t=wn,rr+=2):(t=a,0===lr&&dr(bn)),t===a&&(35===r.charCodeAt(rr)?(t=xn,rr++):(t=a,0===lr&&dr(kn))),t}())!==a){for(n=[],i=Nr();i!==a;)n.push(i),i=Nr();n!==a?(e=Ln(e,n),t=e):(rr=t,t=a)}else rr=t,t=a;return t}function Dr(){var t;return lr++,(t=Er())===a&&(t=Ar()),lr--,t===a&&0===lr&&dr(Sn),t}function Br(){var t,e;for(t=[],(e=Mr())===a&&(e=Or())===a&&(e=Dr());e!==a;)t.push(e),(e=Mr())===a&&(e=Or())===a&&(e=Dr());return t}function Fr(){var t,e,n,i,o;return e=rr,(n=Wr())!==a?(46===r.charCodeAt(rr)?(i=Bn,rr++):(i=a,0===lr&&dr(Fn)),i!==a&&(o=Wr())!==a?e=n=[n,i,o]:(rr=e,e=a)):(rr=e,e=a),e!==a&&(e=Wn(e)),(t=e)===a&&(t=Wr()),t}function Wr(){var t,e;if(t=[],Nn.test(r.charAt(rr))?(e=r.charAt(rr),rr++):(e=a,0===lr&&dr(En)),e!==a)for(;e!==a;)t.push(e),Nn.test(r.charAt(rr))?(e=r.charAt(rr),rr++):(e=a,0===lr&&dr(En));else t=a;return t!==a&&(t=Dn(t)),t}function Hr(){var t,e;return lr++,t=rr,(e=function(){var t,e,n,i;return t=rr,34===r.charCodeAt(rr)?(e=Ze,rr++):(e=a,0===lr&&dr(Je)),e!==a&&(n=Pr())!==a?(34===r.charCodeAt(rr)?(i=Ze,rr++):(i=a,0===lr&&dr(Je)),i!==a?(e=On(n),t=e):(rr=t,t=a)):(rr=t,t=a),t}())!==a&&(e=Pn(e)),(t=e)===a&&(t=rr,(e=Pr())!==a&&(e=In(e)),t=e),lr--,t===a&&(e=a,0===lr&&dr(Hn)),t}function Pr(){var t;return r.substr(rr,4).toLowerCase()===zn?(t=r.substr(rr,4),rr+=4):(t=a,0===lr&&dr(Rn)),t===a&&(r.substr(rr,5).toLowerCase()===jn?(t=r.substr(rr,5),rr+=5):(t=a,0===lr&&dr(Gn)),t===a&&(r.substr(rr,2).toLowerCase()===Un?(t=r.substr(rr,2),rr+=2):(t=a,0===lr&&dr(Vn)),t===a&&(r.substr(rr,3).toLowerCase()===qn?(t=r.substr(rr,3),rr+=3):(t=a,0===lr&&dr(Xn)),t===a&&(48===r.charCodeAt(rr)?(t=Kn,rr++):(t=a,0===lr&&dr(Zn)),t===a&&(49===r.charCodeAt(rr)?(t=Jn,rr++):(t=a,0===lr&&dr(Qn))))))),t}function Ir(){var t,e;return t=rr,(e=Fr())!==a&&(e=$n(e)),(t=e)===a&&(t=rr,r.substr(rr,4).toLowerCase()===tr?(e=r.substr(rr,4),rr+=4):(e=a,0===lr&&dr(er)),e!==a&&(e=nr(e)),t=e),t}function zr(t,n,r){return!(e.entityExists(t,n)||!0===r[n])}function Rr(t){return{name:t}}if((o=u())!==a&&rr===r.length)return o;throw o!==a&&rr<r.length&&dr({type:"end"}),gr(ar,or<r.length?r.charAt(or):null,or<r.length?hr(or,or+1):hr(or,or))}}})?r.apply(e,i):r)||(t.exports=o)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return Object.assign({wordwraparcs:!1,wordwrapentities:!0,wordwrapboxes:!0},t||{})}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};e.__esModule=!0;var o=r(n(8)),a=i(n(25)),l=i(n(5)),u=i(n(7)),s=160,c=100,f=34,h=function(){function t(t){this.interEntitySpacing=s,this.height=f,this.width=c,this.entityXHWM=0,this.entity2x={},t&&(this.interEntitySpacing=t*s,this.width=t*c)}return t.prototype.getX=function(t){return this.entity2x[t]},t.prototype.getDims=function(){return{interEntitySpacing:this.interEntitySpacing,height:this.height,width:this.width,entityXHWM:this.entityXHWM}},t.prototype.getOAndD=function(t,e){return{from:this.getX(t)<this.getX(e)?this.getX(t):this.getX(e),to:this.getX(e)>this.getX(t)?this.getX(e):this.getX(t)}},t.prototype.renderEntities=function(t,e,n){var r=this,i=l.createGroup();return this.entityXHWM=0,this.height=this.getMaxEntityHeight(t,n)+2*o.default.LINE_WIDTH,t.forEach(function(t){i.appendChild(r.renderEntity(t,r.entityXHWM,e,n)),r.setX(t,r.entityXHWM),r.entityXHWM+=r.interEntitySpacing}),i},t.prototype.setX=function(t,e){this.entity2x[t.name]=e+this.width/2},t.prototype.getNoEntityLines=function(t,e,n){return a.splitLabel(t,"entity",this.width,e,n).length},t.prototype.sizeEntityBoxToLabel=function(t,e){var n=Math.min(u.getBBox(t).width+4*o.default.LINE_WIDTH,this.interEntitySpacing/3+e.width);return n>=e.width&&(e.x-=(n-e.width)/2,e.width=n),e},t.prototype.renderEntity=function(t,e,n,r){var i=l.createGroup(),o={x:e||0,y:n||0,width:this.width,height:this.height},u=a.createLabel(Object.assign({kind:"entity"},t),Object.assign({},o,{y:o.y+o.height/2}),r);return i.appendChild(l.createRect(this.sizeEntityBoxToLabel(u,o),{class:"entity",color:t.linecolor,bgColor:t.textbgcolor})),i.appendChild(u),i},t.prototype.getMaxEntityHeight=function(t,e){var n=this,r=t[0],i=2;return t.forEach(function(t){var a=n.getNoEntityLines(t.label,o.default.FONT_SIZE,e);a>i&&(i=a,r=t)}),i>2?Math.max(this.height,u.getBBox(this.renderEntity(r,0,0,e)).height):this.height},t}();e.Thing=h},function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};e.__esModule=!0;var i=r(n(6)),o=r(n(9));e.createDoubleLine=function(t,e){var n=e.lineWidth||1,r=n,a=e?e.class:"",l=o.getDirection(t),u=o.determineEndCorrection(t,a,n),s=o.determineStartCorrection(t,a,n),c=(t.xTo-t.xFrom+u-s).toString(),f=(t.yTo-t.yFrom).toString(),h=i.pathPoint2String("l",l.signX,l.dy),d=i.pathPoint2String("l",c,f);return i.createPath(i.pathPoint2String("M",t.xFrom,t.yFrom-7.5*n*l.dy)+h+i.pathPoint2String("M",t.xFrom+s,t.yFrom-r)+d+i.pathPoint2String("M",t.xFrom+s,t.yFrom+r)+d+i.pathPoint2String("M",t.xTo-l.signX,t.yTo+7.5*n*l.dy)+h,e)},e.createNote=function(t,e){var n=e&&e.lineWidth||1,r=Math.max(9,Math.min(4.5*n,t.height/2)),o=r.toString(10);return i.createPath(i.pathPoint2String("M",t.x,t.y)+i.pathPoint2String("l",t.width-r,0)+i.pathPoint2String("l",0,o)+i.pathPoint2String("l",o,0)+i.pathPoint2String("m",-o,-o)+i.pathPoint2String("l",o,o)+i.pathPoint2String("l",0,t.height-r)+i.pathPoint2String("l",-t.width,0)+i.pathPoint2String("l",0,-t.height)+"z",e)},e.createRBox=function(t,e){var n=Object.assign({rx:6,ry:6},e);return i.createRect(t,n)},e.createABox=function(t,e){return i.createPath(i.pathPoint2String("M",t.x,t.y+t.height/2)+i.pathPoint2String("l",3,-t.height/2)+i.pathPoint2String("l",t.width-6,0)+i.pathPoint2String("l",3,t.height/2)+i.pathPoint2String("l",-3,t.height/2)+i.pathPoint2String("l",-(t.width-6),0)+"z",e)},e.createEdgeRemark=function(t,e){var n=e&&e.foldSize?e.foldSize:7,r=Object.assign({class:null,color:null,bgColor:null},e);return i.createPath(i.pathPoint2String("M",t.x,t.y)+i.pathPoint2String("l",t.width,0)+i.pathPoint2String("l",0,t.height-n)+i.pathPoint2String("l",-n,n)+i.pathPoint2String("l",-(t.width-n),0),r)},e.createSingleLine=i.createSingleLine,e.createRect=i.createRect},function(t,e,n){"use strict";e.__esModule=!0,e.SVGNS="http://www.w3.org/2000/svg",e.XLINKNS="http://www.w3.org/1999/xlink";var r={};function i(t,e,n){return Boolean(n)&&t.setAttribute(e,n),t}function o(t,e,n,r){return Boolean(r)&&t.setAttributeNS(e,n,r),t}function a(t,e){return Object.keys(e||{}).forEach(function(n){i(t,n,e[n])}),t}e.setAttribute=i,e.setAttributeNS=o,e.setAttributes=a,e.setAttributesNS=function(t,e,n){return Object.keys(n||{}).forEach(function(r){o(t,e,r,n[r])}),t},e.createElement=function(t,n){return a(r.createElementNS(e.SVGNS,t),n)},e.createTextNode=function(t){return r.createTextNode(t)},e.init=function(t){r=t}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return 0-360*Math.atan(t.height/t.width)/(2*Math.PI)}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};e.__esModule=!0;var o=n(48),a=n(28),l=r(n(15)),u=i(n(6)),s=i(n(9));e.createSingleLine=function(t,e){void 0===e&&(e={});var n=s.getDirection(t);return u.createPath(u.pathPoint2String("M",t.xFrom,t.yFrom)+u.pathPoint2String("L",l.default(t.xFrom+n.signX*Math.sqrt(1/(1+Math.pow(n.dy,2))),2),t.yFrom+n.signY*(Math.abs(n.dy)===1/0?1:l.default(Math.sqrt(Math.pow(n.dy,2)/(1+Math.pow(n.dy,2))),2)))+a.line2CurveString(t),e)},e.createNote=function(t,e){var n=e&&e.lineWidth||1,r=Math.max(9,Math.min(4.5*n,t.height/2)),i=u.createGroup();return i.appendChild(u.createPath(o.renderNotePathString(t,r),e)),e.bgColor="transparent",i.appendChild(u.createPath(o.renderNoteCornerString(t,r),e)),i},e.createRect=function(t,e){return u.createPath(o.rbox2CurveString(t,0),e)},e.createABox=function(t,e){return u.createPath(o.abox2CurveString(t,3),e)},e.createRBox=function(t,e){return u.createPath(o.rbox2CurveString(t,6),e)},e.createEdgeRemark=function(t,e){var n=e&&e.lineWidth||1,r=u.createGroup(),i=e&&e.foldSize?e.foldSize:7,a=e&&e.color?e.color:"black";e.color="transparent!important";var l=u.createPath(u.pathPoint2String("M",t.x,t.y+n/2)+u.pathPoint2String("L",t.x+t.width,t.y+n/2)+u.pathPoint2String("L",t.x+t.width,t.y+t.height-i)+u.pathPoint2String("L",t.x+t.width-i,t.y+t.height)+u.pathPoint2String("L",t.x,t.y+t.height)+"z",e);e.bgColor="transparent",e.color=a;var s=u.createPath(o.edgeRemark2CurveString(t,i),e);return r.appendChild(l),r.appendChild(s),r},e.createDoubleLine=function(t,e){return u.createPath(o.doubleLine2CurveString(t,e),{class:e.class})}},function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};e.__esModule=!0;var i=r(n(6)),o=r(n(9)),a=n(28);e.renderNotePathString=function(t,e){return i.pathPoint2String("M",t.x,t.y)+a.line2CurveString({xFrom:t.x,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+i.pathPoint2String("L",t.x+t.width-e,t.y)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+e})+i.pathPoint2String("L",t.x+t.width,t.y+e)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+t.height})+i.pathPoint2String("L",t.x+t.width,t.y+t.height)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height})+i.pathPoint2String("L",t.x,t.y+t.height)+a.line2CurveString({xFrom:t.x,yFrom:t.y+t.height,xTo:t.x,yTo:t.y})+i.pathPoint2String("L",t.x,t.y)+"z"},e.renderNoteCornerString=function(t,e){return i.pathPoint2String("M",t.x+t.width-e,t.y)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y+e})+i.pathPoint2String("L",t.x+t.width-e,t.y+e)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+e})+i.pathPoint2String("L",t.x+t.width,t.y+e)},e.abox2CurveString=function(t,e){return i.pathPoint2String("M",t.x,t.y+t.height/2)+a.line2CurveString({xFrom:t.x,yFrom:t.y+t.height/2,xTo:t.x+e,yTo:t.y})+i.pathPoint2String("L",t.x+e,t.y)+a.line2CurveString({xFrom:t.x+e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+i.pathPoint2String("L",t.x+t.width-e,t.y)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height/2})+i.pathPoint2String("L",t.x+t.width,t.y+t.height/2)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+t.height/2,xTo:t.x+t.width-e,yTo:t.y+t.height})+i.pathPoint2String("L",t.x+t.width-e,t.y+t.height)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x+e,yTo:t.y+t.height})+i.pathPoint2String("L",t.x+e,t.y+t.height)+a.line2CurveString({xFrom:t.x+e,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height/2})+"z"},e.rbox2CurveString=function(t,e){return i.pathPoint2String("M",t.x,t.y+e)+a.points2CurveString([{controlX:t.x,controlY:t.y,x:t.x+e,y:t.y}])+a.line2CurveString({xFrom:t.x+e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+i.pathPoint2String("L",t.x+t.width-e,t.y)+a.points2CurveString([{controlX:t.x+t.width,controlY:t.y,x:t.x+t.width,y:t.y+e}])+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+t.height-e})+i.pathPoint2String("L",t.x+t.width,t.y+t.height-e)+a.points2CurveString([{controlX:t.x+t.width,controlY:t.y+t.height,x:t.x+t.width-e,y:t.y+t.height}])+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x+e,yTo:t.y+t.height})+i.pathPoint2String("L",t.x+e,t.y+t.height)+a.points2CurveString([{controlX:t.x,controlY:t.y+t.height,x:t.x,y:t.y+t.height-e}])+a.line2CurveString({xFrom:t.x,yFrom:t.y+t.height-e,xTo:t.x,yTo:t.y+e})+"z"},e.doubleLine2CurveString=function(t,e){var n=e.lineWidth||1,r=n,l=e?e.class:"",u=o.getDirection(t),s=o.determineEndCorrection(t,l,n),c=o.determineStartCorrection(t,l,n);return i.pathPoint2String("M",t.xFrom,t.yFrom-7.5*n*u.dy)+i.pathPoint2String("l",u.signX,u.dy)+i.pathPoint2String("M",t.xFrom+c,t.yFrom-r)+a.line2CurveString({xFrom:t.xFrom+c,yFrom:t.yFrom-r,xTo:t.xTo+s,yTo:t.yTo-r})+i.pathPoint2String("M",t.xFrom+c,t.yFrom+r)+a.line2CurveString({xFrom:t.xFrom+c,yFrom:t.yFrom+r,xTo:t.xTo+s,yTo:t.yTo+r})+i.pathPoint2String("M",t.xTo-u.signX,t.yTo+7.5*n*u.dy)+i.pathPoint2String("l",u.signX,u.dy)},e.edgeRemark2CurveString=function(t,e){return i.pathPoint2String("M",t.x+t.width,t.y)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height-e})+i.pathPoint2String("L",t.x+t.width,t.y+t.height-e)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+t.height-e,xTo:t.x+t.width-e,yTo:t.y+t.height})+i.pathPoint2String("L",t.x+t.width-e,t.y+t.height)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x-1,yTo:t.y+t.height})+i.pathPoint2String("L",t.x-1,t.y+t.height)}},function(t,e,n){(function(e){var n="Expected a function",r="__lodash_hash_undefined__",i="[object Function]",o="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,l="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,s=l||u||Function("return this")();var c,f=Array.prototype,h=Function.prototype,d=Object.prototype,g=s["__core-js_shared__"],p=(c=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",v=h.toString,m=d.hasOwnProperty,y=d.toString,w=RegExp("^"+v.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),b=f.splice,x=T(s,"Map"),k=T(Object,"create");function _(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function C(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function L(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function S(t,e){for(var n,r,i=t.length;i--;)if((n=t[i][0])===(r=e)||n!=n&&r!=r)return i;return-1}function M(t){return!(!N(t)||(e=t,p&&p in e))&&(function(t){var e=N(t)?y.call(t):"";return e==i||e==o}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?w:a).test(function(t){if(null!=t){try{return v.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function O(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function T(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return M(n)?n:void 0}function A(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(n);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(A.Cache||L),r}function N(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}_.prototype.clear=function(){this.__data__=k?k(null):{}},_.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},_.prototype.get=function(t){var e=this.__data__;if(k){var n=e[t];return n===r?void 0:n}return m.call(e,t)?e[t]:void 0},_.prototype.has=function(t){var e=this.__data__;return k?void 0!==e[t]:m.call(e,t)},_.prototype.set=function(t,e){return this.__data__[t]=k&&void 0===e?r:e,this},C.prototype.clear=function(){this.__data__=[]},C.prototype.delete=function(t){var e=this.__data__,n=S(e,t);return!(n<0||(n==e.length-1?e.pop():b.call(e,n,1),0))},C.prototype.get=function(t){var e=this.__data__,n=S(e,t);return n<0?void 0:e[n][1]},C.prototype.has=function(t){return S(this.__data__,t)>-1},C.prototype.set=function(t,e){var n=this.__data__,r=S(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},L.prototype.clear=function(){this.__data__={hash:new _,map:new(x||C),string:new _}},L.prototype.delete=function(t){return O(this,t).delete(t)},L.prototype.get=function(t){return O(this,t).get(t)},L.prototype.has=function(t){return O(this,t).has(t)},L.prototype.set=function(t,e){return O(this,t).set(t,e),this},A.Cache=L,t.exports=A}).call(this,n(13))},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i=r(n(51)),o=r(n(24)),a={"->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"}],marker:{name:"signal"}},"<->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"},{name:"marker-start",value:"url(#{{id}}{{signal-marker-start}}-{{color}})"}],marker:{name:"signal"}},"=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},">>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},"..":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"--":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"==":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"::":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},":>":{attributes:[{name:"style",value:"stroke:{{color}};"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<:>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},"-x":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}lost-{{color}})"}],marker:{name:"lost",end:""}}},l={signal:{variants:[{name:"",path:"M9,3 l-8, 2"},{name:"-u",path:"M9,3 l-8,-2"},{name:"-l",path:"M9,3 l 8, 2"},{name:"-lu",path:"M9,3 l 8,-2"}]},method:{variants:[{name:"",path:"1,1  9,3  1,5"},{name:"-l",path:"17,1 9,3 17,5"}]},callback:{variants:[{name:"",path:"M 1,1 l 8,2 l-8,2"},{name:"-l",path:"M17,1 l-8,2 l 8,2"}]},lost:{variants:[{name:"",path:"M7,0 l5,6 M7,6 l5,-6"}]}};function u(t,e,n){return e&&n&&["<->","->"].includes(t)?e<n?"signal":"signal-u":""}function s(t,e,n){return"<->"===t&&e<=n?"signal-l":"signal-lu"}function c(t,e){return a[o.default(t)].marker.name+(Boolean(e)?" "+e:" black")}function f(t,e){function n(e){f(t,e)}return Array.isArray(e)&&e.forEach(n),e.arcs&&e.arcs.forEach(n),e.kind&&a[o.default(e.kind)]&&a[o.default(e.kind)].marker&&!t.includes(c(e.kind,e.linecolor))&&t.push(c(e.kind,e.linecolor)),t}function h(t){return{kind:t.split(" ")[0],color:t.split(" ")[1]}}e.getAttributes=function(t,e,n,r,i){var o=[];return a[e]&&a[e].attributes&&(o=a[e].attributes.map(function(o){return{name:o.name,value:o.value.replace(/\{\{signal-marker-end\}\}/g,u(e,r,i)).replace(/\{\{signal-marker-start\}\}/g,s(e,r,i)).replace(/\{\{id\}\}/g,t).replace(/\{\{color\}\}/g,n||"black")}})),o},e.getMarkerDefs=function(t,e){return i.default(function(t){return t.arcs.reduce(f,[]).sort().map(h)}(e).map(function(e){return l[e.kind].variants.map(function(n){return{name:t+e.kind+n.name+"-"+e.color,path:n.path,color:e.color,type:e.kind}})}))}},function(t,e,n){(function(e){var n=9007199254740991,r="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,u=a||l||Function("return this")();function s(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var c=Object.prototype,f=c.hasOwnProperty,h=c.toString,d=u.Symbol,g=c.propertyIsEnumerable,p=d?d.isConcatSpreadable:void 0;function v(t){return m(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?h.call(t):"";return e==i||e==o}(t)}(t)}(t)&&f.call(t,"callee")&&(!g.call(t,"callee")||h.call(t)==r)}(t)||!!(p&&t&&t[p])}var m=Array.isArray;t.exports=function(t){return t&&t.length?function t(e,n,r,i,o){var a=-1,l=e.length;for(r||(r=v),o||(o=[]);++a<l;){var u=e[a];n>0&&r(u)?n>1?t(u,n-1,r,i,o):s(o,u):i||(o[o.length]=u)}return o}(t,1):[]}}).call(this,n(13))},function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=r(n(5)),a=i(n(8)),l=n(30),u={};function s(t,e){var n=u.createElement("style");return n.setAttribute("type","text/css"),n.appendChild(u.createTextNode(function(t,e){return(n=h(t.additionalTemplate)||{},r=t.styleAdditions,(n.cssBefore||"")+l.baseTemplate+(n.cssAfter||"")+(r||"")).replace(/<%=fontSize%>/g,a.default.FONT_SIZE).replace(/<%=lineWidth%>/g,a.default.LINE_WIDTH).replace(/<%=id%>/g,e);var n,r}(t,e))),n}function c(t,e,n){var r=o.createDefs();return r.appendChild(s(n,t)),r=function(t,e){return e.forEach(function(e){"method"===e.type?t.appendChild(o.createMarkerPolygon(e.name,e.path,e.color)):t.appendChild(o.createMarkerPath(e.name,e.path,e.color))}),t}(r,e)}function f(t){return o.init(t.document,{LINE_WIDTH:a.default.LINE_WIDTH,FONT_SIZE:a.default.FONT_SIZE}),t.document}function h(t){return l.namedStyles.find(function(e){return e.name===t})}e.init=f,e.bootstrap=function(t,e,n,r,i){u=f(t);var a,l,s=o.createSVG(n,n,function(t){var e="",n=h(t.additionalTemplate);return Boolean(n)&&(e=n.renderMagic),e}(i));return Boolean(i.source)&&s.appendChild(function(t,e){var n=o.createDesc();return n.appendChild(t.document.createTextNode("\n\n# Generated by mscgen_js - https://sverweij.github.io/mscgen_js\n"+e)),n}(t,i.source)),s.appendChild(c(n,r,i)),s.appendChild((a=n,(l=o.createGroup(a+"_body")).appendChild(o.createGroup(a+"_background")),l.appendChild(o.createGroup(a+"_arcspans")),l.appendChild(o.createGroup(a+"_lifelines")),l.appendChild(o.createGroup(a+"_sequence")),l.appendChild(o.createGroup(a+"_notes")),l.appendChild(o.createGroup(a+"_watermark")),l)),e.appendChild(s),u}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i=r(n(4));e.scaleCanvasToWidth=function(t,e){var n=i.default(e);return n.scale=t/n.width,n.width*=n.scale,n.height*=n.scale,n.horizontaltransform*=n.scale,n.verticaltransform*=n.scale,n.x=0-n.horizontaltransform,n.y=0-n.verticaltransform,n},e.determineDepthCorrection=function(t,e){return t?2*(t+1)*e*2:0},e.determineArcXTo=function(t,e,n){return"-x"===t?e+.75*(n-e):n}},function(t,e,n){"use strict";e.__esModule=!0;var r=[],i=0,o=0;function a(t){return r[t]?r[t]:{y:i+1.5*o+t*o,height:o,realRowNumber:r.length-1}}function l(){return a(r.length-1)}e.get=a,e.getLast=l,e.clear=function(t,e){r=[],i=t,o=e},e.getByRealRowNumber=function(t){var e=r.find(function(e){return e.realRowNumber===t});return void 0===e&&(e=l()),e},e.set=function(t,e,n){void 0===n&&(n=-1);var i=a(t-1);r[t]={y:i.y+(i.height+e)/2,height:e,realRowNumber:n}}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});e.__esModule=!0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){t.prototype.init.call(this,{supportedEntityAttributes:["label"],supportedArcAttributes:["label"],program:{opener:"",closer:""},option:{opener:"",separator:","+this.eol,closer:";"+this.eol+this.eol},entity:{opener:"",separator:","+this.eol,closer:";"+this.eol+this.eol},arcline:{opener:"",separator:","+this.eol,closer:";"+this.eol},inline:{opener:" {"+this.eol,closer:"}"},attribute:{opener:"",separator:"",closer:""}})},e.prototype.renderEntityName=function(t){return this.entityNameIsQuotable(t)?'"'+t+'"':t},e.prototype.renderAttribute=function(t){var e="";return t.name&&t.value&&(e+=' : "'+t.value+'"'),e},e.prototype.entityNameIsQuotable=function(t){var e=t.match(/[^;, "\t\n\r=\-><:{*]+/gi);return e?1!==e.length:"*"!==t},e}(n(16).XuAdaptor);e.render=function(t){return(new o).render(t)}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};e.__esModule=!0;var o=r(n(4)),a=r(n(1)),l=r(n(14)),u=i(n(22)),s=r(n(26)),c=i(n(57)),f="  ",h=40,d=0;function g(t,e){return e+'="'+function(t){var e=s.default(t.replace(/"/g,'\\"'),h),n=e.slice(0,-1).reduce(function(t,e){return t+e+"\n"},"");return n+=e.slice(-1)}(t)+'"'}function p(t,e,n){Boolean(e)&&t.push(g(e,n))}function v(t){return["label","color","fontcolor","fillcolor"].filter(function(e){return Boolean(t[e])}).map(function(e){return g(t[e],e)})}function m(t){var e="";return e=t.slice(0,-1).reduce(function(t,e){return t+e+", "}," ["),e+=t.slice(-1)+"]"}function y(t){return'"'+t+'"'}function w(t){return t.reduce(function(t,e){return t+f+function(t){return y(t.name)+m(v(t))}(e)+";\n"},"")}function b(t,e,n){var r="",i=a.default(t.kind);return r+="box"===i?function(t,e,n){var r="",i="box"+e.toString();r+=i;var o=v(t);return p(o,c.getStyle(t.kind),"style"),p(o,c.getShape(t.kind),"shape"),r+=m(o)+"\n"+f+n,p(o=[],"dotted","style"),p(o,"none","dir"),r+=i+" -- {"+y(t.from)+","+y(t.to)+"}",r+=m(o)}(t,e,n):function(t,e,n){var r="";t.label=function(t,e){return e?"("+t+") "+e:"("+t+")"}(n,t.label);var i=v(t);switch(p(i,c.getStyle(t.kind),"style"),e){case"directional":p(i,c.getArrow(t.kind),"arrowhead");break;case"bidirectional":p(i,c.getArrow(t.kind),"arrowhead"),p(i,c.getArrow(t.kind),"arrowtail"),p(i,"both","dir");break;case"nondirectional":p(i,"none","dir")}return t.arcs||(r+=y(t.from)+" ",r+="--",r+=" "+y(t.to),r+=m(i)),r}(t,i,e)}function x(t,e){return t.reduce(function(t,n){return t+n.reduce(function(t,n){return t+function(t,e){var n="";return t.from&&t.to&&(n+=f+e+b(t,++d,e)+"\n",t.arcs&&(n+=f+e+"subgraph cluster_"+d.toString()+"{",n+="\n"+f+e+' label="'+t.kind+": "+t.label+'" labeljust="l"\n',n+=x(t.arcs,e+f),n+=f+e+"}\n")),n}(n,e)},"")},"")}function k(t){return t.arcs&&t.arcs.forEach(function(e,n){e.filter(function(t){return"*"===t.to}).forEach(function(r,i){var a=o.default(r);delete t.arcs[n][i];var l=function(t,e){return t.filter(function(t){return e.from!==t.name}).map(function(t){return e.to=t.name,o.default(e)})}(t.entities,a);e[i]=l.shift(),t.arcs[n]=e.concat(l)})}),t}e.explodeBroadcasts=k,e.render=function(t){var e=function(t){return k(l.default(t,[u.nameAsLabel],[u.swapRTLArc,u.overrideColors]))}(o.default(t)),n="/* Sequence chart represented as a directed graph\n * in the graphviz dot language (http://graphviz.org/)\n *\n * Generated by mscgen_js (https://sverweij.github.io/mscgen_js)\n */\n\ngraph {\n";return n+=f+"rankdir=LR\n",n+=f+"splines=true\n",n+=f+"ordering=out\n",n+=f+'fontname="Helvetica"\n',n+=f+'fontsize="9"\n',n+=f+'node [style=filled, fillcolor=white fontname="Helvetica", fontsize="9" ]\n',n+=f+'edge [fontname="Helvetica", fontsize="9", arrowhead=vee, arrowtail=vee, dir=forward]\n',n+="\n",n+=w(e.entities)+"\n",e.arcs&&(d=0,n+=x(e.arcs,"")),n+"}"}},function(t,e,n){"use strict";e.__esModule=!0;var r=Object.freeze({"->":"rvee","<->":"rvee","=>":"normal","<=>":"normal","-x":"oinvonormal"}),i=Object.freeze({box:"box",abox:"hexagon",rbox:"box",note:"note"}),o=Object.freeze({">>":"dashed","<<>>":"dashed","..":"dashed",":>":"bold","<:>":"bold","::":"bold",rbox:"rounded"});e.getArrow=function(t){return r[t]},e.getShape=function(t){return i[t]},e.getStyle=function(t){return o[t]}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});e.__esModule=!0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){t.prototype.init.call(this,{program:{opener:" * \\msc\n",closer:" * \\endmsc"},option:{opener:" *   ",separator:",\n *   ",closer:";\n * \n"},entity:{opener:" *   ",separator:",\n *   ",closer:";\n * \n"},arcline:{opener:" *   ",separator:",\n *   ",closer:";\n"},inline:{opener:";\n",closer:" * #"}})},e.prototype.renderComments=function(){return""},e}(n(31).MscGenAdaptor);e.render=function(t){return new o(!1).render(t)}},function(t,e,n){"use strict";t.exports=(t=>encodeURIComponent(t).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},function(t,e,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],o(n),o(r))}function a(t){try{return decodeURIComponent(t)}catch(i){for(var e=t.match(r),n=1;n<e.length;n++)e=(t=o(e,n).join("")).match(r);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=i.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=a(n[0]);r!==n[0]&&(e[n[0]]=r)}n=i.exec(t)}e["%C2"]="�";for(var o=Object.keys(e),l=0;l<o.length;l++){var u=o[l];t=t.replace(new RegExp(u,"g"),e[u])}return t}(t)}}},function(t,e,n){var r=n(62),i=n(10),o=n(65);t.exports={initSamples:function(t){i.ajax("samples/interpreter-samples.json",function(e){try{window.__samples.innerHTML='<option value="none" selected="">select an example...</option>'+o.toOptionList(JSON.parse(e.target.response),t),i.ss(window.__samples).show()}catch(t){}},function(){})},initNamedStyles:function(){window.__named_styles.innerHTML=r.getAllowedValues().namedStyle.reduce(function(t,e){return t+function(t){return((t.experimental||t.deprecated?'<div class="debug" style="display:none;">':"<div>")+'<input id="__option_style_#{pNamedStyle.name}" type="radio" name="stylerg" value="#{pNamedStyle.name}"> <label for="__option_style_#{pNamedStyle.name}">#{pNamedStyle.description}</label></div>').replace(/#{pNamedStyle.name}/g,t.name).replace(/#{pNamedStyle.description}/g,t.description)}(e)},"")}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i=r(n(33)),o=r(n(63)),a=n(64);function l(t,e,n){return function(t,e){return"json"===e&&"object"==typeof t}(t,e)?t:n(e).parse(t)}function u(t,e,n){Boolean(t)&&(Boolean(e)?t(e,null):t(null,n))}e.renderMsc=function(t,e,n,r,i){var a=o.default(e,t);try{u(n,null,i().render(l(t,a.inputType,r),a.window,a.elementId,{source:a.source,styleAdditions:a.styleAdditions,additionalTemplate:a.additionalTemplate,mirrorEntitiesOnBottom:a.mirrorEntitiesOnBottom,regularArcTextVerticalAlignment:a.regularArcTextVerticalAlignment}))}catch(t){u(n,t)}},e.translateMsc=function(t,e,n,r){var i=Object.assign({inputType:"mscgen",outputType:"json"},e||{});return"ast"===i.outputType?n(i.inputType).parse(t):"json"===i.outputType?JSON.stringify(n(i.inputType).parse(t),null,"  "):r(i.outputType).render(l(t,i.inputType,n))},e.version=a.version,e.getAllowedValues=function(){return i.default}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i=r(n(33));function o(t,e,n){var r=n;return e.some(function(e){return e.name===t})&&(r=t),r}function a(t,e){return"boolean"==typeof t?t:e}e.default=function(t,e){var n,r,l,u=a(t.includeSource,!0);return{inputType:(l=t.inputType,o(l,i.default.inputType,"mscgen")),elementId:t.elementId||"__svg",window:t.window||window,includeSource:u,source:u?e:null,styleAdditions:t.styleAdditions||null,additionalTemplate:(r=t.additionalTemplate,o(r,i.default.namedStyle,"basic")),mirrorEntitiesOnBottom:a(t.mirrorEntitiesOnBottom,!1),regularArcTextVerticalAlignment:(n=t.regularArcTextVerticalAlignment,o(n,i.default.regularArcTextVerticalAlignment,"middle"))}}},function(t){t.exports={version:"3.0.0"}},function(t,e){var n=!1;function r(t,e){return t+'<option value="'+e.value+'">'+e.label+"</option>"}function i(t,e){return t+'<optgroup label="'+e.label+'">'+e.values.filter(function(t){return!t.debug||n}).reduce(r,"")+"</optgroup>"}t.exports={toOptionList:function(t,e){return n=!!e,t.reduce(i,"")}}},function(t,e){var n=!0,r=!1,i=null,o="mscgen",a=!1,l=!1,u="middle",s=!0;t.exports={getAutoRender:function(){return n},setAutoRender:function(t){n=t},getMirrorEntities:function(){return r},setMirrorEntities:function(t){r=t},getIncludeSource:function(){return s},setIncludeSource:function(t){s=t},getVerticalLabelAlignment:function(){return u},setVerticalLabelAlignment:function(t){u=t},getNamedStyle:function(){return i},setNamedStyle:function(t){i=t},getLanguage:function(){return o},setLanguage:function(t){o=t},getDebug:function(){return a},setDebug:function(t){a=t},getLinkToInterpreter:function(){return l},setLinkToInterpreter:function(t){l=t}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i=r(n(1)),o=r(n(14)),a=r(n(68)),l=0;function u(t){return function(e){if(!s(e)){var n=function(t,e){var n=t.arcColors[e];return n||t.aggregateArcColors[i.default(e)]}(t,e.kind);n&&(e.linecolor=n.linecolor,n.textcolor&&(e.textcolor=n.textcolor),e.textbgcolor=n.textbgcolor)}}}function s(t){return["linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor"].some(function(e){return Boolean(t[e])})}function c(t){return function(e){if(!s(e)){var n=function(t){var e=l;return l<t.entityColors.length-1?l+=1:l=0,t.entityColors[e]}(t);e.linecolor=n.linecolor,e.textbgcolor=n.textbgcolor,n.textcolor&&(e.textcolor=n.textcolor,e.arctextcolor=n.textcolor),e.arclinecolor=n.linecolor}}}function f(t,e,n){return l=0,o.default(n?d(t):t,[c(e)],[u(e)])}function h(t){delete t.linecolor,delete t.textcolor,delete t.textbgcolor,delete t.arclinecolor,delete t.arctextcolor,delete t.arctextbgcolor}function d(t){return o.default(t,[h],[h])}e.colorize=f,e.uncolor=d,e.applyScheme=function(t,e,n){return f(t,a.default[e]?a.default[e]:a.default.auto,n)}},function(t,e,n){"use strict";e.__esModule=!0,e.default={minimal:{entityColors:[{}],arcColors:{note:{linecolor:"black",textbgcolor:"#FFFFCC"},"---":{linecolor:"grey",textbgcolor:"white"},">>":{linecolor:"#555"},"<<":{linecolor:"#555"},"-x":{linecolor:"#500"},"x-":{linecolor:"#500"}},aggregateArcColors:{inline_expression:{linecolor:"grey"},box:{linecolor:"black",textbgcolor:"white"}}},rosy:{entityColors:[{linecolor:"maroon",textbgcolor:"#FFFFCC"}],arcColors:{note:{linecolor:"maroon",textbgcolor:"#FFFFCC"},"---":{linecolor:"grey",textbgcolor:"white"}},aggregateArcColors:{inline_expression:{linecolor:"maroon",textcolor:"maroon"},box:{linecolor:"maroon",textbgcolor:"#FFFFCC"}}},bluey:{entityColors:[{linecolor:"#00A1DE",textbgcolor:"#00A1DE",textcolor:"white"}],arcColors:{note:{linecolor:"white",textbgcolor:"#E77B2F",textcolor:"white"},"---":{linecolor:"#00A1DE",textcolor:"#005B82",textbgcolor:"white"}},aggregateArcColors:{inline_expression:{linecolor:"#00A1DE",textcolor:"#005B82"},box:{linecolor:"#00A1DE",textbgcolor:"white",textcolor:"#005B82"},emptyarc:{textcolor:"#005B82",linecolor:"#005B82"},directional:{textcolor:"#005B82",linecolor:"#005B82"},bidirectional:{textcolor:"#005B82",linecolor:"#005B82"},nondirectional:{textcolor:"#005B82",linecolor:"#005B82"}}},auto:{entityColors:[{linecolor:"#008800",textbgcolor:"#CCFFCC"},{linecolor:"#FF0000",textbgcolor:"#FFCCCC"},{linecolor:"#0000FF",textbgcolor:"#CCCCFF"},{linecolor:"#FF00FF",textbgcolor:"#FFCCFF"},{linecolor:"black",textbgcolor:"#DDDDDD"},{linecolor:"orange",textbgcolor:"#FFFFCC"},{linecolor:"#117700",textbgcolor:"#00FF00"},{linecolor:"purple",textbgcolor:"violet"},{linecolor:"grey",textbgcolor:"white"}],arcColors:{note:{linecolor:"black",textbgcolor:"#FFFFCC"},"---":{linecolor:"grey",textbgcolor:"white"}},aggregateArcColors:{inline_expression:{linecolor:"grey",textbgcolor:"white"},box:{linecolor:"black",textbgcolor:"white"}}}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i=r(n(4)),o=[{kind:"|||"}],a={entities:[],meta:{extendedArcTypes:!1,extendedFeatures:!1,extendedOptions:!1}},l=function(){function t(t,e){this.AST=a,this.arcs=[[]],this.len=0,this.noRows=0,this.position=0,this.frames=[],this.preCalculate=!1,t&&(t&&void 0!==e?this.init(t,e):this.init(t))}return t.prototype.init=function(t,e){if(this.preCalculate=!!e&&!0===e,this.AST=i.default(t),this.len=this._calculateLength(t),this.noRows=this._calcNumberOfRows(t),this.position=0,this.AST.arcs&&(this.arcs=i.default(this.AST.arcs),this.AST.arcs=[]),this.frames=[],this.preCalculate)for(var n=0;n<this.len;n++)this.frames.push(i.default(this._calculateFrame(n)))},t.prototype.setPosition=function(t){this.position=Math.min(this.len,Math.max(0,t))},t.prototype.home=function(){this.position=0},t.prototype.inc=function(t){void 0===t&&(t=1),this.setPosition(this.position+t)},t.prototype.dec=function(t){void 0===t&&(t=1),this.setPosition(this.position-t)},t.prototype.end=function(){this.position=this.len},t.prototype.getCurrentFrame=function(){return this.getFrame(this.position)},t.prototype.getFrame=function(t){return t=Math.max(0,Math.min(t,this.len-1)),this.preCalculate?this.frames[t]:this._calculateFrame(t)},t.prototype.getPosition=function(){return this.position},t.prototype.getLength=function(){return this.len},t.prototype.getPercentage=function(){return this.len>0&&this.position>0?100*Math.min(1,this.position/this.len):0},t.prototype.getNoRows=function(){return this.noRows},t.prototype._drawArcsUntilRow=function(t){var e=0,n=0;if(this.AST.arcs)for(;e<t;){this.AST.arcs[n]=[];for(var r=0;r<this.arcs[n].length&&e++<t;r++)this.AST.arcs[n].push(this.arcs[n][r]);n++}return n},t.prototype._fillDownWithEmptyArcs=function(t){if(this.AST.arcs)for(var e=t;e<this.noRows;e++)this.AST.arcs[e]=o},t.prototype._calculateFrame=function(t){t=Math.min(t,this.len-1),this.len-1>0&&(this.AST.arcs=[]);var e=this._drawArcsUntilRow(t);return this._fillDownWithEmptyArcs(e),this.AST},t.prototype._calculateLength=function(t){var e=this,n=1;return t.arcs&&(n=t.arcs.reduce(function(t,n){return t+(Boolean(n[0].arcs)?e._calculateLength(n[0]):n.length)},n)),n},t.prototype._calcNumberOfRows=function(t){var e=this,n=0;return t.arcs&&(n=t.arcs.reduce(function(t,n){return t+(Boolean(n[0].arcs)?e._calcNumberOfRows(n[0])+2:1)},n)),n},t}();e.FrameFactory=l},function(t,e,n){var r=n(3),i=n(34),o=n(19),a=n(18),l=n(71),u=n(7),s=n(11),c=n(2);function f(t){return function(e,n){var r=document.getElementById(t);n?(window.__export_too_big.style.display="block",r.href="#",r.style.display="none"):(window.__export_too_big.style.display="none",r.href=e,r.style.display="flex")}}t.exports={svgOnDblClick:null,showSaveAsOnClick:function(){window.__save_as_svg.href=a.toVectorURI(u.webkitNamespaceBugWorkaround(window.__svg.innerHTML)),l.toRasterURI(document,window.__svg,"image/png",f("__save_as_png")),l.toRasterURI(document,window.__svg,"image/jpeg",f("__save_as_jpeg")),s.togglePanel(window.__save_as_panel,function(){c.g("send","event","saveas.open","button")},function(){c.g("send","event","saveas.close","button")})},htmlOnClick:function(){window.open(a.toHTMLSnippetURI(r.getSource(),r.getLanguage(),{withLinkToEditor:r.getLinkToInterpeter(),mirrorEntities:r.getMirrorEntities(),verticalLabelAlignment:r.getVerticalLabelAlignment(),namedStyle:r.getNamedStyle()})),c.g("send","event","show_html","button")},dotOnClick:function(){window.open(a.todotURI(r.getAST())),c.g("send","event","show_dot","button")},vanillaOnClick:function(){window.open(a.toVanillaMscGenURI(r.getAST())),c.g("send","event","show_vanilla","button")},doxygenOnClick:function(){window.open(a.toDoxygenURI(r.getAST())),c.g("send","event","show_doxygen","button")},urlOnClick:function(){window.history.replaceState({},"",a.toLocationString(window.location,r.getSource(),r.getLanguage(),r.getMirrorEntities(),r.getNamedStyle())),c.g("send","event","show_url","button")},animOnClick:function(){try{i.initialize(r.getAST(),r.getMirrorEntities())}catch(t){}c.g("send","event","show_anim","button")},errorOnClick:function(){r.errorOnClick(),c.g("send","event","link","error")},renderOptionsOnClick:function(){s.togglePanel(window.__render_options_panel,function(){c.g("send","event","renderoptions.open","button")},function(){c.g("send","event","renderoptions.close","button")})},closeRenderOptions:function(){s.hideAllPanels(),c.g("send","event","renderoptions.close","button")},optionMirrorEntitiesOnClick:function(t){r.setMirrorEntities(t.target.checked),r.requestRender(),o.saveSettings(r),c.g("send","event","renderoptions.mirrorentities",t.target.checked)},optionIncludeSourceOnClick:function(t){r.setIncludeSource(t.target.checked),r.requestRender(),o.saveSettings(r),c.g("send","event","renderoptions.includesource",t.target.checked)},optionVerticalLabelAlignmentOnChange:function(t){r.setVerticalLabelAlignment(t.target.value),r.requestRender(),o.saveSettings(r),c.g("send","event","renderoptions.verticalLabelAlignment",t.target.value)},styleOnClick:function(t){r.setNamedStyle(t.target.value),r.requestRender(),o.saveSettings(r),c.g("send","event","renderoptions.style",t.target.value)},moreExportOptionsOnClick:function(){s.togglePanel(window.__output_panel,function(){c.g("send","event","export.open","button")},function(){c.g("send","event","export.close","button")})},closeExportOptions:function(){s.hideAllPanels(),c.g("send","event","exportPanel.close","button")},closeSaveAsOptions:function(){s.hideAllPanels(),c.g("send","event","saveasPanel.close","button")}}},function(t,e,n){var r=n(7);t.exports={toRasterURI:function(t,e,n,i){var o,a,l=t.createElement("img");l.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((o=r.webkitNamespaceBugWorkaround(e.innerHTML),(a=e.firstElementChild.viewBox)&&a.baseVal?o.replace('width="100%"','width="'+a.baseVal.width+'"').replace('height="100%"','height="'+a.baseVal.height+'"'):o)),l.addEventListener("load",function(e){var r=t.createElement("canvas"),o=r.getContext("2d"),a=e.target;a.width>32767||a.height>32767?i(null,"image-too-big"):(r.width=a.width,r.height=a.height,o.drawImage(a,0,0),i(r.toDataURL(n,.8)))})}}},function(t,e,n){var r=n(3),i=n(18),o=n(11),a=n(2);t.exports={closeCheatSheet:function(){o.hideAllPanels(),a.g("send","event","close_source_lightbox","button")},closeEmbedSheet:function(){o.hideAllPanels(),a.g("send","event","close_embedsheet","button")},closeAboutSheet:function(){o.hideAllPanels(),a.g("send","event","close_aboutsheet","button")},helpMeOnClick:function(){o.togglePanel(window.__learn_panel,function(){a.g("send","event","link","helpme")},function(){a.g("send","event","close_helpme","button")})},embedMeOnClick:function(){window.__embedsnippet.textContent=i.toHTMLSnippet(r.getSource(),r.getLanguage(),{withLinkToEditor:r.getLinkToInterpeter(),mirrorEntities:r.getMirrorEntities(),verticalLabelAlignment:r.getVerticalLabelAlignment(),namedStyle:r.getNamedStyle()}),o.togglePanel(window.__embed_panel,function(){a.g("send","event","link","embedme")},function(){a.g("send","event","close_embedsheet","button")})},linkToInterpreterOnClick:function(){r.setLinkToInterpeter(!r.getLinkToInterpeter()),window.__embedsnippet.textContent=i.toHTMLSnippet(r.getSource(),r.getLanguage(),{withLinkToEditor:r.getLinkToInterpeter(),mirrorEntities:r.getMirrorEntities(),verticalLabelAlignment:r.getVerticalLabelAlignment(),namedStyle:r.getNamedStyle()}),r.setAutoRender(r.getAutoRender()),a.g("send","event","toggle_autorender","checkbox")},aboutOnClick:function(){o.togglePanel(window.__aboutsheet,function(){a.g("send","event","link","about")},function(){a.g("send","event","close_aboutsheet","button")})}}},function(t,e,n){var r=n(3);const i=n(32);var o=n(19),a=n(10),l=n(2),u=n(17);t.exports={processParams:function(){var t,e=i.parse(window.location.search);t=u.sanitizeBooleanesque(e.donottrack),l.gaSetup(!t),l.g("create","{{trackingid}}","{{host}}"),l.g("send","pageview"),r.setDebug(u.sanitizeBooleanesque(e.debug)),e.debug&&l.g("send","event","debug",u.sanitizeBooleanesque(e.debug)),r.getDebug()?o.load(r):o.loadSettings(r),e.mirrorentities&&(r.setMirrorEntities(u.sanitizeBooleanesque(e.mirrorentities)),l.g("send","event","paramslikker.mirrorentities",e.mirrorentities)),e.style&&(r.setNamedStyle(e.style),l.g("send","event","paramslikker.style",e.style)),e.lang&&(r.setLanguage(e.lang),l.g("send","event","paramslikker.lang",e.lang)),e.msc?(r.setSource(e.msc),l.g("send","event","paramslikker.msc")):r.getSource().length<=0&&r.setSample()},tagAllLinks:function(){a.attachEventHandler("a[href]","click",function(t){var e="unknown";t.currentTarget&&(t.currentTarget.href&&(e=t.currentTarget.href),t.currentTarget.download&&t.currentTarget.type&&(e=t.currentTarget.type)),l.g("send","event","link",e)})}}},function(t,e,n){var r=n(3),i=n(0),o=n(17),a=n(2);n(75),n(76),n(77),n(35),n(36),n(78),n(79),n(80),n(81);var l=0,u={},s={},c=500;function f(t){return t.reduce(function(t,e){return t+e.length},0)}function h(){u.on("change",function(t,e){var n;n=function(t){return Math.max(f(t.text),f(t.removed))>1}(e),""===r.getSource()?r.preRenderReset():n?r.requestRender():r.getAutoRender()&&(window.clearTimeout(s),s=window.setTimeout(d,c)),l>17?(l=0,a.g("send","event","17 characters typed",r.getLanguage())):l++}),u.on("drop",function(t,e){e.dataTransfer.files.length>0&&(r.setLanguage(o.classifyExtension(e.dataTransfer.files[0].name)),r.setSource(""),a.g("send","event","drop",r.getLanguage()))})}function d(){r.requestRender(),window.clearTimeout(s)}t.exports={init:function(t){!function(t){u=i.fromTextArea(t,{lineNumbers:!0,autoCloseBrackets:!0,autofocus:!0,matchBrackets:!0,styleActiveLine:!0,theme:"blackboard",mode:"xu",placeholder:"Type your text. Or drag a file to this area....",lineWrapping:!1})}(t),r.init(u),h()}}},function(t,e,n){!function(t){var e={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},n=t.Pos;function r(t,n){return"pairs"==n&&"string"==typeof t?t:"object"==typeof t&&null!=t[n]?t[n]:e[n]}t.defineOption("autoCloseBrackets",!1,function(e,n,a){a&&a!=t.Init&&(e.removeKeyMap(i),e.state.closeBrackets=null),n&&(o(r(n,"pairs")),e.state.closeBrackets=n,e.addKeyMap(i))});var i={Backspace:function(e){var i=l(e);if(!i||e.getOption("disableInput"))return t.Pass;for(var o=r(i,"pairs"),a=e.listSelections(),s=0;s<a.length;s++){if(!a[s].empty())return t.Pass;var c=u(e,a[s].head);if(!c||o.indexOf(c)%2!=0)return t.Pass}for(var s=a.length-1;s>=0;s--){var f=a[s].head;e.replaceRange("",n(f.line,f.ch-1),n(f.line,f.ch+1),"+delete")}},Enter:function(e){var n=l(e),i=n&&r(n,"explode");if(!i||e.getOption("disableInput"))return t.Pass;for(var o=e.listSelections(),a=0;a<o.length;a++){if(!o[a].empty())return t.Pass;var s=u(e,o[a].head);if(!s||i.indexOf(s)%2!=0)return t.Pass}e.operation(function(){var t=e.lineSeparator()||"\n";e.replaceSelection(t+t,null),e.execCommand("goCharLeft"),o=e.listSelections();for(var n=0;n<o.length;n++){var r=o[n].head.line;e.indentLine(r,null,!0),e.indentLine(r+1,null,!0)}})}};function o(t){for(var e=0;e<t.length;e++){var n=t.charAt(e),r="'"+n+"'";i[r]||(i[r]=a(n))}}function a(e){return function(i){return function(e,i){var o=l(e);if(!o||e.getOption("disableInput"))return t.Pass;var a=r(o,"pairs"),u=a.indexOf(i);if(-1==u)return t.Pass;for(var c,f=r(o,"triples"),h=a.charAt(u+1)==i,d=e.listSelections(),g=u%2==0,p=0;p<d.length;p++){var v,m=d[p],y=m.head,w=e.getRange(y,n(y.line,y.ch+1));if(g&&!m.empty())v="surround";else if(!h&&g||w!=i)if(h&&y.ch>1&&f.indexOf(i)>=0&&e.getRange(n(y.line,y.ch-2),y)==i+i){if(y.ch>2&&/\bstring/.test(e.getTokenTypeAt(n(y.line,y.ch-2))))return t.Pass;v="addFour"}else if(h){var b=0==y.ch?" ":e.getRange(n(y.line,y.ch-1),y);if(t.isWordChar(w)||b==i||t.isWordChar(b))return t.Pass;v="both"}else{if(!g)return t.Pass;v="both"}else v=h&&s(e,y)?"both":f.indexOf(i)>=0&&e.getRange(y,n(y.line,y.ch+3))==i+i+i?"skipThree":"skip";if(c){if(c!=v)return t.Pass}else c=v}var x=u%2?a.charAt(u-1):i,k=u%2?i:a.charAt(u+1);e.operation(function(){if("skip"==c)e.execCommand("goCharRight");else if("skipThree"==c)for(var r=0;r<3;r++)e.execCommand("goCharRight");else if("surround"==c){for(var i=e.getSelections(),r=0;r<i.length;r++)i[r]=x+i[r]+k;e.replaceSelections(i,"around"),i=e.listSelections().slice();for(var r=0;r<i.length;r++)i[r]=(o=i[r],a=void 0,a=t.cmpPos(o.anchor,o.head)>0,{anchor:new n(o.anchor.line,o.anchor.ch+(a?-1:1)),head:new n(o.head.line,o.head.ch+(a?1:-1))});e.setSelections(i)}else"both"==c?(e.replaceSelection(x+k,null),e.triggerElectric(x+k),e.execCommand("goCharLeft")):"addFour"==c&&(e.replaceSelection(x+x+x+x,"before"),e.execCommand("goCharRight"));var o,a})}(i,e)}}function l(t){var e=t.state.closeBrackets;if(!e||e.override)return e;var n=t.getModeAt(t.getCursor());return n.closeBrackets||e}function u(t,e){var r=t.getRange(n(e.line,e.ch-1),n(e.line,e.ch+1));return 2==r.length?r:null}function s(t,e){var r=t.getTokenAt(n(e.line,e.ch+1));return/\bstring/.test(r.type)&&r.start==e.ch&&(0==e.ch||!/\bstring/.test(t.getTokenTypeAt(e)))}o(e.pairs+"`")}(n(0))},function(t,e,n){!function(t){var e=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=t.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function i(t){return t&&t.bracketRegex||/[(){}[\]]/}function o(t,e,o){var l=t.getLineHandle(e.line),u=e.ch-1,s=o&&o.afterCursor;null==s&&(s=/(^| )cm-fat-cursor($| )/.test(t.getWrapperElement().className));var c=i(o),f=!s&&u>=0&&c.test(l.text.charAt(u))&&r[l.text.charAt(u)]||c.test(l.text.charAt(u+1))&&r[l.text.charAt(++u)];if(!f)return null;var h=">"==f.charAt(1)?1:-1;if(o&&o.strict&&h>0!=(u==e.ch))return null;var d=t.getTokenTypeAt(n(e.line,u+1)),g=a(t,n(e.line,u+(h>0?1:0)),h,d||null,o);return null==g?null:{from:n(e.line,u),to:g&&g.pos,match:g&&g.ch==f.charAt(0),forward:h>0}}function a(t,e,o,a,l){for(var u=l&&l.maxScanLineLength||1e4,s=l&&l.maxScanLines||1e3,c=[],f=i(l),h=o>0?Math.min(e.line+s,t.lastLine()+1):Math.max(t.firstLine()-1,e.line-s),d=e.line;d!=h;d+=o){var g=t.getLine(d);if(g){var p=o>0?0:g.length-1,v=o>0?g.length:-1;if(!(g.length>u))for(d==e.line&&(p=e.ch-(o<0?1:0));p!=v;p+=o){var m=g.charAt(p);if(f.test(m)&&(void 0===a||t.getTokenTypeAt(n(d,p+1))==a)){var y=r[m];if(">"==y.charAt(1)==o>0)c.push(m);else{if(!c.length)return{pos:n(d,p),ch:m};c.pop()}}}}}return d-o!=(o>0?t.lastLine():t.firstLine())&&null}function l(t,r,i){for(var a=t.state.matchBrackets.maxHighlightLineLength||1e3,l=[],u=t.listSelections(),s=0;s<u.length;s++){var c=u[s].empty()&&o(t,u[s].head,i);if(c&&t.getLine(c.from.line).length<=a){var f=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";l.push(t.markText(c.from,n(c.from.line,c.from.ch+1),{className:f})),c.to&&t.getLine(c.to.line).length<=a&&l.push(t.markText(c.to,n(c.to.line,c.to.ch+1),{className:f}))}}if(l.length){e&&t.state.focused&&t.focus();var h=function(){t.operation(function(){for(var t=0;t<l.length;t++)l[t].clear()})};if(!r)return h;setTimeout(h,800)}}function u(t){t.operation(function(){t.state.matchBrackets.currentlyHighlighted&&(t.state.matchBrackets.currentlyHighlighted(),t.state.matchBrackets.currentlyHighlighted=null),t.state.matchBrackets.currentlyHighlighted=l(t,!1,t.state.matchBrackets)})}t.defineOption("matchBrackets",!1,function(e,n,r){r&&r!=t.Init&&(e.off("cursorActivity",u),e.state.matchBrackets&&e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null)),n&&(e.state.matchBrackets="object"==typeof n?n:{},e.on("cursorActivity",u))}),t.defineExtension("matchBrackets",function(){l(this,!0)}),t.defineExtension("findMatchingBracket",function(t,e,n){return(n||"boolean"==typeof e)&&(n?(n.strict=e,e=n):e=e?{strict:!0}:null),o(this,t,e)}),t.defineExtension("scanForBracket",function(t,e,n,r){return a(this,t,e,n,r)})}(n(0))},function(t,e,n){!function(t){function e(t){t.state.placeholder&&(t.state.placeholder.parentNode.removeChild(t.state.placeholder),t.state.placeholder=null)}function n(t){e(t);var n=t.state.placeholder=document.createElement("pre");n.style.cssText="height: 0; overflow: visible",n.style.direction=t.getOption("direction"),n.className="CodeMirror-placeholder";var r=t.getOption("placeholder");"string"==typeof r&&(r=document.createTextNode(r)),n.appendChild(r),t.display.lineSpace.insertBefore(n,t.display.lineSpace.firstChild)}function r(t){o(t)&&n(t)}function i(t){var r=t.getWrapperElement(),i=o(t);r.className=r.className.replace(" CodeMirror-empty","")+(i?" CodeMirror-empty":""),i?n(t):e(t)}function o(t){return 1===t.lineCount()&&""===t.getLine(0)}t.defineOption("placeholder","",function(n,o,a){var l=a&&a!=t.Init;if(o&&!l)n.on("blur",r),n.on("change",i),n.on("swapDoc",i),i(n);else if(!o&&l){n.off("blur",r),n.off("change",i),n.off("swapDoc",i),e(n);var u=n.getWrapperElement();u.className=u.className.replace(" CodeMirror-empty","")}o&&!n.hasFocus()&&r(n)})}(n(0))},function(t,e,n){!function(t){"use strict";function e(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function n(t){return t.state.search||(t.state.search=new e)}function r(t){return"string"==typeof t&&t==t.toLowerCase()}function i(t,e,n){return t.getSearchCursor(e,n,{caseFold:r(e),multiline:!0})}function o(t,e,n,r,i){t.openDialog?t.openDialog(e,i,{value:r,selectValueOnOpen:!0}):i(prompt(n,r))}function a(t){return t.replace(/\\(.)/g,function(t,e){return"n"==e?"\n":"r"==e?"\r":e})}function l(t){var e=t.match(/^\/(.*)\/([a-z]*)$/);if(e)try{t=new RegExp(e[1],-1==e[2].indexOf("i")?"":"i")}catch(t){}else t=a(t);return("string"==typeof t?""==t:t.test(""))&&(t=/x^/),t}function u(t,e,n){e.queryText=n,e.query=l(n),t.removeOverlay(e.overlay,r(e.query)),e.overlay=function(t,e){return"string"==typeof t?t=new RegExp(t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),e?"gi":"g"):t.global||(t=new RegExp(t.source,t.ignoreCase?"gi":"g")),{token:function(e){t.lastIndex=e.pos;var n=t.exec(e.string);if(n&&n.index==e.pos)return e.pos+=n[0].length||1,"searching";n?e.pos=n.index:e.skipToEnd()}}}(e.query,r(e.query)),t.addOverlay(e.overlay),t.showMatchesOnScrollbar&&(e.annotate&&(e.annotate.clear(),e.annotate=null),e.annotate=t.showMatchesOnScrollbar(e.query,r(e.query)))}function s(e,r,i,a){var l=n(e);if(l.query)return c(e,r);var s=e.getSelection()||l.lastQuery;if(s instanceof RegExp&&"x^"==s.source&&(s=null),i&&e.openDialog){var d=null,g=function(n,r){t.e_stop(r),n&&(n!=l.queryText&&(u(e,l,n),l.posFrom=l.posTo=e.getCursor()),d&&(d.style.opacity=1),c(e,r.shiftKey,function(t,n){var r;n.line<3&&document.querySelector&&(r=e.display.wrapper.querySelector(".CodeMirror-dialog"))&&r.getBoundingClientRect().bottom-4>e.cursorCoords(n,"window").top&&((d=r).style.opacity=.4)}))};!function(t,e,n,r,i){t.openDialog(e,r,{value:n,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){f(t)},onKeyDown:i})}(e,h(e),s,g,function(r,i){var o=t.keyName(r),a=e.getOption("extraKeys"),l=a&&a[o]||t.keyMap[e.getOption("keyMap")][o];"findNext"==l||"findPrev"==l||"findPersistentNext"==l||"findPersistentPrev"==l?(t.e_stop(r),u(e,n(e),i),e.execCommand(l)):"find"!=l&&"findPersistent"!=l||(t.e_stop(r),g(i,r))}),a&&s&&(u(e,l,s),c(e,r))}else o(e,h(e),"Search for:",s,function(t){t&&!l.query&&e.operation(function(){u(e,l,t),l.posFrom=l.posTo=e.getCursor(),c(e,r)})})}function c(e,r,o){e.operation(function(){var a=n(e),l=i(e,a.query,r?a.posFrom:a.posTo);(l.find(r)||(l=i(e,a.query,r?t.Pos(e.lastLine()):t.Pos(e.firstLine(),0))).find(r))&&(e.setSelection(l.from(),l.to()),e.scrollIntoView({from:l.from(),to:l.to()},20),a.posFrom=l.from(),a.posTo=l.to(),o&&o(l.from(),l.to()))})}function f(t){t.operation(function(){var e=n(t);e.lastQuery=e.query,e.query&&(e.query=e.queryText=null,t.removeOverlay(e.overlay),e.annotate&&(e.annotate.clear(),e.annotate=null))})}function h(t){return'<span class="CodeMirror-search-label">'+t.phrase("Search:")+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+t.phrase("(Use /re/ syntax for regexp search)")+"</span>"}function d(t,e,n){t.operation(function(){for(var r=i(t,e);r.findNext();)if("string"!=typeof e){var o=t.getRange(r.from(),r.to()).match(e);r.replace(n.replace(/\$(\d)/g,function(t,e){return o[e]}))}else r.replace(n)})}function g(t,e){if(!t.getOption("readOnly")){var r=t.getSelection()||n(t).lastQuery,u='<span class="CodeMirror-search-label">'+(e?t.phrase("Replace all:"):t.phrase("Replace:"))+"</span>";o(t,u+function(t){return' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+t.phrase("(Use /re/ syntax for regexp search)")+"</span>"}(t),u,r,function(n){n&&(n=l(n),o(t,function(t){return'<span class="CodeMirror-search-label">'+t.phrase("With:")+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/>'}(t),t.phrase("Replace with:"),"",function(r){if(r=a(r),e)d(t,n,r);else{f(t);var o=i(t,n,t.getCursor("from")),l=function(){var e,a=o.from();!(e=o.findNext())&&(o=i(t,n),!(e=o.findNext())||a&&o.from().line==a.line&&o.from().ch==a.ch)||(t.setSelection(o.from(),o.to()),t.scrollIntoView({from:o.from(),to:o.to()}),function(t,e,n,r){t.openConfirm?t.openConfirm(e,r):confirm(n)&&r[0]()}(t,function(t){return'<span class="CodeMirror-search-label">'+t.phrase("Replace?")+"</span> <button>"+t.phrase("Yes")+"</button> <button>"+t.phrase("No")+"</button> <button>"+t.phrase("All")+"</button> <button>"+t.phrase("Stop")+"</button> "}(t),t.phrase("Replace?"),[function(){u(e)},l,function(){d(t,n,r)}]))},u=function(t){o.replace("string"==typeof n?r:r.replace(/\$(\d)/g,function(e,n){return t[n]})),l()};l()}}))})}}t.commands.find=function(t){f(t),s(t)},t.commands.findPersistent=function(t){f(t),s(t,!1,!0)},t.commands.findPersistentNext=function(t){s(t,!1,!0,!0)},t.commands.findPersistentPrev=function(t){s(t,!0,!0,!0)},t.commands.findNext=s,t.commands.findPrev=function(t){s(t,!0)},t.commands.clearSearch=f,t.commands.replace=g,t.commands.replaceAll=function(t){g(t,!0)}}(n(0),n(36),n(35))},function(t,e,n){!function(t){"use strict";var e="CodeMirror-activeline",n="CodeMirror-activeline-background",r="CodeMirror-activeline-gutter";function i(t){for(var i=0;i<t.state.activeLines.length;i++)t.removeLineClass(t.state.activeLines[i],"wrap",e),t.removeLineClass(t.state.activeLines[i],"background",n),t.removeLineClass(t.state.activeLines[i],"gutter",r)}function o(t,o){for(var a=[],l=0;l<o.length;l++){var u=o[l],s=t.getOption("styleActiveLine");if("object"==typeof s&&s.nonEmpty?u.anchor.line==u.head.line:u.empty()){var c=t.getLineHandleVisualStart(u.head.line);a[a.length-1]!=c&&a.push(c)}}(function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0})(t.state.activeLines,a)||t.operation(function(){i(t);for(var o=0;o<a.length;o++)t.addLineClass(a[o],"wrap",e),t.addLineClass(a[o],"background",n),t.addLineClass(a[o],"gutter",r);t.state.activeLines=a})}function a(t,e){o(t,e.ranges)}t.defineOption("styleActiveLine",!1,function(e,n,r){var l=r!=t.Init&&r;n!=l&&(l&&(e.off("beforeSelectionChange",a),i(e),delete e.state.activeLines),n&&(e.state.activeLines=[],o(e,e.listSelections()),e.on("beforeSelectionChange",a)))})}(n(0))},function(t,e,n){!function(t){"use strict";var e={mscgen:{keywords:["msc"],options:["hscale","width","arcgradient","wordwraparcs"],constants:["true","false","on","off"],attributes:["label","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"],brackets:["\\{","\\}"],arcsWords:["note","abox","rbox","box"],arcsOthers:["\\|\\|\\|","\\.\\.\\.","---","--","<->","==","<<=>>","<=>","\\.\\.","<<>>","::","<:>","->","=>>","=>",">>",":>","<-","<<=","<=","<<","<:","x-","-x"],singlecomment:["//","#"],operators:["="]},xu:{keywords:["msc","xu"],options:["hscale","width","arcgradient","wordwraparcs","wordwrapentities","watermark"],constants:["true","false","on","off","auto"],attributes:["label","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip","title","deactivate","activate","activation"],brackets:["\\{","\\}"],arcsWords:["note","abox","rbox","box","alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"],arcsOthers:["\\|\\|\\|","\\.\\.\\.","---","--","<->","==","<<=>>","<=>","\\.\\.","<<>>","::","<:>","->","=>>","=>",">>",":>","<-","<<=","<=","<<","<:","x-","-x"],singlecomment:["//","#"],operators:["="]},msgenny:{keywords:null,options:["hscale","width","arcgradient","wordwraparcs","wordwrapentities","watermark"],constants:["true","false","on","off","auto"],attributes:null,brackets:["\\{","\\}"],arcsWords:["note","abox","rbox","box","alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"],arcsOthers:["\\|\\|\\|","\\.\\.\\.","---","--","<->","==","<<=>>","<=>","\\.\\.","<<>>","::","<:>","->","=>>","=>",">>",":>","<-","<<=","<=","<<","<:","x-","-x"],singlecomment:["//","#"],operators:["="]}};function n(t){return new RegExp("\\b("+t.join("|")+")\\b","i")}function r(t){return new RegExp("("+t.join("|")+")","i")}function i(){return{inComment:!1,inString:!1,inAttributeList:!1,inScript:!1}}function o(t){return{inComment:t.inComment,inString:t.inString,inAttributeList:t.inAttributeList,inScript:t.inScript}}t.defineMode("mscgen",function(t,a){var l,u=e[a&&a.language||"mscgen"];return{startState:i,copyState:o,token:(l=u,function(t,e){if(t.match(r(l.brackets),!0,!0))return"bracket";if(!e.inComment){if(t.match(/\/\*[^\*\/]*/,!0,!0))return e.inComment=!0,"comment";if(t.match(r(l.singlecomment),!0,!0))return t.skipToEnd(),"comment"}if(e.inComment)return t.match(/[^\*\/]*\*\//,!0,!0)?e.inComment=!1:t.skipToEnd(),"comment";if(!e.inString&&t.match(/\"(\\\"|[^\"])*/,!0,!0))return e.inString=!0,"string";if(e.inString)return t.match(/[^\"]*\"/,!0,!0)?e.inString=!1:t.skipToEnd(),"string";if(l.keywords&&t.match(n(l.keywords),!0,!0))return"keyword";if(t.match(n(l.options),!0,!0))return"keyword";if(t.match(n(l.arcsWords),!0,!0))return"keyword";if(t.match(r(l.arcsOthers),!0,!0))return"keyword";if(l.operators&&t.match(r(l.operators),!0,!0))return"operator";if(l.constants&&t.match(r(l.constants),!0,!0))return"variable";if(!l.inAttributeList&&l.attributes&&t.match(/\[/,!0,!0))return l.inAttributeList=!0,"bracket";if(l.inAttributeList){if(null!==l.attributes&&t.match(n(l.attributes),!0,!0))return"attribute";if(t.match(/]/,!0,!0))return l.inAttributeList=!1,"bracket"}return t.next(),"base"}),lineComment:"#",blockCommentStart:"/*",blockCommentEnd:"*/"}}),t.defineMIME("text/x-mscgen","mscgen"),t.defineMIME("text/x-xu",{name:"mscgen",language:"xu"}),t.defineMIME("text/x-msgenny",{name:"mscgen",language:"msgenny"})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineMode("javascript",function(e,n){var r,i,o=e.indentUnit,a=n.statementIndent,l=n.jsonld,u=n.json||l,s=n.typescript,c=n.wordCharacters||/[\w$\xa1-\uffff]/,f=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),n=t("keyword b"),r=t("keyword c"),i=t("keyword d"),o=t("operator"),a={type:"atom",style:"atom"};return{if:t("if"),while:e,with:e,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:t("new"),delete:r,void:r,throw:r,debugger:t("debugger"),var:t("var"),const:t("var"),let:t("var"),function:t("function"),catch:t("catch"),for:t("for"),switch:t("switch"),case:t("case"),default:t("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:t("this"),class:t("class"),super:t("atom"),yield:r,export:t("export"),import:t("import"),extends:r,await:r}}(),h=/[+\-*&%=<>!?|~^@]/,d=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function g(t,e,n){return r=t,i=n,e}function p(t,e){var n,r=t.next();if('"'==r||"'"==r)return e.tokenize=(n=r,function(t,e){var r,i=!1;if(l&&"@"==t.peek()&&t.match(d))return e.tokenize=p,g("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=n||i);)i=!i&&"\\"==r;return i||(e.tokenize=p),g("string","string")}),e.tokenize(t,e);if("."==r&&t.match(/^\d+(?:[eE][+\-]?\d+)?/))return g("number","number");if("."==r&&t.match(".."))return g("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return g(r);if("="==r&&t.eat(">"))return g("=>","operator");if("0"==r&&t.match(/^(?:x[\da-f]+|o[0-7]+|b[01]+)n?/i))return g("number","number");if(/\d/.test(r))return t.match(/^\d*(?:n|(?:\.\d*)?(?:[eE][+\-]?\d+)?)?/),g("number","number");if("/"==r)return t.eat("*")?(e.tokenize=v,v(t,e)):t.eat("/")?(t.skipToEnd(),g("comment","comment")):Xt(t,e,1)?(function(t){for(var e,n=!1,r=!1;null!=(e=t.next());){if(!n){if("/"==e&&!r)return;"["==e?r=!0:r&&"]"==e&&(r=!1)}n=!n&&"\\"==e}}(t),t.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),g("regexp","string-2")):(t.eat("="),g("operator","operator",t.current()));if("`"==r)return e.tokenize=m,m(t,e);if("#"==r)return t.skipToEnd(),g("error","error");if(h.test(r))return">"==r&&e.lexical&&">"==e.lexical.type||(t.eat("=")?"!"!=r&&"="!=r||t.eat("="):/[<>*+\-]/.test(r)&&(t.eat(r),">"==r&&t.eat(r))),g("operator","operator",t.current());if(c.test(r)){t.eatWhile(c);var i=t.current();if("."!=e.lastType){if(f.propertyIsEnumerable(i)){var o=f[i];return g(o.type,o.style,i)}if("async"==i&&t.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return g("async","keyword",i)}return g("variable","variable",i)}}function v(t,e){for(var n,r=!1;n=t.next();){if("/"==n&&r){e.tokenize=p;break}r="*"==n}return g("comment","comment")}function m(t,e){for(var n,r=!1;null!=(n=t.next());){if(!r&&("`"==n||"$"==n&&t.eat("{"))){e.tokenize=p;break}r=!r&&"\\"==n}return g("quasi","string-2",t.current())}var y="([{}])";function w(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var n=t.string.indexOf("=>",t.start);if(!(n<0)){if(s){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(t.string.slice(t.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var l=t.string.charAt(a),u=y.indexOf(l);if(u>=0&&u<3){if(!i){++a;break}if(0==--i){"("==l&&(o=!0);break}}else if(u>=3&&u<6)++i;else if(c.test(l))o=!0;else{if(/["'\/]/.test(l))return;if(o&&!i){++a;break}}}o&&!i&&(e.fatArrowAt=a)}}var b={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function x(t,e,n,r,i,o){this.indented=t,this.column=e,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function k(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0;for(var r=t.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==e)return!0}var _={state:null,column:null,marked:null,cc:null};function C(){for(var t=arguments.length-1;t>=0;t--)_.cc.push(arguments[t])}function L(){return C.apply(null,arguments),!0}function S(t,e){for(var n=e;n;n=n.next)if(n.name==t)return!0;return!1}function M(t){var e=_.state;if(_.marked="def",e.context)if("var"==e.lexical.info&&e.context&&e.context.block){var r=function t(e,n){if(n){if(n.block){var r=t(e,n.prev);return r?r==n.prev?n:new T(r,n.vars,!0):null}return S(e,n.vars)?n:new T(n.prev,new A(e,n.vars),!1)}return null}(t,e.context);if(null!=r)return void(e.context=r)}else if(!S(t,e.localVars))return void(e.localVars=new A(t,e.localVars));n.globalVars&&!S(t,e.globalVars)&&(e.globalVars=new A(t,e.globalVars))}function O(t){return"public"==t||"private"==t||"protected"==t||"abstract"==t||"readonly"==t}function T(t,e,n){this.prev=t,this.vars=e,this.block=n}function A(t,e){this.name=t,this.next=e}var N=new A("this",new A("arguments",null));function E(){_.state.context=new T(_.state.context,_.state.localVars,!1),_.state.localVars=N}function D(){_.state.context=new T(_.state.context,_.state.localVars,!0),_.state.localVars=null}function B(){_.state.localVars=_.state.context.vars,_.state.context=_.state.context.prev}function F(t,e){var n=function(){var n=_.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new x(r,_.stream.column(),t,null,n.lexical,e)};return n.lex=!0,n}function W(){var t=_.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function H(t){return function e(n){return n==t?L():";"==t||"}"==n||")"==n||"]"==n?C():L(e)}}function P(t,e){return"var"==t?L(F("vardef",e),yt,H(";"),W):"keyword a"==t?L(F("form"),j,P,W):"keyword b"==t?L(F("form"),P,W):"keyword d"==t?_.stream.match(/^\s*$/,!1)?L():L(F("stat"),U,H(";"),W):"debugger"==t?L(H(";")):"{"==t?L(F("}"),D,at,W,B):";"==t?L():"if"==t?("else"==_.state.lexical.info&&_.state.cc[_.state.cc.length-1]==W&&_.state.cc.pop()(),L(F("form"),j,P,W,Ct)):"function"==t?L(At):"for"==t?L(F("form"),Lt,P,W):"class"==t||s&&"interface"==e?(_.marked="keyword",L(F("form"),Dt,W)):"variable"==t?s&&"declare"==e?(_.marked="keyword",L(P)):s&&("module"==e||"enum"==e||"type"==e)&&_.stream.match(/^\s*\w/,!1)?(_.marked="keyword","enum"==e?L(Vt):"type"==e?L(ct,H("operator"),ct,H(";")):L(F("form"),wt,H("{"),F("}"),at,W,W)):s&&"namespace"==e?(_.marked="keyword",L(F("form"),z,at,W)):s&&"abstract"==e?(_.marked="keyword",L(P)):L(F("stat"),$):"switch"==t?L(F("form"),j,H("{"),F("}","switch"),D,at,W,W,B):"case"==t?L(z,H(":")):"default"==t?L(H(":")):"catch"==t?L(F("form"),E,I,P,W,B):"export"==t?L(F("stat"),Ht,W):"import"==t?L(F("stat"),It,W):"async"==t?L(P):"@"==e?L(z,P):C(F("stat"),z,H(";"),W)}function I(t){if("("==t)return L(Nt,H(")"))}function z(t,e){return G(t,e,!1)}function R(t,e){return G(t,e,!0)}function j(t){return"("!=t?C():L(F(")"),z,H(")"),W)}function G(t,e,n){if(_.state.fatArrowAt==_.stream.start){var r=n?J:Z;if("("==t)return L(E,F(")"),it(Nt,")"),W,H("=>"),r,B);if("variable"==t)return C(E,wt,H("=>"),r,B)}var i=n?q:V;return b.hasOwnProperty(t)?L(i):"function"==t?L(At,i):"class"==t||s&&"interface"==e?(_.marked="keyword",L(F("form"),Et,W)):"keyword c"==t||"async"==t?L(n?R:z):"("==t?L(F(")"),U,H(")"),W,i):"operator"==t||"spread"==t?L(n?R:z):"["==t?L(F("]"),Ut,W,i):"{"==t?ot(et,"}",null,i):"quasi"==t?C(X,i):"new"==t?L(function(t){return function(e){return"."==e?L(t?Y:Q):"variable"==e&&s?L(pt,t?q:V):C(t?R:z)}}(n)):"import"==t?L(z):L()}function U(t){return t.match(/[;\}\)\],]/)?C():C(z)}function V(t,e){return","==t?L(z):q(t,e,!1)}function q(t,e,n){var r=0==n?V:q,i=0==n?z:R;return"=>"==t?L(E,n?J:Z,B):"operator"==t?/\+\+|--/.test(e)||s&&"!"==e?L(r):s&&"<"==e&&_.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?L(F(">"),it(ct,">"),W,r):"?"==e?L(z,H(":"),i):L(i):"quasi"==t?C(X,r):";"!=t?"("==t?ot(R,")","call",r):"."==t?L(tt,r):"["==t?L(F("]"),U,H("]"),W,r):s&&"as"==e?(_.marked="keyword",L(ct,r)):"regexp"==t?(_.state.lastType=_.marked="operator",_.stream.backUp(_.stream.pos-_.stream.start-1),L(i)):void 0:void 0}function X(t,e){return"quasi"!=t?C():"${"!=e.slice(e.length-2)?L(X):L(z,K)}function K(t){if("}"==t)return _.marked="string-2",_.state.tokenize=m,L(X)}function Z(t){return w(_.stream,_.state),C("{"==t?P:z)}function J(t){return w(_.stream,_.state),C("{"==t?P:R)}function Q(t,e){if("target"==e)return _.marked="keyword",L(V)}function Y(t,e){if("target"==e)return _.marked="keyword",L(q)}function $(t){return":"==t?L(W,P):C(V,H(";"),W)}function tt(t){if("variable"==t)return _.marked="property",L()}function et(t,e){return"async"==t?(_.marked="property",L(et)):"variable"==t||"keyword"==_.style?(_.marked="property","get"==e||"set"==e?L(nt):(s&&_.state.fatArrowAt==_.stream.start&&(n=_.stream.match(/^\s*:\s*/,!1))&&(_.state.fatArrowAt=_.stream.pos+n[0].length),L(rt))):"number"==t||"string"==t?(_.marked=l?"property":_.style+" property",L(rt)):"jsonld-keyword"==t?L(rt):s&&O(e)?(_.marked="keyword",L(et)):"["==t?L(z,lt,H("]"),rt):"spread"==t?L(R,rt):"*"==e?(_.marked="keyword",L(et)):":"==t?C(rt):void 0;var n}function nt(t){return"variable"!=t?C(rt):(_.marked="property",L(At))}function rt(t){return":"==t?L(R):"("==t?C(At):void 0}function it(t,e,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var a=_.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),L(function(n,r){return n==e||r==e?C():C(t)},r)}return i==e||o==e?L():L(H(e))}return function(n,i){return n==e||i==e?L():C(t,r)}}function ot(t,e,n){for(var r=3;r<arguments.length;r++)_.cc.push(arguments[r]);return L(F(e,n),it(t,e),W)}function at(t){return"}"==t?L():C(P,at)}function lt(t,e){if(s){if(":"==t)return L(ct);if("?"==e)return L(lt)}}function ut(t){if(s&&":"==t)return _.stream.match(/^\s*\w+\s+is\b/,!1)?L(z,st,ct):L(ct)}function st(t,e){if("is"==e)return _.marked="keyword",L()}function ct(t,e){return"keyof"==e||"typeof"==e?(_.marked="keyword",L("keyof"==e?ct:R)):"variable"==t||"void"==e?(_.marked="type",L(gt)):"string"==t||"number"==t||"atom"==t?L(gt):"["==t?L(F("]"),it(ct,"]",","),W,gt):"{"==t?L(F("}"),it(ht,"}",",;"),W,gt):"("==t?L(it(dt,")"),ft):"<"==t?L(it(ct,">"),ct):void 0}function ft(t){if("=>"==t)return L(ct)}function ht(t,e){return"variable"==t||"keyword"==_.style?(_.marked="property",L(ht)):"?"==e?L(ht):":"==t?L(ct):"["==t?L(z,lt,H("]"),ht):void 0}function dt(t,e){return"variable"==t&&_.stream.match(/^\s*[?:]/,!1)||"?"==e?L(dt):":"==t?L(ct):C(ct)}function gt(t,e){return"<"==e?L(F(">"),it(ct,">"),W,gt):"|"==e||"."==t||"&"==e?L(ct):"["==t?L(H("]"),gt):"extends"==e||"implements"==e?(_.marked="keyword",L(ct)):void 0}function pt(t,e){if("<"==e)return L(F(">"),it(ct,">"),W,gt)}function vt(){return C(ct,mt)}function mt(t,e){if("="==e)return L(ct)}function yt(t,e){return"enum"==e?(_.marked="keyword",L(Vt)):C(wt,lt,kt,_t)}function wt(t,e){return s&&O(e)?(_.marked="keyword",L(wt)):"variable"==t?(M(e),L()):"spread"==t?L(wt):"["==t?ot(xt,"]"):"{"==t?ot(bt,"}"):void 0}function bt(t,e){return"variable"!=t||_.stream.match(/^\s*:/,!1)?("variable"==t&&(_.marked="property"),"spread"==t?L(wt):"}"==t?C():"["==t?L(z,H("]"),H(":"),bt):L(H(":"),wt,kt)):(M(e),L(kt))}function xt(){return C(wt,kt)}function kt(t,e){if("="==e)return L(R)}function _t(t){if(","==t)return L(yt)}function Ct(t,e){if("keyword b"==t&&"else"==e)return L(F("form","else"),P,W)}function Lt(t,e){return"await"==e?L(Lt):"("==t?L(F(")"),St,H(")"),W):void 0}function St(t){return"var"==t?L(yt,H(";"),Ot):";"==t?L(Ot):"variable"==t?L(Mt):C(z,H(";"),Ot)}function Mt(t,e){return"in"==e||"of"==e?(_.marked="keyword",L(z)):L(V,Ot)}function Ot(t,e){return";"==t?L(Tt):"in"==e||"of"==e?(_.marked="keyword",L(z)):C(z,H(";"),Tt)}function Tt(t){")"!=t&&L(z)}function At(t,e){return"*"==e?(_.marked="keyword",L(At)):"variable"==t?(M(e),L(At)):"("==t?L(E,F(")"),it(Nt,")"),W,ut,P,B):s&&"<"==e?L(F(">"),it(vt,">"),W,At):void 0}function Nt(t,e){return"@"==e&&L(z,Nt),"spread"==t?L(Nt):s&&O(e)?(_.marked="keyword",L(Nt)):C(wt,lt,kt)}function Et(t,e){return"variable"==t?Dt(t,e):Bt(t,e)}function Dt(t,e){if("variable"==t)return M(e),L(Bt)}function Bt(t,e){return"<"==e?L(F(">"),it(vt,">"),W,Bt):"extends"==e||"implements"==e||s&&","==t?("implements"==e&&(_.marked="keyword"),L(s?ct:z,Bt)):"{"==t?L(F("}"),Ft,W):void 0}function Ft(t,e){return"async"==t||"variable"==t&&("static"==e||"get"==e||"set"==e||s&&O(e))&&_.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(_.marked="keyword",L(Ft)):"variable"==t||"keyword"==_.style?(_.marked="property",L(s?Wt:At,Ft)):"["==t?L(z,lt,H("]"),s?Wt:At,Ft):"*"==e?(_.marked="keyword",L(Ft)):";"==t?L(Ft):"}"==t?L():"@"==e?L(z,Ft):void 0}function Wt(t,e){return"?"==e?L(Wt):":"==t?L(ct,kt):"="==e?L(R):C(At)}function Ht(t,e){return"*"==e?(_.marked="keyword",L(Gt,H(";"))):"default"==e?(_.marked="keyword",L(z,H(";"))):"{"==t?L(it(Pt,"}"),Gt,H(";")):C(P)}function Pt(t,e){return"as"==e?(_.marked="keyword",L(H("variable"))):"variable"==t?C(R,Pt):void 0}function It(t){return"string"==t?L():"("==t?C(z):C(zt,Rt,Gt)}function zt(t,e){return"{"==t?ot(zt,"}"):("variable"==t&&M(e),"*"==e&&(_.marked="keyword"),L(jt))}function Rt(t){if(","==t)return L(zt,Rt)}function jt(t,e){if("as"==e)return _.marked="keyword",L(zt)}function Gt(t,e){if("from"==e)return _.marked="keyword",L(z)}function Ut(t){return"]"==t?L():C(it(R,"]"))}function Vt(){return C(F("form"),wt,H("{"),F("}"),it(qt,"}"),W,W)}function qt(){return C(wt,kt)}function Xt(t,e,n){return e.tokenize==p&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(e.lastType)||"quasi"==e.lastType&&/\{\s*$/.test(t.string.slice(0,t.pos-(n||0)))}return B.lex=!0,W.lex=!0,{startState:function(t){var e={tokenize:p,lastType:"sof",cc:[],lexical:new x((t||0)-o,0,"block",!1),localVars:n.localVars,context:n.localVars&&new T(null,null,!1),indented:t||0};return n.globalVars&&"object"==typeof n.globalVars&&(e.globalVars=n.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),w(t,e)),e.tokenize!=v&&t.eatSpace())return null;var n=e.tokenize(t,e);return"comment"==r?n:(e.lastType="operator"!=r||"++"!=i&&"--"!=i?r:"incdec",function(t,e,n,r,i){var o=t.cc;for(_.state=t,_.stream=i,_.marked=null,_.cc=o,_.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var a=o.length?o.pop():u?z:P;if(a(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return _.marked?_.marked:"variable"==n&&k(t,r)?"variable-2":e}}}(e,n,r,i,t))},indent:function(e,r){if(e.tokenize==v)return t.Pass;if(e.tokenize!=p)return 0;var i,l=r&&r.charAt(0),u=e.lexical;if(!/^\s*else\b/.test(r))for(var s=e.cc.length-1;s>=0;--s){var c=e.cc[s];if(c==W)u=u.prev;else if(c!=Ct)break}for(;("stat"==u.type||"form"==u.type)&&("}"==l||(i=e.cc[e.cc.length-1])&&(i==V||i==q)&&!/^[,\.=+\-*:?[\(]/.test(r));)u=u.prev;a&&")"==u.type&&"stat"==u.prev.type&&(u=u.prev);var f=u.type,d=l==f;return"vardef"==f?u.indented+("operator"==e.lastType||","==e.lastType?u.info.length+1:0):"form"==f&&"{"==l?u.indented:"form"==f?u.indented+o:"stat"==f?u.indented+(function(t,e){return"operator"==t.lastType||","==t.lastType||h.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}(e,r)?a||o:0):"switch"!=u.info||d||0==n.doubleIndentSwitch?u.align?u.column+(d?0:1):u.indented+(d?0:o):u.indented+(/^(?:case|default)\b/.test(r)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:u?null:"/*",blockCommentEnd:u?null:"*/",blockCommentContinue:u?null:" * ",lineComment:u?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:u?"json":"javascript",jsonldMode:l,jsonMode:u,expressionAllowed:Xt,skipExpression:function(t){var e=t.cc[t.cc.length-1];e!=z&&e!=R||t.cc.pop()}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(n(0))},function(t,e){"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("service-worker.js").then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){switch(e.state){case"installed":navigator.serviceWorker.controller?console.log("New or updated content is available."):console.log("Content is now available offline!");break;case"redundant":console.error("The installing service worker became redundant.")}}}}).catch(function(t){console.error("Error during service worker registration:",t)})})}]);